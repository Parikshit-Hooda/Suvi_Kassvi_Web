var bablic=window.bablic||window._bab||{};!function(){function getLocaleByURL(a,b,c,d,e,f,g,h,i,j,k){switch(b){case"querystring":if(a.query&&"object"==typeof a.query)return a.query.locale;var l=/locale=([^&]+)/.exec(a.query||"");return l&&2==l.length&&l[1]?l[1]:d||f||e;case"subdomain":var m=g?SUB_DOMAIN_PIPE_REGEX:SUB_DOMAIN_REGEX,l=m.exec(a.hostname);return l&&l.length>1&&l[1]?l[1]:e;case"subdir":var n=a.pathname;i&&(n=n.replace(i,""));var o=SUB_DIR.exec(n);return o?j&&k&&j[o[2]]?getLocaleFromFolder(j[o[2]],k)||e:o[2]:h?h:d?d:f||e;case"tld":var l=/\.(\w\w)$/.exec(a.hostname);return l&&l.length>1&&l[1]?l[1]:null;case"custom":var p=function(a){return RegExp((a+"").replace(/([.?+^$[\]\\(){}|-])/g,"\\$1").replace(/\*/g,".*"),"i")};for(var q in c){var r=c[q];if(r&&p(r).test(a.href))return q}return h||e;case"hash":var l=/^#!locale=(\w\w(?:_\w\w)?)$/.exec(a.hash||"");return l&&l.length>1&&l[1]?l[1]:d||f||e;default:return d}}function getPackageFromPath(a,b){if(!a)return 0;for(var c in a)if(a[c].indexOf(b)>-1)return Number(c);var d=0,e=0;for(var c in a){for(var f=a[c],g=0,h=f.length-1;h>=0;h--)if(0==b.indexOf(f[h])){g=f[h].length;break}g&&g>d&&(d=g,e=Number(c))}return e}function getOtherDomain(a,b){if(!b||!b.length)return"";var c=b.indexOf(a);if(c>-1)return c+1+"";var d=a.replace("www.","");if(d!=a){var c=b.indexOf(d);if(c>-1)return c+1+""}return""}function getSubDomain(a,b,c,d){if(!(d&&d.length&&b&&a))return"";b=b.replace(/\/.*$/,"");var e=c?RegExp("(^|\\.)("+c.join("|")+")\\.","i"):RegExp("(^|\\.)(\\w\\w(?:_\\w\\w)?)\\.","i"),f=a.replace(e,"$1").replace(IGNORE_SUBS,""),g=b.replace(IGNORE_SUBS,""),h=f.replace("."+g,"").replace(g,"");d=d.slice().sort(function(a,b){return b.length-a.length});for(var i=0;i<d.length;i++)if(h.indexOf(d[i])>-1)return d[i];return""}function getLocaleFromFolder(a,b){var c=b.indexOf(a);if(c>-1)return b[c];a=a.substr(0,2);for(var d=0;d<b.length;d++)if(b[d].substr(0,2)==a)return b[d];return""}function normalizePath(a,b,c,d,e,f,g,h,i,j,k){if(e)return"*";var l=EXTRACT_SUB.exec(a);l&&(a=a.replace(EXTRACT_SUB,""));var m=l?"@"+l[1].toUpperCase()+"@":"";a=a.toLowerCase();var n=a.split("#"),o=d?"#"+n[1]:"",p=n[0];n=p.split("?");var q=n[0],r=n[1];i&&(q=q.replace(i,""));var s=SUB_DIR.exec(q);if(s&&(f.indexOf(s[2])>-1||j&&j[s[2]])&&(q=q.substr(s[1].length)),k||"/"==q[q.length-1]||/\/.*?\.[^\/]*$/.test(q)||(q+="/"),k||""!==q||(q="/"),c&&g&&g.length&&r){for(var t=r.split("&"),u=[],v=0;v<t.length;v++){var w=t[v].split("=");"locale"!=w[0]&&u.push([decodeURIComponent(w[0]),w[1]&&decodeURIComponent(w[1])])}u=u.filter(function(a){return g&&g.indexOf(a[0])>-1}),u.sort(function(a,b){return a[0]==b[0]?0:a[0]>b[0]?1:-1}),r="?"+u.map(function(a){return encodeURIComponent(a[0])+"="+encodeURIComponent(a[1])}).join("&")}else r="";return m+q+r+o}function isPageExcluded(a,b,c,d){var e=getExcludedPath(a,b),f=getExcludedPath(a,c),g=d?getExcludedPath(a,d.excludePages):0,h=d?getExcludedPath(a,d.includePages):0,i=e>g?e:g,j=f>h?f:h;return i>j}function getExcludedPath(a,b){if(!b||!b.indexOf)return 0;for(var c=0;c<b.length;c++)if(NOT_FOLDER_REGEX.test(b[c])){if(b[c]==a)return 9999999999}else if(0==a.indexOf(b[c]+"/"))return b[c].length+1;return 0}function isPathFolder(a){return!NOT_FOLDER_REGEX.test(a)}function encodeObject(a,b){if(null===b||void 0===b)return 0;if(null===a)return b;if("object"!=typeof a){var c=BEnumRegex.exec(a);if(c){var d=JSON.parse(c[1]);for(var e in d)if(d[e]==b)return Number(e);return 0}return"Boolean"==a?b?1:0:b}if("__obj__"==a[0]){for(var f=[],g=1;g<a.length;g++){var h=a[g];f.push(encodeObject(h[1],b[h[0]]))}return f}for(var i=[],j=0;j<b.length;j++)i.push(encodeObject(a[0],b[j]));return i}function decodeObject(a,b){if(0===b&&"Number"!=a&&(b=null),null===a)return b;if("object"!=typeof a){var c=BEnumRegex.exec(a);if(c){var d=JSON.parse(c[1]);return d[b]||d[0]}return"Boolean"===a?!!b:b}if(!b)return{};var e;if("__obj__"==a[0]){e={};for(var f=1;f<a.length;f++){var g=a[f];e[g[0]]=decodeObject(g[1],b[f-1])}return e}e=[];for(var h=0;h<b.length;h++)e[h]=decodeObject(a[0],b[h]);return e}function encodeWithVersion(a,b,c){var d=encodeObject(b,a);return d.push(["_v",c]),d}function decodeWithVersion(a,b,c){var d=a[a.length-1];if("_v"!=d[0])return null;if(d[1]!=c)return null;a.pop();var e=decodeObject(b,a);return a.push(d),e}function getSelectedSource(a,b,c){for(var d=b.trim().split(/\s*,\s*/).map(function(a,b){return a.split(/\s+/)}),e=-1,f=0;f<d.length;f++)if(d[f][0]==a){e=f;break}if(0>e)return null;var g=c.trim().split(/\s*,\s+/).map(function(a,b){return a.split(/\s+/)})[e];return g?g[0]:null}function cleanSrc(a,b,c){if(a&&"none"!=a){WIN.BABLIC_RESTORE?a=BABLIC_RESTORE(a):WIN.BABLIC_R&&(a=a.replace(BABLIC_R,BABLIC_V));var d=a.replace(/^(?:https?:)?\/\//i,"");if(LDATA.conf&&LDATA.conf.iq||(d=d.split("?")[0]),BLANK_REGEX.test(d))return null;if(d.indexOf("uploads.bablic.com")>-1&&LDATA.content)for(var e in LDATA.content)if("3"==e[0]&&"__empty__"!=LDATA.content[e]){var f=replacedImages[e.substr(2)];if(f){var g=LDATA.content[e].split(/\/|\./),h=g[g.length-2],i=RegExp("(?:\\/\\/)?uploads.bablic.com\\/uploads\\/"+bablic.Site+"\\/"+h+"(.*?)\\.png","i");if(i.test(d)){g=f.split(".");var j=g.pop(),k=g.join(".")+"$1."+j;d=d.replace(i,k),a=a.replace(i,k),c&&(c.value=c.value.replace(i,k));break}}}var l=d;if(d.indexOf(LOC.hostname)>-1)d=d.replace(LOC.hostname,"");else if(WIN.BABLIC_RESTORE){var m=BABLIC_RESTORE(LOC.hostname);d.indexOf(m)>-1&&(d=d.replace(m,""))}var n=[];if(d!=l&&n.push(bablicHash(l)),CLOUDINARY_REGEX.test(a)){var g=d.split("/");g[4].indexOf("_")>-1&&g.length>5&&(g.splice(4,1),n.push(bablicHash(d)),d=g.join("/"))}return c&&"srcset"==c.nodeName.toLowerCase()&&(d+="#srcset",a+="#srcset"),a=parseURL(a).href,{id:bablicHash(d),content:a,m:b,bc:n}}return null}function isInDomain(a){if(!a)return!1;if(a.indexOf("bablic.com")>-1)return!0;var b;if(LDATA.domains&&LDATA.domains.length)b=LDATA.domains;else{var c=LOC.hostname.split(".");b=[c.slice(c.length-2).join(".")]}for(var d=0;d<b.length;d++)if(b[d]){var e=a.lastIndexOf(b[d]);if(e>-1||e==a.length-b[d].length)return!0}if(LDATA.mountSubs)for(var d=0;d<LDATA.mountSubs.length;d++)if(LDATA.mountSubs[d]){var e=a.lastIndexOf(LDATA.mountSubs[d]);if(e>-1||e==a.length-LDATA.mountSubs[d].length)return!0}return!1}function parseURL(a){var b=DOC.createElement("div");b.innerHTML="<a></a>",b.firstChild.href=a,b.innerHTML=b.innerHTML;var c=b.firstChild;return{protocol:c.protocol||LOC.protocol,href:c.href,pathname:"/"==c.pathname[0]?c.pathname:"/"+c.pathname,hostname:c.hostname||LOC.hostname,query:c.search||"",search:c.search||"",hash:c.hash||""}}function escapeRegex(a){return(a+"").replace(/([.*?+^$[\]\\/(){}|-])/g,"\\$1")}function getFolder(a,b){for(var c in b)if(b[c]==a)return c;a=a.substr(0,2);for(var c in b)if(b[c].substr(0,2)==a)return c;return a}if(!bablic.ignoreAll)if(bablic.Mutation){bablic.isActivated=!0,console.log("Bablic already loaded");try{if(top!=window&&parent.editor&&parent.editor.snippetDetected)parent.editor.snippetDetected();else if(bablic.preview)var interval=setInterval(function(){for(var a,b=0;b<window.frames.length;b++){var c=window.frames[b];try{if(c&&c.editor&&c.editor.snippetDetected){a=c;break}}catch(d){}}a&&(clearInterval(interval),a.editor.snippetDetected())},300)}catch(e){}}else{var WIN=window,HAS_LOCAL_STORAGE=!!window.localStorage,TOP=WIN,EDITOR,PARENT=parent;try{TOP=WIN.top,WIN.parent.bablic&&(PARENT=WIN.parent),EDITOR=TOP.editor}catch(e){}var DOC=document,LOC=location,PROXY=bablic.proxy=/pipe(\.staging)?\.bablic\.com$/.test(LOC.hostname),strundefined="undefined";if(PROXY&&"bablic.com"!=document.domain)try{document.domain="bablic.com"}catch(e){}try{DOC.getElementById("BABLIC_CHECK")&&(bablic.preview=!0),top&&top!=window&&top.editor&&(bablic.preview=!0)}catch(e){}window.bablic=window.bablic||{};var Modernizr;!function(){var a=window.Modernizr;!function(a,b,c){function d(a,b){return typeof a===b}function e(){var a,b,c,e,f,g,h;for(var i in r)if(r.hasOwnProperty(i)){if(a=[],b=r[i],b.name&&(a.push(b.name.toLowerCase()),b.options&&b.options.aliases&&b.options.aliases.length))for(c=0;c<b.options.aliases.length;c++)a.push(b.options.aliases[c].toLowerCase());for(e=d(b.fn,"function")?b.fn():b.fn,f=0;f<a.length;f++)g=a[f],h=g.split("."),1===h.length?t[h[0]]=e:(!t[h[0]]||t[h[0]]instanceof Boolean||(t[h[0]]=new Boolean(t[h[0]])),t[h[0]][h[1]]=e),v.push((e?"":"no-")+h.join("-"))}}function f(a){return a.replace(/([a-z])-([a-z])/g,function(a,b,c){return b+c.toUpperCase()}).replace(/^-/,"")}function g(){return"function"!=typeof b.createElement?b.createElement(arguments[0]):B?b.createElementNS.call(b,"http://www.w3.org/2000/svg",arguments[0]):b.createElement.apply(b,arguments)}function h(a,b){return!!~(""+a).indexOf(b)}function i(a,b){return function(){return a.apply(b,arguments)}}function j(a,b,c){var e;for(var f in a)if(a[f]in b)return c===!1?a[f]:(e=b[a[f]],d(e,"function")?i(e,c||b):e);return!1}function k(){var a=b.body;return a||(a=g(B?"svg":"body"),a.fake=!0),a}function l(a,c,d,e){var f,h,i,j,l="modernizr",m=g("div"),n=k();if(parseInt(d,10))for(;d--;)i=g("div"),i.id=e?e[d]:l+(d+1),m.appendChild(i);return f=g("style"),f.type="text/css",f.id="s"+l,(n.fake?n:m).appendChild(f),n.appendChild(m),f.styleSheet?f.styleSheet.cssText=a:f.appendChild(b.createTextNode(a)),m.id=l,n.fake&&(n.style.background="",n.style.overflow="hidden",j=A.style.overflow,A.style.overflow="hidden",A.appendChild(n)),h=c(m,a),n.fake?(n.parentNode.removeChild(n),A.style.overflow=j,A.offsetHeight):m.parentNode.removeChild(m),!!h}function m(a){return a.replace(/([A-Z])/g,function(a,b){return"-"+b.toLowerCase()}).replace(/^ms-/,"-ms-")}function n(b,d){var e=b.length;if("CSS"in a&&"supports"in a.CSS){for(;e--;)if(a.CSS.supports(m(b[e]),d))return!0;return!1}if("CSSSupportsRule"in a){for(var f=[];e--;)f.push("("+m(b[e])+":"+d+")");return f=f.join(" or "),l("@supports ("+f+") { #modernizr { position: absolute; } }",function(a){return"absolute"==getComputedStyle(a,null).position})}return c}function o(a,b,e,i){function j(){l&&(delete I.style,delete I.modElem)}if(i=d(i,"undefined")?!1:i,!d(e,"undefined")){var k=n(a,e);if(!d(k,"undefined"))return k}for(var l,m,o,p,q,r=["modernizr","tspan","samp"];!I.style&&r.length;)l=!0,I.modElem=g(r.shift()),I.style=I.modElem.style;for(o=a.length,m=0;o>m;m++)if(p=a[m],q=I.style[p],h(p,"-")&&(p=f(p)),I.style[p]!==c){if(i||d(e,"undefined"))return j(),"pfx"==b?p:!0;try{I.style[p]=e}catch(s){}if(I.style[p]!=q)return j(),"pfx"==b?p:!0}return j(),!1}function p(a,b,c,e,f){var g=a.charAt(0).toUpperCase()+a.slice(1),h=(a+" "+y.join(g+" ")+g).split(" ");return d(b,"string")||d(b,"undefined")?o(h,b,e,f):(h=(a+" "+x.join(g+" ")+g).split(" "),j(h,b,c))}function q(a,b,d){return p(a,c,c,b,d)}var r=[],s={_version:"3.3.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(a,b){var c=this;setTimeout(function(){b(c[a])},0)},addTest:function(a,b,c){r.push({name:a,fn:b,options:c})},addAsyncTest:function(a){r.push({name:null,fn:a})}},t=function(){};t.prototype=s,t=new t,t.addTest("localstorage",function(){var a="modernizr";try{return localStorage.setItem(a,a),localStorage.removeItem(a),!0}catch(b){return!1}});var u=s._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];s._prefixes=u;var v=[],w="Moz O ms Webkit",x=s._config.usePrefixes?w.toLowerCase().split(" "):[];s._domPrefixes=x;var y=s._config.usePrefixes?w.split(" "):[];s._cssomPrefixes=y;var z=function(b){var d,e=u.length,f=a.CSSRule;if("undefined"==typeof f)return c;if(!b)return!1;if(b=b.replace(/^@/,""),d=b.replace(/-/g,"_").toUpperCase()+"_RULE",d in f)return"@"+b;for(var g=0;e>g;g++){var h=u[g],i=h.toUpperCase()+"_"+d;if(i in f)return"@-"+h.toLowerCase()+"-"+b}return!1};s.atRule=z;var A=b.documentElement,B="svg"===A.nodeName.toLowerCase(),C=function(){function a(a,b){var e;return a?(b&&"string"!=typeof b||(b=g(b||"div")),a="on"+a,e=a in b,!e&&d&&(b.setAttribute||(b=g("div")),b.setAttribute(a,""),e="function"==typeof b[a],b[a]!==c&&(b[a]=c),b.removeAttribute(a)),e):!1}var d=!("onblur"in b.documentElement);return a}();s.hasEvent=C;var D=g("input"),E="autocomplete autofocus list placeholder max min multiple pattern required step".split(" "),F={};t.input=function(b){for(var c=0,d=b.length;d>c;c++)F[b[c]]=!!(b[c]in D);return F.list&&(F.list=!(!g("datalist")||!a.HTMLDataListElement)),F}(E);var G=s.testStyles=l;t.addTest("touchevents",function(){var c;if("ontouchstart"in a||a.DocumentTouch&&b instanceof DocumentTouch)c=!0;else{var d=["@media (",u.join("touch-enabled),("),"heartz",")","{#modernizr{top:9px;position:absolute}}"].join("");G(d,function(a){c=9===a.offsetTop})}return c});var H={elem:g("modernizr")};t._q.push(function(){delete H.elem});var I={style:H.elem.style};t._q.unshift(function(){delete I.style}),s.testAllProps=p,s.testAllProps=q,t.addTest("cssanimations",q("animationName","a",!0)),t.addTest("csstransforms",function(){return-1===navigator.userAgent.indexOf("Android 2.")&&q("transform","scale(1)",!0)}),t.addTest("csstransitions",q("transition","all",!0));var J,K=s.prefixed=function(a,b,c){return 0===a.indexOf("@")?z(a):(-1!=a.indexOf("-")&&(a=f(a)),b?p(a,b,c):p(a,"pfx"))};try{J=K("indexedDB",a)}catch(L){}t.addTest("indexeddb",!!J),J&&t.addTest("indexeddb.deletedatabase","deleteDatabase"in J),e(),delete s.addTest,delete s.addAsyncTest;for(var M=0;M<t._q.length;M++)t._q[M]();a.Modernizr=t}(window,document),Modernizr=bablic.Modernizr=window.Modernizr,window.Modernizr=a}();var d=DOC,$;!function(){function a(a){return a.element?"number"==typeof a.element.length?a.element[0]:a.element:null}function b(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=y.length;e--;)if(b=y[e]+c,b in a)return b;return d}d.contains||(d.contains=function(a){do{if("HTML"==a.tagName)return!0;a=a.parentNode}while(a);return!1});var c,e=function(){},f=typeof HTMLCollection==strundefined?e:HTMLCollection,g=typeof NodeList==strundefined?e:NodeList;c=function(a,b){if(!(this instanceof c))return new c(a,b);if(a){var e;if("string"==typeof a)e="<"==a[0]?k(a):(b||d).querySelectorAll(a);else{if(a instanceof c)return a;a===WIN||a.self&&a.self==a?e=[a]:a.nodeType?e=[a]:(Array.isArray(a)||a instanceof f||"HTMLCollection"==a.constructor.name||a instanceof g||a===d||"number"==typeof a.length)&&(e=a)}this.element=e}};var h=/^\s+/,i=/\s+$/,j=function(a){return a.trim?a.trim():a.replace(h,"").replace(i,"")};String.prototype.trim||(String.prototype.trim=function(){return this.replace(h,"").replace(i,"")});var k=function(a){return l.innerHTML=j(a),l.childNodes[0]},l=d.createElement("div"),m=function(a,b){for(var c in b)a[c]=b[c]};c.extend=function(a,b){for(var c=1;c<arguments.length;c++)m(a,arguments[c]);return a},c.each=function(a,b){if("undefined"!=typeof a.length)for(var c=0;c<a.length;c++)b(c,a[c]);else for(var d in a)b(d,a[d]);return a},c.map=function(a,b){var c=new Array;if("undefined"!=typeof a.length)for(var d=0;d<a.length;d++){var e=b(a[d],d);null!==e&&(Array.isArray(e)?Array.prototype.push.apply(c,e):c.push(e))}else for(var f in a)c.push(b(a[f],f));return c},c.grep=function(a,b){for(var c=new Array,d=0;d<a.length;d++)b(a[d])&&c.push(a[d]);return c},c.isEmptyObject=function(a){return!a||0==Object.keys(a).length},c.isArray=function(a){return Array.isArray(a)},c.byTag=function(a,b){return new c((b||d).getElementsByTagName(a))},c.byId=function(a,b){return new c((b||d).getElementById(a))},c.byClass=function(a,b){return new c("."+a,b)},c.makeArray=function(a){return Array.prototype.slice.apply(a,[])},c.inArray=function(a,b){if(b.indexOf)return b.indexOf(a);for(var c=0;c<b.length;c++)if(b[c]===a)return c;return-1},c.trim=j;var n=/^-ms-/,o=/-([\da-z])/gi,p=function(a,b){return b.toUpperCase()};c.camelCase=function(a){return a.replace(n,"ms-").replace(o,p)},c.window={width:function(){return WIN.innerWidth},height:function(){return WIN.innerHeight}};var q=d.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===strundefined&&(a[d]=null),a.detachEvent(d,c))},r=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=r(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d++];)c+=r(b);return c};c.prototype.length=function(){return this.element?"number"==typeof this.element.length?this.element.length:this.element?1:0:0},c.prototype.parent=function(){var b=a(this);if(!b)return new c;var d=b.parentElement;return new c(d)},c.prototype.hasParent=function(b){var c=a(this);if(!c)return!1;for(;c.parentNode;){if(s(c.parentNode,b))return!0;c=c.parentNode}return!1},c.prototype.parents=function(b){var c=[],d=a(this);if(!d)return c;for(;d.parentNode;)(!b||s(d.parentNode,b))&&c.push(d.parentNode),d=d.parentNode;return c},c.prototype.children=function(a){var b=[];return this.each(function(){var d=c.grep(this.childNodes,function(b){return 1==b.nodeType&&(!a||new c(b).is(a))});b=b.concat(d)}),new c(b)},c.prototype.filter=function(a){var b=[];return this.each(function(){s(this,a)&&b.push(this)}),new c(b)},c.prototype.attr=function(b,c){if(typeof c==strundefined){var d=a(this);return d?d.getAttribute(b):""}return this.each(function(){""===c?this.removeAttribute(b):this.setAttribute(b,c===!0?"":c)}),this},c.prototype.get=function(a){return"number"==typeof this.element.length?this.element[a]:this.element},c.prototype.html=function(b){var c=a(this);return c?typeof b==strundefined?c.innerHTML:(c.innerHTML=b,this):this},c.prototype.each=function(a){if(!this.element)return this;if("number"==typeof this.element.length)for(var b=0;b<this.element.length;b++)a.apply(this.element[b],[b]);else a.apply(this.element,[0]);return this},c.prototype.remove=function(){return this.each(function(){this.parentNode&&this.parentNode.removeChild(this)}),this},c.prototype.appendTo=function(b){var d=new c(b),e=a(d);return e?(this.each(function(){e.appendChild(this)}),this):this},c.prototype.insertBefore=function(b){var d=new c(b),e=a(d);if(!e)return this;var f=e.parentNode;return f?(this.each(function(){f.insertBefore(this,e)}),this):this},c.prototype.append=function(b){var d=new c(b),e=a(d);if(!e)return this;var f=a(this);return f?(f.appendChild(e),this):this},c.prototype.on=function(a,b){return this.each(function(){this.addEventListener?this.addEventListener(a,b,!1):this.attachEvent&&this.attachEvent("on"+a,b)}),this},c.prototype.once=function(a,b){return this.each(function(){var c=function(d){return q(this,a,c),b.apply(this,arguments)};this.addEventListener?this.addEventListener(a,c,!1):this.attachEvent&&this.attachEvent("on"+a,c)}),this},c.prototype.off=function(a,b){return this.each(function(){q(this,a,b)}),this},c.prototype.width=function(){var b=a(this);return b?b.clientWidth:0},c.prototype.height=function(){var b=a(this);return b?b.clientHeight:0},c.prototype.is=function(b){var c=a(this);return c?s(c,b):!1};var s=function(a,b){return a.matches=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector,a.matches?a.matches(b):!1};c.prototype.toArray=function(){return this.element?"number"==typeof this.element.length?Array.isArray(this.element)?this.element:c.makeArray(this.element):[this.element]:[]},c.prototype.addClass=function(a){return this.each(function(){var b=this.className||"";"string"!=typeof b&&(b=b.baseVal);for(var c=b.split(" "),d={},e=0;e<c.length;e++){var f=j(c[e]);f&&(d[f]=!0)}d[a]=!0,this.className=Object.keys(d).join(" ")}),this},c.prototype.removeClass=function(a){return this.each(function(){var b=this.className||"";"string"!=typeof b&&(b=b.baseVal);for(var c=b.split(" "),d={},e=0;e<c.length;e++){var f=j(c[e]);d[f]=!0}delete d[a],this.className=Object.keys(d).join(" ")}),this};var t,u,v=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,w=(new RegExp("^("+v+")(.*)$","i"),new RegExp("^([+-])=("+v+")","i")),x={letterSpacing:"0",fontWeight:"400"},y=["Webkit","O","Moz","ms"],z=/^(top|right|bottom|left)$/,A=/^margin/,B=new RegExp("^("+v+")(?!px)[a-z%]+$","i");WIN.getComputedStyle?(t=function(a){return a.ownerDocument.defaultView.opener?a.ownerDocument.defaultView.getComputedStyle(a,null):bablic.getStyle?bablic.getStyle.call(WIN,a,null):WIN.getComputedStyle(a,null)},u=function(a,b,d){var e,f,g,h,i=a.style;return d=d||t(a),h=d?(d._getProp?d._getProp(b):d.getPropertyValue(b))||d[b]:void 0,d&&(""===h&&(h=c.style(a,b)),B.test(h)&&A.test(b)&&(e=i.width,f=i.minWidth,g=i.maxWidth,i.minWidth=i.maxWidth=i.width=h,h=d.width,i.width=e,i.minWidth=f,i.maxWidth=g)),void 0===h?h:h+""}):d.documentElement.currentStyle&&(t=function(a){return a.currentStyle},u=function(a,b,c){var d,e,f,g,h=a.style;return c=c||t(a),g=c?c[b]:void 0,null==g&&h&&h[b]&&(g=h[b]),B.test(g)&&!z.test(b)&&(d=h.left,e=a.runtimeStyle,f=e&&e.left,f&&(e.left=a.currentStyle.left),h.left="fontSize"===b?"1em":g,g=h.pixelLeft+"px",h.left=d,f&&(e.left=f)),void 0===g?g:g+""||"auto"}),m(c,{cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(a,d,e,f){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var g,h,i=c.camelCase(d),j=a.style;return d=c.cssProps[i]||(c.cssProps[i]=b(j,i)),void 0===e?j[d]:(h=typeof e,"string"===h&&(g=w.exec(e))&&(e=(g[1]+1)*g[2]+parseFloat(c.css(a,d)),h="number"),null!=e&&e===e&&("number"!==h||c.cssNumber[i]||(e+="px"),""===e&&0===d.indexOf("background")&&(j[d]="inherit"),j[d]=e),void 0)}},css:function(a,d,e,f){var g,h,i=c.camelCase(d);return d=c.cssProps[i]||(c.cssProps[i]=b(a.style,i)),void 0===h&&(h=u(a,d,f)),"normal"===h&&d in x&&(h=x[d]),""===e||e?(g=parseFloat(h),e===!0||c.isNumeric(g)?g||0:h):h}}),c.prototype.css=function(b,d){if(void 0===d){var e=a(this);return e?c.css(e,b):null}return this.each(function(){c.style(this,b,d)}),this},c.prototype.hide=function(){return this.css("display","none")},c.prototype.show=function(){return this.css("display","block")},c.prototype.text=function(b){if(typeof b==strundefined){var c=a(this);return c?r(c):""}return this.each(function(){for(;this.firstChild;)this.removeChild(this.firstChild);var a=DOC.createTextNode(b);this.appendChild(a)}),this},$=c,bablic.$=$}();var SUB_DOMAIN_PIPE_REGEX=/(?:^|_)(\w\w(?:_\w\w)?)_(?:b\-[mt]\-)?[0-9a-f]{24,25}_pipe/i,SUB_DOMAIN_REGEX=/^(?:www\.)?(\w\w(?:_\w\w)?)\./i,IGNORE_SUBS=/\b(www|test|dev|local|staging)\./,SUB_DIR=/^(\/(\w\w(_\w\w)?))(?:\/|$)/,EXTRACT_SUB=/^\/?@([^@]+)@/,NOT_FOLDER_REGEX=/(\.[^\/]*|\/)$/,BEnumRegex=/^BEnum\((.*?)\)/;try{("object"==typeof module||"boolean"==typeof ENGINE_PACKAGE)&&(module.exports={getLocaleByURL:getLocaleByURL,normalizePath:normalizePath,getSubDomain:getSubDomain,getOtherDomain:getOtherDomain,encodeObject:encodeObject,encodeWithVersion:encodeWithVersion,decodeObject:decodeObject,decodeWithVersion:decodeWithVersion,getPackageFromPath:getPackageFromPath,isPageExcluded:isPageExcluded,isPathFolder:isPathFolder})}catch(e){console.error(e)}var decodeConf,encodeConf,encodePing,decodeSnippetData;!function(){var a=["__obj__",["timestamp","Number"],["orig","String"],["localeDetection",'BEnum({"0":"querystring","1":"subdomain","2":"hash","3":"tld","4":"custom","5":"none","6":"subdir"})'],["edit","Boolean"],["fallback","Boolean"],["ajaxWidget","Boolean"],["meta","Boolean"],["alt","Boolean"],["locales",[["__obj__",["legacy","Boolean"],["www","Boolean"],["dir",'BEnum({"0":"ltr","1":"rtl"})'],["url","String"],["key","String"],["name","String"],["flag","String"],["font","String"],["months",["String"]],["dateFormat","String"],["timeFormat","String"],["engines",["Number"]],["excludePages",["String"]],["includePages",["String"]],["iso","String"]]]],["widget",[["__obj__",["show","Boolean"],["embedded","String"],["logo","Boolean"],["size","Number"],["widgetType",'BEnum({"0":"labels","1":"flags","2":"letters","3":"flagsHoriz","4":"lettersHoriz"})'],["expanded","Boolean"],["position",["__obj__",["corner","Number"],["distance","Number"],["unit","String"],["fixed","Boolean"]]],["colors",["String"]],["hideCurrent","Boolean"],["css","String"]]]],["bidi","Boolean"],["exclude","String"],["include","String"],["markup",null],["includeQueryString","Boolean"],["includeHash","Boolean"],["singlePageApp","Boolean"],["domain","String"],["mountSubs",["String"]],["packages",null],["excludePages",["String"]],["includePages",["String"]],["domains",["String"]],["mbd","Boolean"],["j","String"]],b=1.2,c=["__obj__",["timestamp","Number"],["snippetTimestamp","Number"],["error","String"],["locale","String"],["original","String"],["didHide","Boolean"],["confTime","Number"],["translationTime","Number"],["hiddenTime","Number"],["detected","String"],["page","String"],["detectedLocale","String"],["hasLocalStorage","Boolean"],["hasIndexDB","Boolean"],["path","String"],["nonBlocking","Boolean"],["version","Number"],["parseVersion","Number"]],d={1:["__obj__",["timestamp","Number"],["original","String"],["localeKeys",["String"]],["localeDetection",'BEnum({"0":"querystring","1":"subdomain","2":"hash","3":"tld","4":"custom","5":"none","6":"subdir"})'],["includeQueryString","Boolean"],["includeHash","Boolean"],["singlePageApp","Boolean"],["customUrls",null],["noCDN","Boolean"],["noLocalStorage","Boolean"],["noCookies","Boolean"]],2:["__obj__",["timestamp","Number"],["original","String"],["default","String"],["autoDetect","Boolean"],["localeKeys",["String"]],["localeDetection",'BEnum({"0":"querystring","1":"subdomain","2":"hash","3":"tld","4":"custom","5":"none","6":"subdir"})'],["includeQueryString","Boolean"],["includeHash","Boolean"],["singlePageApp","Boolean"],["customUrls",null],["noCDN","Boolean"],["noLocalStorage","Boolean"],["noCookies","Boolean"],["qsParams",["String"]],["domain","String"],["mountSubs",["String"]]]};if(decodeConf=function(c){return decodeWithVersion(c,a,b)},encodeConf=function(c){return encodeWithVersion(c,a,b)},encodePing=function(a){return encodeObject(c,a)},decodeSnippetData=function(a){if(14==a.length){var b=decodeWithVersion(a,d[2],Number(1));if(b)return b}for(var c in d){var b=decodeWithVersion(a,d[c],Number(c));if(b)return b}return null},window.bablic)for(var e=document.getElementsByTagName("SCRIPT"),f=0;f<e.length;f++){if(!bablic.Site&&e[f].getAttribute("data-bablic")&&(bablic.Site=e[f].getAttribute("data-bablic")),!bablic.data&&e[f].getAttribute("data-bablic-m")){var g=e[f].getAttribute("data-bablic-m");g&&(g=JSON.parse(g.replace(/'/g,'"')),g=decodeSnippetData(g),bablic.data=g)}var h=e[f].getAttribute("src");if(h&&/(cdn2|staging)\.bablic\.com/.test(h)){var i={};if($.each((h.split("?")[1]||"").split("&"),function(a,b){var c=b.split("="),d=decodeURIComponent(c[0]).replace("amp;","");i[d]=decodeURIComponent(c[1])}),i.site&&!bablic.Site&&(bablic.Site=i.site),!bablic.data&&i.meta)try{g=JSON.parse(i.meta.replace(/'/g,'"')),g=decodeSnippetData(g),bablic.data=g}catch(j){bablic.error(j)}}}}(),function(){var a,b=function(){if(!WIN.getComputedStyle)return{};var a=WIN.getComputedStyle(DOC.DOCElement,""),b=(Array.prototype.slice.call(a).join("").match(/-(moz|webkit|ms)-/)||""===a.OLink&&["","o"])[1],c="WebKit|Moz|MS|O".match(new RegExp("("+b+")","i"))[1];return{dom:c,lowercase:b,css:"-"+b+"-",js:b[0].toUpperCase()+b.substr(1)}};bablic.$.prototype.animate=function(c,d,e){return bablic.Modernizr.csstransitions?(this.each(function(){var f=this;f._babStop&&f._babStop();var g=a||(a=b()),h=d.duration||".5s",i=Object.keys(c).map(function(a){return a+" "+h}).join(",");f._babStop=function(){clearTimeout(k),e=null,j()};var j=function(){f.style[g.lowercase+"Transition"]="",f.style.transition="",new Array("transitionEnd",g.lowercase+"TransitionEnd").forEach(function(a){$(f).off(a,j)}),delete f._babStop,e&&e(),e=null};new Array("transitionEnd",g.lowercase+"TransitionEnd").forEach(function(a){$(f).on(a,j)}),f.style[g.lowercase+"Transition"]=i,f.style.transition=i;var k=setTimeout(function(){for(var a in c)f.style[a]=c[a]},0)}),this):setTimeout(e,0)}}();var bablicHash;!function(){function a(a){return btoa(b(c(a||"")))}function b(a){return e(f(d(a),8*a.length))}function c(a){for(var b,c,d="",e=-1;++e<a.length;)b=a.charCodeAt(e),c=e+1<a.length?a.charCodeAt(e+1):0,b>=55296&&56319>=b&&c>=56320&&57343>=c&&(b=65536+((1023&b)<<10)+(1023&c),e++),127>=b?d+=String.fromCharCode(b):2047>=b?d+=String.fromCharCode(192|b>>>6&31,128|63&b):65535>=b?d+=String.fromCharCode(224|b>>>12&15,128|b>>>6&63,128|63&b):2097151>=b&&(d+=String.fromCharCode(240|b>>>18&7,128|b>>>12&63,128|b>>>6&63,128|63&b));return d}function d(a){for(var b=Array(a.length>>2),c=0;c<b.length;c++)b[c]=0;for(var c=0;c<8*a.length;c+=8)b[c>>5]|=(255&a.charCodeAt(c/8))<<24-c%32;return b}function e(a){for(var b="",c=0;c<32*a.length;c+=8)b+=String.fromCharCode(a[c>>5]>>>24-c%32&255);return b}function f(a,b){a[b>>5]|=128<<24-b%32,a[(b+64>>9<<4)+15]=b;for(var c=Array(80),d=1732584193,e=-271733879,f=-1732584194,k=271733878,l=-1009589776,m=0;m<a.length;m+=16){for(var n=d,o=e,p=f,q=k,r=l,s=0;80>s;s++){16>s?c[s]=a[m+s]:c[s]=j(c[s-3]^c[s-8]^c[s-14]^c[s-16],1);var t=i(i(j(d,5),g(s,e,f,k)),i(i(l,c[s]),h(s)));l=k,k=f,f=j(e,30),e=d,d=t}d=i(d,n),e=i(e,o),f=i(f,p),k=i(k,q),l=i(l,r)}return Array(d,e,f,k,l)}function g(a,b,c,d){return 20>a?b&c|~b&d:40>a?b^c^d:60>a?b&c|b&d|c&d:b^c^d}function h(a){return 20>a?1518500249:40>a?1859775393:60>a?-1894007588:-899497514}function i(a,b){var c=(65535&a)+(65535&b),d=(a>>16)+(b>>16)+(c>>16);return d<<16|65535&c}function j(a,b){return a<<b|a>>>32-b}WIN.atob||WIN.btoa||function(a){function b(a,b){var c=a.charCodeAt(b);if(c>255)throw"INVALID_CHARACTER_ERR: DOM Exception 5";return c}function c(a){if(1!==arguments.length)throw"SyntaxError: exactly one argument required";a=String(a);var c,f,g=[],h=a.length-a.length%3;if(!a.length)return a;for(c=0;h>c;c+=3)f=b(a,c)<<16|b(a,c+1)<<8|b(a,c+2),g[g.length]=e.charAt(f>>18),g[g.length]=e.charAt(f>>12&63),g[g.length]=e.charAt(f>>6&63),g[g.length]=e.charAt(63&f);switch(a.length-h){case 1:f=b(a,c)<<16,g[g.length]=e.charAt(f>>18)+e.charAt(f>>12&63)+d+d;break;case 2:f=b(a,c)<<16|b(a,c+1)<<8,g[g.length]=e.charAt(f>>18)+e.charAt(f>>12&63)+e.charAt(f>>6&63)+d}for(var f=0,i=g.length,j="";i>f;)j+=g[f++];return j}var d="=",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";a.btoa=c}(WIN);var k={};bablicHash=function(b){var c=k[b];if("string"==typeof c)return c;var c=a(b);return k[b]=c,c}}(),bablic.hash=bablicHash;var root_path="//"+(bablic.debugServer||"e2.bablic.com"),editorPath=bablic.debugServer?"//"+bablic.debugServer:"https://www.bablic.com",fetchFromCDN,ajaxPost,ajaxGet,getPageTranslationURL,turnOffCDN,build_query_string;!function(a,b,c){a.now||(a.now=function(){return Number(new a)}),b.isArray||(b.isArray=function(a){return a&&a.constructor==b}),b.prototype.indexOf||(b.prototype.indexOf=function(a){for(var b=0;b<this.length;b++)if(this[b]==a)return b;return-1});var d=null,e=c.cdnServer||"c.bablic.com",f=c.confCdnServer||"c.bablic.com",g=c.storageServer||"bablic.s3.amazonaws.com/ldata";turnOffCDN=function(){d=a.now(),e=g,f=g},getPageTranslationURL=function(a){return a.indexOf("conf")>-1?"//"+f+a+".json?t="+(LDATA?LDATA.timestamp:""):"//"+e+a+".json?t="+(LDATA?LDATA.timestamp:"")},fetchFromCDN=function(a,b){var c=getPageTranslationURL(a);ajaxGet(c,null,function(a){b(null,a)},function(a){b(a)})};var h=function(a,b,d,e,f,g,i){e=e||function(){c.log("bablic POST success")},f=f||function(a){c.log("bablic POST request failed "+a.responseText||a)},i=i||0;var j=b.indexOf("//")>-1,k=b.indexOf("?")>-1?"&":"?";if(WIN.XDomainRequest){if(!WIN.JSON)return f("not supported");var l=new XDomainRequest;g&&(l.withCredentials="true"),l.open(a,j?b:(c.preview?editorPath:root_path)+b+k+build_query_string()),l.onload=function(){setTimeout(function(){if("application/json"==l.contentType){var a=JSON.parse(l.responseText);(null==a||"undefined"==typeof a)&&(a=JSON.parse(d.firstChild.textContent)),e(a)}else e(l.responseText)},1)},l.onerror=function(){f(l)},d?l.send(JSON.stringify(d)):l.send()}else{var m=new XMLHttpRequest;m.open(a,j?b:(c.preview?editorPath:root_path)+b+k+build_query_string()),
"POST"==a&&m.setRequestHeader("Content-type","application/json"),g&&(m.withCredentials="true"),m.onreadystatechange=function(){if(4==m.readyState){var c=m.responseText;if("string"==typeof c&&/^\s*(\{|\[|"|[0-9])/.test(c))try{c=JSON.parse(c)}catch(j){}if(m.status<200||m.status>=300){var k=m.status>=400&&m.status<=409||500==m.status;return!k&&i++<2?setTimeout(function(){h(a,b,d,e,f,g,i)},(429==m.status?1500:100)*i):f(c||m.status||"failed")}e(c)}},d?m.send(JSON.stringify(d)):m.send()}};ajaxPost=function(a,b,c,d){return h("POST",a,b,c,null,d)},ajaxGet=function(a,b,c,d,e,f){return h("GET",a,null,c,d,e,f)},build_query_string=function(){return"s="+c.Site+(c.locale?"&l="+c.locale:"")+(c["package"]?"&package="+c["package"]:"")+"&uri="+encodeURIComponent(pageUri())+"&v="+c.version+(c.localeURL?"&ld="+c.localeURL:"")+(c.preview?"&preview="+encodeURIComponent(c.preview):"")+(d?"&_c="+d:"")}}(Date,Array,bablic),function(a){function b(a,c){return 1===arguments.length?function(){var c=$.makeArray(arguments);return c.unshift(a),b.apply(this,c)}:(arguments.length>2&&c.constructor!==Array&&(c=$.makeArray(arguments).slice(1)),c.constructor!==Array&&(c=[c]),$.each(c,function(b,c){a=a.replace(new RegExp("\\{"+b+"\\}","g"),c).replace("%s",c)}),a)}function c(b,c){if(!LDATA||!LDATA.content)return a.log("translation not loaded yet"),b;if(!Text)return b;c=c||{},!Text.stripText&&Text.prepare&&Text.prepare();var d={nodeType:3,nodeValue:b,nodeName:"#text"};return processNodeWithEngine(d,{tagName:"P",_fake:!0},c,Text.index),LDATA.report&&send_ldata_report(!1),LDATA.usage&&send_usage_report(),d.nodeValue}var d=a.getText=a.__=function(a,d){return d=d||[],arguments.length>2&&d.constructor!==Array&&(d=$.makeArray(arguments).slice(1)),d.constructor!==Array&&(d=[d]),b(c(a),d)};a.getTextWithMarkup=function(a,d,e){return e=e||[],arguments.length>3&&e.constructor!==Array&&(e=$.makeArray(arguments).slice(2)),e.constructor!==Array&&(e=[e]),b(c(a,d),e)},a.__n=a.getTextPlural=function(a,d,e,f){f=f||[],arguments.length>4&&f&&f.constructor!==Array&&(f=$.makeArray(arguments).slice(3)),f.constructor!==Array&&(f=[f]);var g=c(a),h=c(d);return 1==e?b(g.replace(/%\s*?d/g,e),f):b(h.replace(/%\s*?d/g,e||0),f)};var e=WIN.alert;WIN.alert=function(){var a=d.apply(null,arguments);return e(a)},a.alert=function(){return e.apply(WIN,arguments)};var f=WIN.confirm;WIN.confirm=function(){var a=d.apply(null,arguments);return f(a)},a.confirm=function(){return f.apply(WIN,arguments)};var g=WIN.prompt;WIN.prompt=function(){var a=d.apply(null,arguments);return g(a)},a.prompt=function(){return g.apply(WIN,arguments)}}(bablic);var Mutation=bablic.Mutation={},attributeObserver;!function(a){function b(){var a=[],b=0;for(var c in p)a.push(function(c){return function(){c.parentElement&&processElement(c),b<a.length&&setTimeout(a[b++],0)}}(p[c]));p={},a.length&&a[b++](),n=null,r=Date.now()}if(Mutation.events=a._e||{},WIN.MutationObserver=WIN.MutationObserver||WIN.WebKitMutationObserver||WIN.MozMutationObserver,WIN.MutationObserver){var c={},d=new MutationObserver(function(b){if(!(a.mutation_listen_off>0))for(var d=0;d<b.length;d++){if(b[d].attributeName&&b[d].attributeName in c)var e=b[d].target;if(e){var f=e.attributes[b[d].attributeName];if(f&&readNodeAttr(f,"bablic_replaced_value",e)!=getNodeValue(f))return processElement(e,!0)}}});attributeObserver=function(a,b){c[b.nodeName]=!0,a._babi||(a._babi=!0,setTimeout(function(){d.observe(a,{attributes:!0})},1))}}else attributeObserver=function(a,b){var c=readNodeAttr(b,"_babi",a);c&&clearInterval(c),c=setInterval(function(){readNodeAttr(b,"bablic_replaced_value",a)!=getNodeValue(b)&&t({srcElement:a})},200),setNodeAttr(b,"_babi",c,a)};Mutation.on=function(b,c){$.each(b.trim().split(/\s+/),function(b,d){Mutation.events[d]=Mutation.events[d]||[],Mutation.events[d].push(c),"locale"==d&&LDATA&&a.getLocale&&a.getLocale()&&setTimeout(function(){c(a.getLocale())},0)})},Mutation.once=function(a,b){Mutation.events[a]=Mutation.events[a]||[];var c=function(){try{b()}catch(d){}Mutation.unbind(a,c)};Mutation.events[a].push(c)},Mutation.unbind=function(a,b){Mutation.events[a]=Mutation.events[a]||[];var c=Mutation.events[a].indexOf(b);c>-1&&Mutation.events[a].splice(c,1)},Mutation.emit=function(b,c){Mutation.events[b]=Mutation.events[b]||[];for(var d,e=0;e<Mutation.events[b].length;e++)try{var f=Mutation.events[b][e].apply(a,c);"undefined"!=typeof f&&(d=f)}catch(g){}return d};var e=[];Mutation.rush=function(){var a=e.map(function(a){return a.h});a.forEach(function(a){a()})},Mutation.clearTimeout=function(a){var b=$.grep(e,function(b){return b.t==a})[0];b&&b.c()},Mutation.observeHead=function(a){if(window.MutationObserver){var b={LINK:1,STYLE:1},c=new MutationObserver(function(c){for(var d=0;d<c.length;d++){var e=c[d].addedNodes;if(e&&e.length)for(var f=0;f<e.length;f++)if(e[f].tagName in b&&!/bablic/.test(e[f].id||""))return a()}}),d={childList:!0};c.observe($.byTag("head").get(0),d)}};var f=!1;Mutation.listen=function(){f||($(DOC.documentElement).on("DOMNodeInserted",Mutation.callback).on("DOMCharacterDataModified",Mutation.callback),setInterval(function(){processElement(DOC.documentElement)},5e3),f=!0)};var g=6,h=400,i=2,j=100,k=Date.now(),l=2e3,m={pointer:0,buffer:[],push:function(a){this.buffer[this.pointer]=a,this.pointer=(g+this.pointer+1)%g},get:function(a){return this.buffer[(this.pointer+a)%this.buffer.length]},count:function(a,b){for(var c=0,d=0;d<this.buffer.length;d++){var e=a(this.get(this.buffer.length-1-d));if(0>e)return c;if(c+=e,c>b)return c}return c},countByTime:function(a,b){return Date.now()-this.get(0).last_time<a},countByTimeAndElement:function(a,b,c){return this.count(function(c){return Date.now()-c.last_time<a?c.last_node==b?1:0:-1},c)>c}};m.push({last_node:null,last_time:Date.now()});var n,o=function(b){return Date.now()-k>l?Date.now()-m.get(0).last_time<j?(a.log("canceled because short time"),k=Date.now(),!0):m.countByTimeAndElement(h,b,i)?(a.log("canceled because same element"),k=Date.now(),!0):(m.push({last_node:b,last_time:Date.now()}),!1):!0},p={},q=0,r=Date.now(),s=300,t=Mutation.callback=function(c){if(LDATA&&LDATA.content){var d=c.srcElement||c.relatedNode||c.originalEvent&&c.originalEvent.srcElement||c.originalEvent&&c.originalEvent.relatedNode;if(d&&"SPAN"==d.tagName&&"bablicLink"==d.id&&d.parentNode)return d.parentNode.removeChild(d);if(!(a.mutation_listen_off>0)&&(Mutation.emit("mutation"),!a.noMutationListening&&d&&d!=WIN)){for(1!=d.nodeType&&(d=d.parentNode);d&&d.parentElement&&1==d.nodeType&&!("bablic_last_value"in d)&&d!=DOC.body&&"HEAD"!=d.tagName;)d=d.parentElement;if(!o(d))return a.log("sync handle"),void processElement(d);d.bablicId||(d.bablicId=Date.now()+"."+q++),p[d.bablicId]=d,n?Date.now()-r<s?(clearTimeout(n),n=setTimeout(b,50)):b():n=setTimeout(b,50)}}}}(bablic);var prefetchOnFirstView;!function(a){function b(a){$('head link[rel=prefetch][href="'+a+'"]').length()||$("head").append('<link bablic-exclude rel="prefetch" href="'+a+'" />')}prefetchOnFirstView=function(){a.proxy||$.each(a.locales,function(c,d){var e=normalizedCurrentPath(),f="/page?s="+a.Site+"&l="+d.key+"&page="+encodeURIComponent(e),g=getPageTranslationURL(f);g=LOC.protocol+jsonpURL(g,f),b(g),a.log("prefetch",g),f="/conf?s="+a.Site+"&l="+d.key,g=getPageTranslationURL(f),g=LOC.protocol+jsonpURL(g,f),b(g),a.log("prefetch",g)})}}(bablic);var LocalDB,USE_LOCAL_DB=!PROXY&&!bablic.preview||-1!=location.search.indexOf("testBablicLS"),USE_INDEXED_DB=USE_LOCAL_DB;!function(){function a(a){if(!bablic.locale||!WIN.indexedDB)return a(new Error("No indexed db"));if(bablic.locale in d)return a(null,d[bablic.locale]);if(bablic.locale in e)return e[bablic.locale].push(a);var b=bablic.locale;try{var c=4,f=indexedDB.open("bablic_"+b,c);e[b]=[];var g=setTimeout(function(){h("Timeout"),console.log("cant load indexeddb")},5e3),h=function(c,f){f&&(d[b]=f),clearTimeout(g),c&&LocalDB.setSync("dbdown",Math.floor(Date.now()/1e3)),a&&(a(c,f),e[b].forEach(function(a){a(c,f)}),delete e[b],a=null)};f.onupgradeneeded=function(b){var c=b.target.result;if(!c)return a(new Error("Not created"));b.target.transaction.onerror=a;var d=c.createObjectStore("a",{keyPath:"id"});d.createIndex("page","page",{unique:!1,multiEntry:!0})},f.onsuccess=function(a){h(null,a.target.result)},f.onerror=function(a){h(a)}}catch(i){a(i)}}var b,c=function(){return WIN.localStorage?WIN.localStorage:b?b:b={getItem:function(a){return LocalDB.cookie.getCookie(a)},setItem:function(a,b){LocalDB.cookie.setCookie(a,b)}}},d={},e={};if(LocalDB={cookie:{setCookie:function(a,b,c){if(!(b.length>1e3)){var d=new Date;d.setDate(d.getDate()+c);var e="",f=bablic.data||{},g=f.domain;if(g){var h=g.indexOf("/");h>-1&&(g=g.substr(0,h))}g&&LOC.hostname.indexOf(g)>-1&&(e=";domain="+g);var i=escape(b)+(null==c?"":"; expires="+d.toUTCString())+"; path=/"+e;DOC.cookie=a+"="+i}},getCookie:function(a){var b,c,d,e=DOC.cookie.split(";");for(b=e.length-1;b>=0;b--)if(c=e[b].substr(0,e[b].indexOf("=")),d=e[b].substr(e[b].indexOf("=")+1),c=c.replace(/^\s+|\s+$/g,""),c==a)return unescape(d)},clear:function(a){var b=new Date;DOC.cookie=a+"=; expires="+b.toUTCString()+"; path=/"}},getSync:function(a,b,d){try{return b?LocalDB.cookie.getCookie("bab_"+a):USE_LOCAL_DB||d?c().getItem("bab_"+a):null}catch(e){bablic.error("LocalDB Failed",e)}},setSync:function(a,b,d,e){try{if(d)return LocalDB.cookie.setCookie("bab_"+a,b,365);if(!USE_LOCAL_DB&&!e)return;c().setItem("bab_"+a,b)}catch(f){bablic.error("LocalDB failed",f)}},getConf:function(){return JSON.parse(LocalDB.getSync("bablic")||"null")},setConf:function(a){LocalDB.setSync("bablic",JSON.stringify(a))},getByIds:function(b,c){if(!USE_INDEXED_DB)return c(!0);try{a(function(a,d){if(a||!d)return c(a);try{var e=d.transaction(["a"],"readonly"),f=e.objectStore("a"),g={};parallelEach(b,function(a,b){var c=f.get(a);c.onsuccess=function(c){var d=c.target.result;d&&(g[a]=d.value),b()},c.onerror=function(a){b()}},function(a){c(a,g)})}catch(h){c(h)}})}catch(d){c(d)}},getByPage:function(b,c){if(!USE_LOCAL_DB)return c(!0);try{if(WIN.localStorage){var d=localStorage.getItem("bab_p_"+b);if(d)return c(null,JSON.parse(d))}}catch(e){bablic.error(e)}if(!USE_INDEXED_DB)return c(!0);try{a(function(a,d){if(a||!d)return c(a);try{var e=d.transaction(["a"],"readonly"),f=e.objectStore("a"),g=f.index("page"),h=IDBKeyRange.only(b),i={},j=!1;g.openCursor(h).onsuccess=function(a){var b=a.target.result;b&&("__set__"!=b.value.id?i[b.value.id]=b.value.value:j=!0,b["continue"]())},e.oncomplete=function(){return!j&&$.isEmptyObject(i)?c("not found",i,d):void c(null,i,d)}}catch(k){c(k)}})}catch(e){c(e)}},setByPage:function(a,b){if(USE_LOCAL_DB){try{if(WIN.localStorage&&a.length<1e3){var c=JSON.stringify(a);return void localStorage.setItem("bab_p_"+b,c)}}catch(d){bablic.error(d)}USE_INDEXED_DB&&($.isEmptyObject(a)&&(a.__set__="true"),LocalDB.getByPage(b,function(c,d,e){if(!e||!d)return bablic.error(c);var f=[],g=[];for(var h in a)h in d||!function(a,c){f.push(function(d){var f=e.transaction(["a"],"readonly"),h=f.objectStore("a");h.get(a).onsuccess=function(e){var f=e.target.result;if(f){if(f.page.indexOf(b)>-1)return;f.page.push(b)}else f={id:a,value:c,page:[b]};g.push(f),d()}})}(h,a[h]);parallel(f,function(a){if(a)return bablic.error(a);var b=e.transaction(["a"],"readwrite"),c=b.objectStore("a");g.forEach(function(a){c.put(a)}),b.oncomplete=function(a){bablic.log(a)},b.onerror=function(a){bablic.error(a)}})}))}},clearSync:function(a,b){WIN.localStorage&&!b?localStorage.removeItem(a):LocalDB.cookie.clear(a)},clearAll:function(a){var b=["bab_bablic","bab_unused"];return $.each(bablic.locales||[],function(a,c){b.push("bab_global"+c.key),b.push("bab_home_"+c.key),$.each(Object.keys(LDATA&&LDATA.packages||{}),function(a,d){b.push("bab_p_"+c.key+"_"+d),b.push("bab_@"+c.key+"_"+d)})}),$.each(b,function(a,b){LocalDB.clearSync(b)}),WIN.indexedDB?void parallelEach(bablic.locales||[],function(a,b){try{var c=indexedDB.deleteDatabase("bablic_"+a.key);c.onsuccess=function(){bablic.log("Deleted database successfully"),delete d[a.key],b&&b(),b=null},c.onerror=function(){bablic.error("Couldn't delete database"),b&&b(),b=null},c.onblocked=function(){bablic.error("Couldn't delete database due to the operation being blocked"),b&&b(),b=null}}catch(e){b&&b(),b=null}},a):a&&a()}},bablic.cookie=LocalDB.cookie,USE_LOCAL_DB){var f=LocalDB.getSync("dbdown");USE_INDEXED_DB=f&&Number(f)>(Date.now()-3e5)/1e3?!1:!0}}();var hideWidget,showFlags,getFlag;!function(bablic){function printFunction(a){return _functionToString?_functionToString.apply(a):a.toString()}function renderTags(context,template){var saveUnderscore=WIN._;WIN._=context;var renderedHTML=template.replace(FOREACH_REGEX,function(a0,collectionVar,inner){for(var localesHTML=[],collection=eval(collectionVar),i=0;i<collection.length;i++){var item=collection[i];item.parent=context;var itemHTML=renderTags(item,inner);localesHTML.push(itemHTML)}return localesHTML.join("")}).replace(VAR_REGEX,function(a0,varName){return eval(varName)}).replace(IF_REGEX,function(a0,varName,inner){return eval(varName)?inner:""});return WIN._=saveUnderscore,renderedHTML}function renderWidget(a,b){var c=a||{},d=WIDGET_TYPES[c.widgetType||"flags"].html,e=bablic.Site?bablic.Site.charCodeAt(bablic.Site.length-1)%3:0,f={expired:bablic.expired,c:c,l:b,s:a.hideCurrent?b[0]:targetLocale,sizeNum:SIZES[c.size],size:c.size,p:LOC.protocol,keyword:{0:"Website translation",1:"Website localization",2:"Translate Your Website"}[e],rgba:function(a,b){var c=this.c.colors[a],d=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;c=c.replace(d,function(a,b,c,d){return b+b+c+c+d+d});var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(c);return e?"rgba("+parseInt(e[1],16)+","+parseInt(e[2],16)+","+parseInt(e[3],16)+","+b+")":c}},g=renderTags(f,d),h=function(a){var b=$(a).css("zoom")||"1";return b="%"==b[b.length-1]?Number(b.substr(0,b.length-1))/100:Number(b),b=b||1,a.parentElement?b*h(a.parentElement):b},i=renderTags(f,WIDGET_TYPES[c.widgetType].css),j=window.BABLIC_ZOOM||1;j*=h(DOC.body),1!=j&&(i+="\nhtml{zoom:"+j.toFixed(4)+";}"),c.css&&(i+=c.css);var k=printFunction(WIDGET_TYPES[c.widgetType].js);return'<!DOCTYPE html>                <html style="overflow:hidden;direction:ltr;" dir="ltr" class="'+(bablic.mobile?"mobile":"desktop")+'">                    <head>                        <style>'+i+'</style>                    </head>                <body style="margin:0">'+g+"<script>("+k+")();</script></body>        </html>"}function injectWidget(a,b){var c=DOC.createElement("iframe");c.setAttribute("bablic-exclude","true"),c.id="bablicFlagsWidget",c.style.position=a.fixed?"absolute":"fixed",c.style.width=400,c.style.height=1e3,c.style.margin=0,c.style.border="none",c.style.display="block",c.style.opacity=1,setZIndex(c);var d=a.distance+a.unit,e=a.corner;switch(e){case 1:c.style.top=0,c.style.left=d;break;case 2:c.style.top=0,c.style.right=d;break;case 3:c.style.top=d,c.style.right=0;break;case 4:c.style.right=0,c.style.bottom=d;break;case 5:c.style.right=d,c.style.bottom=0;break;case 6:c.style.left=d,c.style.bottom=0;break;case 7:c.style.left=0,c.style.bottom=d;break;case 8:c.style.top=d,c.style.left=0;break;default:bablic.error("This corner is not defined "+a.corner)}var f=!1;"srcdoc"in c&&(c.srcdoc=b,f=!0,chromeBugTimeout&&clearTimeout(chromeBugTimeout),chromeBugTimeout=setTimeout(function(){chromeBugTimeout=null,c&&c.contentDocument&&c.contentDocument.body&&!c.contentDocument.body.innerHTML&&(c.srcdoc=b)},500));var g=$("#bablicEditorSideBar");if(g.length()?DOC.body.insertBefore(c,g.get(0)):DOC.body.appendChild(c),!f)try{c.contentWindow.document.open(),c.contentWindow.document.write(b),c.contentWindow.document.close()}catch(h){setTimeout(function(){if(c.contentWindow)try{c.contentWindow.document.open(),c.contentWindow.document.write(b),c.contentWindow.document.close()}catch(a){c.contentWindow.location.href="data:text/html;charset=utf-8,"+encodeURIComponent(b)}},500)}return c}function resizeWidget(a,b){var c=DOC.getElementById("bablicFlagsWidget");c&&(null!==b&&(c.style.height=b+"px"),null!==a&&(c.style.width=a+"px"))}function updateScrollPadding(){var a=!!(Modernizr.touchevents&&$.window.width()<700||EDITOR&&"mobile"==EDITOR.device());a!=MOBILE&&(MOBILE=bablic.mobile=a,showFlags());var b=hasAutoHidingScrollBar()?detectScrollbarWidth():0;if(b!=addedPadding){var c=b-addedPadding;addedPadding=b;var d=DOC.getElementById("bablicFlagsWidget");if(d){var e=d&&d.contentWindow&&d.contentWindow.document&&d.contentWindow.document.getElementsByTagName("ul")[0];if(e){var f=["top","right","bottom","left"][Math.floor(bablic.widgetConf.position.corner/2)];if("left"==f||"right"==f){var g=parseInt($(e).css("padding-"+f)||"");$(e).css("padding-"+f,g+c+"px"),$(d).css("width",parseInt($(d).width())+c)}}}}}function hasAutoHidingScrollBar(){if(!(WIN.innerHeight&&WIN.innerWidth&&DOC&&DOC.body))return!1;if(DOC.body.clientHeight<=WIN.innerHeight&&!(DOC.body.scrollHeight>WIN.innerHeight))return!1;if("hidden"==$("html").css("overflow")||"hidden"==$("html").css("overflow-y"))return!1;var a=DOC.getElementsByTagName("html")[0]||DOC.body;return a?WIN.innerWidth==a.clientWidth:!1}function detectScrollbarWidth(){if(null!==scrollWidth)return scrollWidth;var a=bablic.$('<div style="width:100px; height:100px; overflow:scroll; position:absolute; top:-99999px" class="bablic-scrollbar-measure" bablic-exclude></div>').appendTo("body");if(0==a.length)return 0;var b=a.get(0);return scrollWidth=b.offsetWidth-b.clientWidth,a.remove(),scrollWidth}var _functionToString=window.Function&&Function.prototype.toString,SIZES={1:16,2:24,3:32,4:48,5:64,6:128},EMBEDDED_WIDGET='<ul class="bablic-flags-menu"> {@_.l} <li {{_.selected ? "class=\\"selected\\"":""}}> <a target="_top" data-locale="{{_.key}}" href="{{_.href}}" title="{{_.name}}"> <img src="{{_.flag}}" alt="{{_.name}}"> </a> </li> {/?} </ul> ',WIDGET_TYPES={flags:{html:'<ul class="size{{_.c.size}} corner{{_.c.position.corner}} {{_.c.expanded?"expanded":""}} {{_.c.widgetType.indexOf("Horiz")>-1?"horizontal":"vertical"}}"> {@_.l} <li {{_.selected ? "class=\\"selected\\"":""}}> <a class="item" target="_top" data-locale="{{_.key}}" href="{{_.href}}" title="{{_._name}}" style="font-size:{{Math.floor(_.parent.sizeNum*0.5*_.factor)+3}}px;"> {?_.parent.c.widgetType.indexOf("flags")>-1} <img src="{{_.parent.p}}{{_._flag}}" alt="{{_._name}}"> {/?} {?_.parent.c.widgetType.indexOf("flags")==-1} {{_._prefix}} {/?} </a> </li> {/@} {?_.c.logo&&!_.expired} <li class="logo"><a target="_top" href="https://www.bablic.com/?utm_source=LangWidget&utm_medium=LangWidget&utm_campaign=LangWidget" title="Powered by Bablic"><img alt="{{_.keyword}}" src="{{_.p}}//uploads.bablic.com/flags/theme/{{_.c.colors[0]=="#01B0F0"?"dark":"blue"}}/{{_.sizeNum}}.png"></a></li> {/?} {?_.expired} <li class="logo"><img onclick="window.top.location.href=\'http://www.bablic.com\'" title="Bablic trial expired!" class="notice_icon" src="//uploads.bablic.com/resources/notice_icon.png"></li> {/?} </ul>',css:'body{ direction:ltr; } .notice_icon { width: 100%; } ul{ position:absolute; {{_.c.position.corner%8>3?"bottom:0":"top:0"}}; list-style: none; margin:0; {?!_.c.expanded} transition: height 300ms,width 300ms; -webkit-transition: height 300ms,width 300ms; -moz-transition: height 300ms,width 300ms; -ms-transition: height 300ms,width 300ms; -o-transition: height 300ms,width 300ms; {/?} background-color: {{_.c.colors[0]}}; overflow:hidden; left:0; right:auto; } ul.vertical{ width: {{_.sizeNum}}px; height: {{_.sizeNum}}px; padding:4px 6px; } ul.horizontal{ width: {{_.sizeNum+14}}px; height: {{_.sizeNum+8}}px; padding:0; } ul.corner2,ul.corner3,ul.corner4,ul.corner5{ right:0; left:auto; } a.item{ color:{{_.c.colors[1]}}; text-decoration:none; font-family:Arial; text-transform:uppercase; display:block; text-align:center; line-height:{{_.sizeNum}}px; white-space: nowrap; } ul.corner1,ul.corner2{ border-radius: 0 0 5px 5px; } ul.corner3,ul.corner4{ border-radius: 5px 0 0 5px; } ul.corner5,ul.corner6{ border-radius: 5px 5px 0 0; } ul.corner7,ul.corner8{ border-radius: 0 5px 5px 0; } ul li{ height: {{_.sizeNum}}px; width:{{_.sizeNum}}px; display:none; float:left; } ul.horizontal li{ padding:4px 7px; } ul.corner2 li,ul.corner3 li,ul.corner4 li,ul.corner5 li{ float:right; } ul.expanded li,ul li.selected{ display:block; } ul li a img{ height:100%; } ul li.logo a img{ width:70%; height:70%; top:15%; left:15%; position:relative; }',js:function(){var a=parent.bablic;a.trigger("widget");var b=a.$,c=b(document.getElementsByTagName("ul"));a.resizeWidget(c.width(),c.height());var d=Date.now(),e=function(c){if(c.ctrlKey||c.shiftKey||c.altKey)return!0;var e=b(this).attr("data-locale");return e?(c.preventDefault(),p&&!a.widgetConf.expanded&&a.Modernizr.touchevents&&(!f||Date.now()-g<500)?(g=null,!1):a.Modernizr.touchevents&&Date.now()-d<800?(g=null,!1):e?void a.redirectTo(e,null,c):a.logo()):!0};b.byTag("a",document).on("click",e);var f,g,h,i,j=parseInt(c.css("padding-top"))+parseInt(c.css("padding-bottom"))||0,k=parseInt(c.css("padding-left"))+parseInt(c.css("padding-right"))||0,l=c.children("li").length(),m=Math.ceil(l/15),n=c.height()||0,o=c.width()||0,p=l>1,q=a.widgetConf.widgetType.indexOf("Horiz")>-1;q?(h=(n-j)*m+j,i=(o-k)*Math.ceil(l/m)+k):(h=(n-j)*Math.ceil(l/m)+j,i=(o-k)*m+k),i||a.error("No width");var r,s=function(){f||(a.trigger("expand"),a.resizeWidget(i,h),c.css("height",h-j).css("width",i-k),b.byTag("li",document).css("display","block"),f=!0,g=Date.now(),r&&clearTimeout(r),r=null)},t=function(){return a.trigger("collapse"),f=!1,g=null,c.css("height",n-j).css("width",o-k),b.byTag("li",document).css("display",""),a.Modernizr&&!a.Modernizr.csstransitions?a.resizeWidget(o,n):void(r=setTimeout(function(){r=null,a.resizeWidget(o,n)},500))};return window.expand=s,window.collapse=t,a.widgetConf.expanded?(a.resizeWidget(i,h),void c.css("height",h-j).css("width",i-k)):(c.on("mouseenter",s).on("mouseleave",t),void(a.Modernizr.touchevents&&b.byTag("a",document).on("touchstart",function(a){c.off("mouseenter",s).off("mouseleave",t);var b=e.apply(this,[a]);return b===!1?s.apply(this,[a]):b})))}},labels:{html:'<div id="widget" class="size{{_.c.size}} corner{{_.c.position.corner}} {{_.c.logo?"with-logo":""}} {{_.c.expanded?"expanded":""}} {{_.expired?"is-expired":""}}"> <div id="current"> <a target="_top" data-locale="{{_.s.key}}" href="{{_.s.href}}" title="{{_.s._name}}" style="font-size:{{(_.factor||1)*100}}%">{{_.s._name}}</a> {?_.expired} <img class="expired" onclick="handleExpired();" title="Bablic trial is expired!" src="//uploads.bablic.com/resources/notice_icon.png"> {/?} </div> <div id="list" class="size{{_.c.size}} corner{{_.c.position.corner}} {{_.c.logo?"logo":"logo"}}"> {?_.c.logo && _.c.position.corner > 3} <a class="logo" href="https://www.bablic.com/?utm_source=LangWidget&utm_medium=LangWidget&utm_campaign=LangWidget" target="_blank"> <img alt="{{_.keyword}}" src="{{_.p}}//uploads.bablic.com/flags/logo/TWD-x{{_.c.size<4?15:35}}.png"/> </a> {/?} {@_.l} <a target="_top" data-locale="{{_.key}}" href="{{_.href}}" title="{{_._name}}" style="font-size:{{(_.factor||1)*100}}%">{{_._name}}</a> {/@} {?_.c.logo && _.c.position.corner < 3} <a class="logo" href="https://www.bablic.com/?utm_source=LangWidget&utm_medium=LangWidget&utm_campaign=LangWidget" target="_blank"> <img alt="{{_.keyword}}" src="{{_.p}}//uploads.bablic.com/flags/logo/TWD-x{{_.c.size<4?15:35}}.png"/> </a> {/?} {?_.expired} <img class="expired" onclick="handleExpired();" title="Bablic trial is expired!" src="//uploads.bablic.com/resources/notice_icon.png"> {/?} </ul> </div> ',css:'body { direction:ltr; font-family: sans-serif; color: {{_.c.colors[2]}}; font-weight:bold; width:400px; height:1000px; } div,a{ display:block; } a,a:visited,a:focus,a:active,.desktop a:hover{ color: inherit; text-decoration: none; } #widget{ position:fixed; overflow:hidden; border-radius:{{_.c.size+1}}px; box-shadow: 0px 0px 1px 1px rgba(0,0,0,0.2); font-size:{{_.c.size*3+6}}px; line-height:{{_.c.size*9+15}}px; } #widget #list{ visibility:hidden; } #widget.active #list{ display:none; visibility:visible; } #widget.expanded.active #list{ display:block; } #widget.expanded #current{ display:none; } a{ text-align:center; padding:0 {{_.c.size*8+2}}px; min-width: {{_.c.size*10+10}}px; border-bottom:1px solid {{_.c.colors[3]}}; margin-bottom:-1px; position:relative; white-space:nowrap; } a:before{ content:""; display:block; position:absolute; top:0; left:0; right:0; bottom:0; background:{{_.c.colors[0]}}; opacity:0.95; z-index:-1; } a:hover:before{ background:{{_.c.colors[1]}}; opacity:1; } {?_.c.size>2} a.logo{ padding:0 23px; } {/?} a.logo:before{ background:rgb(1, 174, 218); } a.logo img{ height:{{_.c.size*4+3}}px; } #widget.corner1,#widget.corner2 { top:0; border-top-left-radius:0; border-top-right-radius:0; } #widget.corner1{ left:1px; } #widget.corner2{ right:1px; } #widget.corner5,#widget.corner6 { bottom:0; border-bottom-left-radius:0; border-bottom-right-radius:0; } #widget.corner5{ right:1px; } #widget.corner6{ left:1px; } .expired{ max-width: 20px; max-height: 20px; display: block; position: absolute; top: 0; right: 0; }',js:function(){var a,b,c=parent.bablic,d=c.$,e=document,f=d.byId("widget",e),g=c.widgetConf.expanded,h=d.byId("list",e),i=!g&&d.byId("current",e),j=h.children("a").length()>1,k="ontouchstart"in e.body,l=k,m=function(){return Date.now()};d.byTag("a",e).on("click",function(e){if(e.ctrlKey||e.shiftKey||e.altKey)return!0;if(j&&!g&&l&&(!a||m()-b<500))return b=null,e.preventDefault(),!1;var f=d(this).attr("data-locale");f&&(e.preventDefault(),c.redirectTo(f,null,e))});var n=function(){c.resizeWidget(a||g?u:s+2,a||g?v:t+1)},o=window.expand=function(){f.addClass("expanded"),a=!0,b=Date.now(),n()},p=window.collapse=function(){f.removeClass("expanded"),a=!1,b=null,n()};g?f.addClass("expanded"):(window.onClickOutside=p,i.on("mouseover",o),h.on("mouseleave",p));var q=null;d(e).on("touchstart",function(){q=m(),l=!0}),d(e).on("mousemove",function(){!l||q&&m()-q<500||(l=!1)});var r=h.get(0).offsetHeight;g||(r+=i.get(0).offsetHeight);var s,t,u=h.width(),v=h.height();g||(s=i.width(),t=i.height()),f.addClass("active"),e.body.style.width="auto",e.body.style.height="auto",n()}}};WIDGET_TYPES.labels2=WIDGET_TYPES.labels,WIDGET_TYPES.flagsHoriz=WIDGET_TYPES.letters=WIDGET_TYPES.lettersHoriz=WIDGET_TYPES.flags;var FOREACH_REGEX=/\{@([^\s]+)\}((?:.|\n)*?)\{\/@}/g,VAR_REGEX=/\{\{(.*?)\}\}/g,IF_REGEX=/\{\?(.*?)\}((?:.|\n)*?)\{\/\?\}/g,chromeBugTimeout=null,addedPadding=0,resizeInt,scrollWidth=null;hideWidget=function(){bablic.setMutationListen(!1),$("#bablicFlagsWidget").remove(),bablic.setMutationListen(!0)};var registerLoadEvent,flagsLoaded=!1,showFlagsInt;showFlags=function(a,b){if(LDATA&&bablic.locales&&(a=a||WidgetSettings||LDATA.widget&&LDATA.widget[b||MOBILE?1:0],a&&!bablic.hideWidget)){if(!DOC.body)return void(registerLoadEvent||flagsLoaded||($(DOC).on("DOMContentLoaded",function(){showFlags()}),showFlagsInt=setInterval(function(){showFlags()},500),registerLoadEvent=!0));showFlagsInt&&clearInterval(showFlagsInt),flagsLoaded=!0,bablic.widgetConf=a,$.each(bablic.locales,function(b,c){var d=LocaleSettings[c.key]||{};c._flag=d.flag||c.flag||"//uploads.bablic.com/flags/"+SIZES[a.size]+"/"+c.key+".png",c._flag.length<=5&&(c._flag="//uploads.bablic.com/flags/"+SIZES[a.size]+"/"+c._flag+".png"),c._name=d.name||c.name,c.href=d.href||bablic.getLink(c.key,null,null,c.legacy,c),c.selected=c.key==bablic.locale,c._prefix=c.prefix||c._name.substr(0,2),c.factor=/zh|hi/.test(c.key)?.66:1}),bablic.setMutationListen(!1),$("#bablicFlagsWidget").remove(),bablic.setMutationListen(!0);var c=$.grep(bablic.locales,function(a){var b=LocaleSettings[a.key];return b?!b.hidden:!0});if(0!=c.length&&(1!=c.length||c[0]!=targetLocale)){if(a.expanded){if(a.hideCurrent){var d=c.indexOf(targetLocale);d>-1&&c.splice(d,1)}}else{var d=c.indexOf(targetLocale);d>-1&&c.splice(d,1),a.hideCurrent?c[0].selected=!0:a.position.corner%8<4||"labels"!=a.widgetType?c.unshift(targetLocale):c.push(targetLocale)}if(bablic.setMutationListen(!1),!a.show){if(!a.embedded)return bablic.setMutationListen(!0);var e=$(a.embedded);if(!e.length())return bablic.error("can't find target element "+a.embedded),bablic.setMutationListen(!0);var f=renderTags({c:a,l:c},EMBEDDED_WIDGET);return e.html(f),bablic.setMutationListen(!0)}if(targetLocale.engines.indexOf(5)>-1&&a.position){var g=a.position._corner||a.position.corner;a.position._corner=g,g=(11-g-1)%8+1,a.position.corner=g}else a.position._corner&&(a.position.corner=a.position._corner);var h=renderWidget(a,c),i=injectWidget(a.position,h);WIN.addEventListener&&(WIN.removeEventListener("resize",updateScrollPadding),WIN.addEventListener("resize",updateScrollPadding)),$.byTag("body").off("resize",updateScrollPadding).on("resize",updateScrollPadding),triggerEvent("afterWidgetRender",[i]),resizeInt&&clearInterval(resizeInt),resizeInt=setInterval(updateScrollPadding,2e3),bablic.setMutationListen(!0)}}},$(DOC).on("click",function(){var a=DOC&&DOC.getElementById("bablicFlagsWidget");a&&a.contentWindow&&a.contentWindow.onClickOutside&&a.contentWindow.onClickOutside()}),getFlag=function(a,b){return b=b||(bablic.widgetConf?bablic.widgetConf.size:2),"//uploads.bablic.com/flags/"+SIZES[b]+"/"+a+".png"},bablic.showFlags=showFlags,bablic.resizeWidget=resizeWidget,bablic.logo=function(){setTimeout(function(){$("#bablic_dialogContainer,#bablic_dialogContainer *").on("click",function(){a.css("opacity",0),setTimeout(function(){a.remove()},400)})},10);var a=$('<div id="bablic_dialogContainer" data-bablic-exclude style="background: #000; background: rgba(0,0,0,0.8); background: -webkit-radial-gradient(50% 50%, ellipse closest-corner, rgba(0,0,0,0.45) 1%, rgba(0,0,0,0.8) 100%); background: -moz-radial-gradient(50% 50%, ellipse closest-corner, rgba(0,0,0,0.45) 1%, rgba(0,0,0,0.8) 100%); background: -ms-radial-gradient(50% 50%, ellipse closest-corner, rgba(0,0,0,0.45) 1%, rgba(0,0,0,0.8) 100%); background: radial-gradient(50% 50%, ellipse closest-corner, rgba(0,0,0,0.45) 1%, rgba(0,0,0,0.8) 100%); filter: alpha(opacity = 80); position: fixed; right: 0; top: 0 !important; z-index: 999999999999999; overflow-x: auto; overflow-y: scroll; opacity:0; -webkit-transition: 400ms opacity ease; -moz-transition: 400ms opacity ease; transition: 400ms opacity ease; overflow: hidden; width:100%; height:100%; display:block; border-radius: 10px;"><div id="bablic_dialogTemplate" style="padding:0; top:0; bottom:0; box-shadow: 0 0 10px #bfc0c0, 0 0 10px #bfc0c0, 0 0 10px #bfc0c0, 0 0 10px #bfc0c0; border: 1px solid #0081a8; z-index:300; width:470px; height:120px;  max-width:90%; max-height:90%; position:absolute; left:0; right:0; margin:auto;"><div class="bablic-close-popup" style="position: absolute; cursor: pointer; display: block; background: url(\'//www.bablic.com/images/2/blue-x.png\') no-repeat; width:18px; height:18px; top:0; right:0;"></div><iframe class="bablic_iframe" style="width:100%; height:100%; border:0;" src="//www.bablic.com/banner?site='+bablic.Site+'"></iframe></div></div>').appendTo("body");setTimeout(function(){a.css("opacity",1)},1)}}(bablic);var bidiInline;!function(){var a={stripNumRegex:/(\d+)(.*)/,needTransform:function(){return(originalLocale.dir&&"rtl"==originalLocale.dir)!=(targetLocale&&"rtl"==targetLocale.dir)?targetLocale.dir||"ltr":null},replace_css_attr:{"margin-left":"margin-right",left:"right","padding-left":"padding-right"},defs:{"margin-left":0,"margin-right":0,"padding-right":0,"padding-left":0,top:0,left:0,"float":"","text-align":""},replace_css_value:{"text-align":{left:"right"},"float":{left:"right"}},replace_attr_value:{},bidiElement:function(a,b){if(!a.bablic_bidid&&1==a.nodeType){a.bablic_bidid=!0;var c=this,a=$(a);$.each(c.replace_css_attr,function(b,d){var e,f=!1,g=!1;a.css(b)&&Number(/\d+/.exec(a.css(b)))&&(f=!0,e=a.css(b)),a.css(d)&&Number(/\d+/.exec(a.css(d)))&&(a.css(b,a.css(d)),a.css(d,c.defs[d]),g=!0),f&&(a.css(d,e),g||a.css(b,c.defs[b]))});var d=a.css("right")&&0===Number(/\d+/.exec(a.css("right"))+""),e=a.css("left")&&0===Number(/\d+/.exec(a.css("left"))+"");
d?(a.css("left","0px"),e?a.css("right","0px"):a.css("right","auto")):e&&(a.css("right","0px"),a.css("left","auto")),$.each(this.replace_css_value,function(b,c){a.css(b)&&$.each(c,function(c,d){var e=!1;a.css(b)==c&&(e=!0),a.css(b)==d&&a.css(b,c),e&&a.css(b,d)})}),$.each(this.replace_attr_value,function(b,c){a.attr(b)&&$.each(c,function(c,d){var e=!1;a.attr(b)==c&&(e=!0),a.attr(b)==d&&a.attr(b,c),e&&a.attr(b,d)})})}},RTL_REGEX:/(left|right)/g,MARGIN_PADDING_REGEX:/(margin|padding)[\s\t\n\r]*:[\s\t\n\r]*([0-9.]+(?:px|em|pt|%|))[\s\t\n\r]+([0-9.]+(?:px|em|pt|%|))[\s\t\n\r]+([0-9.]+(?:px|em|pt|%|))[\s\t\n\r]+([0-9.]+(?:px|em|pt|%|))/g,bidiInline:function(a){if(!a.bablic_bidid&&1==a.nodeType){a.bablic_bidid=!0;var b=a.attributes.style;if(b){var c=b.nodeValue;c&&(c=c.replace(this.RTL_REGEX,function(a){return"left"==a?"right":"left"}),c=c.replace(this.MARGIN_PADDING_REGEX,"$1:$2 $5 $4 $3"),b.nodeValue=c)}}}};bidiInline=function(b){return a.bidiInline(b)}}(),new_content={},usage_report={};var LDATA,Engines={},processElement,savedContentNodes=[],IS_PROPERTIES_SUPPORTED,addMarkupByCode,removeMarkupByCode,excludeByCode,includeByCode,readNodeAttr,setNodeAttr,readNodeAttrIf,setNodeAttrIf,domTraverse,mergeContentNodes,flushMergedNodes,getNodeValue,processNodeWithEngine,node_to_location,addOMGScript,triggerEvent,_forceTraverse=!1,translateAttr;!function(a){function b(a,b){if(!p[a])return!1;if("string"==typeof b)return p[a].sels&&b in p[a].sels?(delete p[a].sels[b],!0):!1;if(!p[a].el)return!1;var c=$.grep(p[a].el,function(a){return a[0]==b})[0];if(!c)return!1;var d=p[a].el.indexOf(c);return p[a].el.splice(d,1),!0}function c(){for(var a in p){var b=p[a];if(b){var c=b.sels;if(c)for(var d in c)try{$(d).attr("bablic-"+a,c[d]||!0).addClass("bablic-code-markup")}catch(e){}var f=b.el;if(f)for(var g=0;g<f.length;g++)$(f[g][0]).attr("bablic-"+a,f[g][1]||!0).addClass("bablic-code-markup")}}}function d(a){var b={};return a.attributes&&$.each(a.attributes,function(a,c){var d=n.exec(c.nodeName);d&&(b[d[1]]=c.value)}),b}function e(a){for(var b,c={};b=r.exec(a);)c[b[1]]=b[2];return c}function f(a,b){if(!a.parentNode)return{};if(a.parentNode.bablicTotalMarkup)return a.parentNode.bablicTotalMarkup;for(var c={exclude:b},e=$(a).parents(),f=0;f<e.length;f++){var g=e[e.length-1-f];if("TEXTAREA"==g.tagName||"IFRAME"==g.tagName||"SVG"==g.tagName||g.getAttribute&&"true"==g.getAttribute("contenteditable"))return null;var h=d(g);for(var i in h){var j=h[i];"exclude"==i?j=!0:"include"==i&&(i="exclude",j=!1),c[i]=j}}return a.parentNode.bablicTotalMarkup=c,c}function g(a,b){for(var c=0;c<a.length;c++)if(a[c]===b)return c;return-1}function h(a){for(var b=[],c=a;c.parentElement;){var d=g(c.parentNode.childNodes,c);b.unshift(d),c=c.parentElement}return b}function i(a){if(w.length){var b=a&&WIN.omg&&!!omg.initContent2,c={};for(var d in LDATA.content)LDATA.content[d]&&LDATA.content[d].toLowerCase&&(c[LDATA.content[d].toLowerCase()]=d);for(var e=[],f=0;f<w.length;f++)e=e.concat(w[f]);w=[];var g=[];e=$.grep(e,function(a){if(!a.content)return!0;var b=t.text(a.content.toLowerCase()).html();return b in c&&c[b]!=a.hash?(a.hash=c[b],g.push(a),!1):!0});var h=b?e.slice():null,i=b?[]:null,j={},k={};savedContentNodes.forEach(function(a){var b=!a.node._br&&!DOC.contains(a.element),c=a.hash+"_"+a.node.nodeType;return b?(j[c]=j[c]||[],void j[c].push(a)):(k[c]=a,void e.push(a))});for(var f=0;f<g.length;f++){var l,m=g[f].hash,n=g[f].node,o=m+"_"+n.nodeType,p=g[f].element,q=j[o];if(q&&q.length)l=q.pop();else{var r=k[o];if(!r)continue;l=$.extend({},r)}l.node=n,l.element=p,e.push(l),b&&i.push(l)}if(b){var s=omg.initContent2(h,i);s&&s.forEach(function(a){e.splice(e.indexOf(a),1)})}savedContentNodes=e}}function j(a){if(!a)return"";for(var b=new Array(a.length),c=0;c<a.length;c++)b[c]=y[a[c]];return b.join(".")}function k(a,b){return function(){try{b.apply(a)}catch(c){console.error(c.stack)}}}function l(b,c){if(b._babE&&b._babE[c])return k(b,b._babE[c]);if(1==b.nodeType&&b.matches&&a._sels&&a._sels[c])for(var d=a._sels[c],e=0;e<d.length;e++)if(b.matches(d[e][0]))return k(b,d[e][1])}function m(a,b,c,d,e,f){if(!HAS_ANGULAR||!(a.nodeValue&&a.nodeValue.indexOf("{{")>-1||d==a&&a.innerHTML.indexOf("{{")>-1)){var g=!1;if(f||_forceTraverse||readNodeAttr(a,"bablic_last_value",c)!==getNodeValue(a)){var h=b||{};if(b&&b._hash){h={};for(var i in b){var j=b[i];j&&j.length&&(h[i]=j[j.length-1])}}for(var i in LDATA.engines){var k=processNodeWithEngine(a,c,h,i,d,e);g=g||k}setNodeAttr(a,"bablic_last_value",getNodeValue(a),c)}if(1==a.nodeType&&a.attributes){e&&e.push(0);for(var l=0;l<a.attributes.length;l++)if((a.attributes[l].nodeName||"").toLowerCase()in z){e&&(e[e.length-1]=l);var k=m(a.attributes[l],h,a,null,e,f);g=g||k}e&&e.pop()}return g}}var n=/^(?:data\-)?bablic\-(.+)$/,o="https://www.bablic.com/dist";a.debugServer&&(o="//"+a.debugServer+"/dist"),processElement=a.processElement=function(b,c){if(LDATA&&LDATA.engines&&LDATA.content&&DOC.body&&Object.keys(LDATA.engines).length){if(WIN.angular&&(HAS_ANGULAR=!0),!DOC.body.getAttribute("bablic-exclude")){var d=savedContentNodes;savedContentNodes=[],domTraverse(b,a.UseInclude,c),mergeContentNodes(d)}(LDATA.fallback||LDATA.report)&&send_ldata_report(),LDATA.usage&&send_usage_report()}};var p={};addMarkupByCode=function(a,b,c){a&&b&&(p[a]=p[a]||{},"string"==typeof b?(p[a].sels=p[a].sels||{})[b]=c:(p[a].el=p[a].el||{}).push([b,c]))},removeMarkupByCode=b,excludeByCode=function(a){b("include",a)||addMarkupByCode("exclude",a,!0)},includeByCode=function(a){b("exclude",a)||addMarkupByCode("include",a,!0)},IS_PROPERTIES_SUPPORTED=!0;try{DOC.createTextNode("stam").a=0}catch(q){IS_PROPERTIES_SUPPORTED=!1}readNodeAttr=IS_PROPERTIES_SUPPORTED?function(a,b,c){return 2==a.nodeType?c["ba_"+a.nodeName+"_"+b]:a[b]}:function(a,b,c){if(1==a.nodeType||9==a.nodeType)return a[b];c=c||a.parentNode||a.ownerElement;var d=a.nodeName;if("#text"==d){for(var e=0;a.previousSiblin;)a=a.previousSibling,e++;d="#text"+e}return c[d+"_b_"+b]},setNodeAttr=IS_PROPERTIES_SUPPORTED?function(a,b,c,d){return 2==a.nodeType?d["ba_"+a.nodeName+"_"+b]=c:void(a[b]=c)}:function(a,b,c,d){if(1==a.nodeType||9==a.nodeType)return void(a[b]=c);d=d||a.parentNode||a.ownerElement;var e=a.nodeName;if("#text"==e){for(var f=0;a.previousSiblin;)a=a.previousSibling,f++;e="#text"+f}d[e+"_b_"+b]=c},setNodeAttrIf=IS_PROPERTIES_SUPPORTED?setNodeAttr:function(){},readNodeAttrIf=IS_PROPERTIES_SUPPORTED?readNodeAttr:function(){};var r=/(\w+)(?:=["']?([^"']*)["']?)?/g,s=/^\s*(\/?)bablic((?:.|\n)*)/;domTraverse=function(b,g,i){function j(b){for(var c=b;c.previousSibling;)c=c.previousSibling;for(;c!=b;){if(8==c.nodeType){var d=s.exec(c.nodeValue);if(d)if(d[1])A.length?l(A.pop()):a.error("Cant find start comment tag");else{A.push(c);var f=e(d[2]);k(c,f)}}c=c.nextSibling}}function k(a,b){for(var c in b){var d=b[c];"exclude"==c?v||(v=a,u&&(w.push(u),u=null)):"include"==c?u||(u=a,v&&(x.push(v),v=null)):(y.push({node:a,key:c,value:d}),z[c]=z[c]||[],z[c].push(d))}}function l(a){for(a==u&&(u=null,v=x.length?x.pop():null),a==v&&(v=null,u=w.length?w.pop():null);y.length&&y[y.length-1].node==a;){var b=y.pop();z[b.key].pop(),z[b.key].length||delete z[b.key]}}function n(b){if(t.push(b),1==q.nodeType){if(HAS_ANGULAR&&(a.version<=3.2||3.4==a.version)&&($(q).hasParent("[ng-controller]:not(.ng-scope),[ng-module]:not(.ng-scope)")||$(q).parent().is("[ui-view]")&&!$(q).is(".ng-scope")))return t.pop(),!0;readNodeAttr(q,"_seg")&&(E&&B.push(E),E=q);var c=d(q);k(q,c)}else{if(8!=q.nodeType)return;var f=s.exec(q.nodeValue);if(!f)return;if(f[1])A.length?l(A.pop()):a.error("Cant find start comment tag");else{A.push(q);var c=e(f[2]);k(q,c)}}}function o(){var b;if(u?b=m(q,z,1==q.nodeType?q:q.parentNode,E,t,i):(q._babEx=!0,LDATA.bidi&&1==q.nodeType&&Bidi.exclude(q)),t.pop(),1!=q.nodeType)return void(b&&(J=q.parentNode));if(b||q==J){if(q._babLis)try{q._babLis()}catch(c){a.error(c)}J=q.parentNode}E&&E==q&&(E=B.pop()),l(q)}if(b){triggerEvent("beforeChange");var p=triggerEvent("beforeProcess",[b]);if(p!==!1){a.setMutationListen(!1);var q=b,r=f(b,g);if(!r)return void a.setMutationListen(!0);var t=h(b);c();var u=r.exclude?null:b,v=r.exclude?b:null,w=[],x=[],y=[],z={_hash:!0},A=[],B=[];for(var C in r){var D=r[C];"exclude"!=C&&(y.push({key:C,value:D,node:b}),z[C]=z[C]||[],z[C].push(D))}j(b);var E=null;if("undefined"!=typeof CompositeEngine&&LDATA.engines[Text.index]){"HTML"==b.tagName?CompositeEngine.mapSegments(document.body):CompositeEngine.mapSegments(b);var F=b;do{if(readNodeAttr(F,"_seg")){E=F;break}F=F.parentNode}while(F.parentNode)}if(i){for(var G=0,H=b.parentElement,I=0;I<H.childNodes.length;I++)if(H.childNodes[I]==b){G=I;break}n(G),o()}else for(var J=null,K=0;null!=q;){var L=n(K);if(L||!q.hasChildNodes()||"TEXTAREA"==q.tagName||"SVG"==q.tagName||q.getAttribute&&"true"==q.getAttribute("contenteditable")||"phrase"in z||"exclude"in z)if(q.nextSibling&&q!=b)L||o(),K++,q=q.nextSibling;else{for(;null==q.nextSibling&&q!=b;)L||o(),L=!1,q=q.parentNode,K=t[t.length-1]||0;if(o(),q==b)break;q=q.nextSibling,K++}else q=q.firstChild,K=0}a.setMutationListen(!0)}}};var t=$("<div></div>");flushMergedNodes=function(){u&&(u=null,i(!0))};var u,v,w=[];mergeContentNodes=function(a){if(!savedContentNodes.length)return void(savedContentNodes=a);var b=savedContentNodes;if(savedContentNodes=a,w.push(b),u){if(Date.now()-v>2e3)return;clearTimeout(u)}else v=Date.now();u=setTimeout(function(){u=null,i(!0)},300)},a._pull=function(){return i(),savedContentNodes};var x={SCRIPT:1,STYLE:1,LINK:1};getNodeValue=function(a){return 1==a.nodeType?a.tagName in x?"":a.attributes["bablic-block"]?a.innerText:$.map(a.childNodes,function(a){return 3==a.nodeType?a.nodeValue:null}).join(" "):2==a.nodeType?a.value:a.nodeValue};var y="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",z={value:"",src:"",srcset:"",placeholder:"",alt:"",title:"",content:"",href:""};translateAttr=function(a,b){a&&(a=a.toLowerCase(),b!==!1?z[a]="":delete z[b],Text.addAttr(a,b))},processNodeWithEngine=function(b,c,d,e,f,g){var h=l(b,"pre"+e),i=l(b,"post"+e);h&&h();var k=Engines[e].qualifier.call(Engines[e],b,targetLocale,originalLocale,d,c,f);if(!k)return i&&i();var m=[],n=!1,o=!$.isArray(k);if(o)k=[k];else if(!k.length)return i&&i();var p,q=!1,r=2!=b.nodeType&&a.preview&&d.tags&&$.grep(d.tags.trim().toLowerCase().split(/\s*,\s*/),function(a){return a}),s=$.map(k,function(b){if(!b.id)return q=!0,b.content;if("translated"in d)return b.content;var c=e+"_"+b.id;if(a.preview){var f=(r||[]).concat(b.tags||[]);b.tags=f;var g=!1;f.forEach(function(a){TAGS[c]&&TAGS[c][a]||(g=!0,TAGS[c]=TAGS[c]||{},TAGS[c][a]=1)}),g&&delete LDATA.content[c]}if(!(c in LDATA.content)){var h=!1;if(b.bc)for(var i=0;i<b.bc.length;i++)if(e+"_"+b.bc[i]in LDATA.content){c=e+"_"+b.bc[i],h=!0,b.bcHash=b.bc[i];break}if(!h)return m.push(b),b.content}var j=LDATA.content[c];return"__empty__"!=j&&j!=b.content?(usage_report[c]=(usage_report[c]||0)+1,q=!0,j):b.content});(LDATA.edit||SUPPORT_AJAX_NAVIGATE&&"1"==e)&&(p=1==b.nodeType?$(b).html():2==b.nodeType?b.value:b.nodeValue);var t=!q&&$.grep(k,function(a){var b=a.d||a.t;return b&&a.vars?b[0]!=a.vars[0]:!1}).length;if(!q&&!t||c._babIg||(Engines[e].replacer.call(Engines[e],b,o?s[0]:s,o?k[0]:k,targetLocale,originalLocale,d,c,f),2==b.nodeType&&attributeObserver(c,b)),i&&i(),!m.length||readNodeAttr(b,"bablic_replaced",c)&&getNodeValue(b)===readNodeAttr(b,"bablic_replaced_value",c)||($.each(m,function(d,f){new_content[e]=new_content[e]||{};var h=new_content[e][f.id]||{content:f.content,elements:[],nodes:[],markup:{},i:A++,a:!1,h:f.h,path:j(g),tags:{}};if(a.preview){var i=f.tags||[];$.each(i,function(a,b){h.tags[b]=1})}f.h||delete h.h,f.bc&&(h.bc=f.bc),h.a=h.a||f.a,h.nodes.push(b),h.elements.push(c),new_content[e][f.id]=h}),n=!0),(LDATA.edit||SUPPORT_AJAX_NAVIGATE&&LDATA.ajaxWidget)&&(!readNodeAttr(b,"bablic_replaced",c)||getNodeValue(b)!==readNodeAttr(b,"bablic_replaced_value",c))){if(2==b.nodeType){var u=b.parentNode||c;u.bablic_attrs=u.bablic_attrs||[],u.bablic_attrs.push(b)}$.each(k,function(f,g){"1"==e&&1==b.nodeType&&(g.oVal=Engines[e].oVal,g.tree=Engines[e].tree),c&&c._fake||savedContentNodes.push({node:b,composite:g.tree,content:g.content,oVal:g.oVal,isAttr:2==b.nodeType,element:1==b.nodeType?b:b.parentNode||c,hash:e+"_"+(g.bcHash||g.id||""),original:d.translated||g.content,vars:g.vars,d:g.d,t:g.t,c:g.c,h:g.h,completeOriginal:p,translation:s[f],restore:function(b,c){(q||t)&&(a.setMutationListen(!1),Engines[e].restore&&(h&&h(),Engines[e].restore(this,b,c,k,s,d),i&&i()),setNodeAttr(b,"bablic_last_value",getNodeValue(b),c),a.setMutationListen(!0))},replace:function(b,c,g){a.setMutationListen(!1),q=!0,this.restore(b,c),s[f]=g,h&&h(),Engines[e].replacer.call(Engines[e],b,o?s[0]:s,o?k[0]:k,targetLocale,originalLocale,d,c),i&&i(),setNodeAttr(b,"bablic_last_value",getNodeValue(b),c),a.setMutationListen(!0)},engine:Engines[e]})})}return 0==m.length&&(setNodeAttr(b,"bablic_replaced",!0,c),setNodeAttr(b,"bablic_replaced_value",getNodeValue(b),c)),q};node_to_location=function(a,b,c){return b&&1==b.nodeType?void b.setAttribute("bablic-content-id",c):{}},addOMGScript=function(){if(!WIN.omg){a.setMutationListen(!1);var b=DOC.getElementsByTagName("SCRIPT")[0];if(LDATA.edit){var c=DOC.createElement("SCRIPT"),d="/js/omg3.min.js";c.src=o+d,b.parentNode.insertBefore(c,b);var e=DOC.createElement("LINK");e.href=o+"/css/omg3.css",e.rel="stylesheet",e.type="text/css",e.className="bablicOMGStyle",e.setAttribute("bablic-exclude","true");var b=DOC.getElementsByTagName("HEAD")[0];b.appendChild(e)}a.setMutationListen(!0)}};var A=0;triggerEvent=function(b,c){var d;if(window.CustomEvent){var e=[];try{c&&(e=JSON.parse(JSON.stringify(c)))}catch(f){}"function"==typeof CustomEvent?d=new CustomEvent("bablic"+b,{detail:e}):(d=document.createEvent("CustomEvent"),d.initCustomEvent("bablic"+b,!1,!1,e))}else DOC.createEvent?(d=DOC.createEvent("HTMLEvents"),d.initEvent("bablic"+b,!0,!0)):(d=DOC.createEventObject(),d.eventType="bablic"+b);if(DOC.createEvent)DOC.dispatchEvent(d);else try{DOC.fireEvent("on"+d.eventType,d)}catch(g){a.log("cant fire event "+d.eventType,g)}return Mutation.emit(b,c)}}(bablic);var CompositeEngine=function(){function a(b){for(var c=b.tagName.replace(/\d+$/,""),d="H"==c?b.tagName:c,e=DOC.createElement(d),f=0;f<b.attributes.length;f++)e.setAttribute(b.attributes[f].name,b.attributes[f].value);for(var g=b.firstChild;g;){var h=g.nextSibling;1==g.nodeType?e.appendChild(a(g)):e.appendChild(g),g=h}return e}function b(a,b){for(var c=0;c<b.attributes.length;c++)a.setAttribute(b.attributes[c].name,b.attributes[c].value)}function c(a){var b={};a.skip=!0,a.countTags(b);var c={};return a.setIndexes(b,c),a.toString()}function d(a,b,c){for(var d=a;null!=d;){var e=b&&b(d);if(e||!d.hasChildNodes()||d.tagName.toUpperCase()in v)if(d.nextSibling&&d!=a)e||c&&c(d),d=d.nextSibling;else{for(;null==d.nextSibling&&d!=a;)e||c&&c(d),e=!1,d=d.parentNode;if(e||c&&c(d),d==a)break;d=d.nextSibling}else d=d.firstChild}}function e(){var a=document.createElement("SPAN");a.setAttribute("bablic-exclude",""),a.style.visibility="hidden",a.style["float"]="left",document.body.appendChild(a);var b=$(a).css("display");return document.body.removeChild(a),"block"===b}function f(a){if("boolean"==typeof a._babDisp)return a._babDisp;var b=$(a);return j.test(b.css("display"))?a._babDisp=m||!k.test(b.css("float")):a._babDisp=!1,a._babDisp}function g(a){for(null===m&&(m=e()),bablic.version<3.7||bablic.version>=9?(v={TEXTAREA:1,SVG:1},p={},u=!1):u=!0,bablic.version<3.8&&bablic.version>=9&&(o=void 0);a.parentNode&&"BODY"!=a.tagName&&!readNodeAttr("_seg")&&f(a);)a=a.parentNode;var b,c=[];d(a,function(a){if(1==a.nodeType&&"BR"!=a.tagName){var d=a.hasAttribute("bablic-block"),e=d&&a.getAttribute("bablic-block");if(d&&"false"!==e)return setNodeAttr(a,"_seg",!0),b&&(b.text=!0),!0;if("OPTION"!=a.tagName&&f(a)||"false"===e){if(!b)return}else c=[];b={text:!1,elements:!1,composite:!1},c.push(b)}},function(a){if(b)if(3==a.nodeType){if(b.composite)return;l.test(a.nodeValue)&&(b.text=!0,b.elements&&(b.composite=!0))}else{if(1!=a.nodeType)return;if("BR"==a.tagName)return void(b.text&&(b.elements=!0));var d=c.pop();b=c[c.length-1],b?d.composite?b.composite=!0:d.text&&(b.text?b.composite=!0:(b.text=!0,b.elements=!0)):d.composite&&setNodeAttr(a,"_seg",!0)}})}function h(a){var b,c=[];return d(a,function(d){var e=c[c.length-1];if(3==d.nodeType){var f=new q(d.nodeValue);e.append(f)}else if(8==d.nodeType){var g=new s(d.nodeValue);e.append(g)}else if(1==d.nodeType)if("BR"==d.tagName){var h=new r;e.append(h)}else{if(d!=a){var i=new t(d,b);e.append(i),e=i}else b=new t(d),e=b;c.push(e)}},function(a){1==a.nodeType&&"BR"!=a.tagName&&c.pop()}),b}function i(a,b){var c=DOC.createElement("div");try{c.innerHTML=b.replace(/<([^>]*?)\/>/g,"<$1></$1>")}catch(d){return void console.error("Bad translation HTML",b)}var e={};a.collectChildren(e),a.copyFromElement(c,e),a.saveUnused(e)}var j=/^(?:inline|none)$/i,k=/left|right/,l=/[^-\s]/,m=null,n={B:5,STRONG:5,U:6,A:10,IMG:11,BUTTON:12},o=0,p={STRONG:1,B:1,U:1,H1:1,H2:1,H3:1,H4:1,H5:1,H6:1,H7:1},q=function(a){this.text=a};q.prototype.isEmpty=function(){return!l.test(this.text)},q.prototype.toString=function(){return this.text},q.prototype.getType=function(){return""};var r=function(){};r.prototype.toString=function(){return"<br>"},r.prototype.getType=function(){return"BR"},r.prototype.isEmpty=function(){return!0};var s=function(a){this.text=a};s.prototype.getType=function(){return"COMMENT"},s.prototype.setIndex=function(a){this.i=a},s.prototype.isEmpty=function(){return!0},s.prototype.toString=function(){return"<!-- comment"+(this.i||"")+" -->"};var t=function(a,b){this.element=a,this.children=[];a.getAttribute("bablic-exclude")||a.getAttribute("data-bablic-exclude");a.hasAttribute("bablic-exclude")&&"false"!==a.getAttribute("bablic-exclude")?this.excluded=!0:a.hasAttribute("data-bablic-exclude")&&"false"!==a.getAttribute("data-bablic-exclude")?this.excluded=!0:(b&&a.hasAttribute("bablic-block")||a.hasAttribute("data-bablic-block"))&&(this.excludedChild=!0)};t.prototype.append=function(a){this.excluded||this.excludedChild||this.children.push(a)},t.prototype.setIndex=function(a){this.getType()in p||(this.i=a)},t.prototype.getType=function(){return this.element.tagName};var u=!1;t.prototype.isEmpty=function(){if(this.excludedChild&&u)return!0;for(var a=0;a<this.children.length;a++){var b=this.children[a];if(!(b instanceof r||b instanceof s||b.isEmpty()))return!1}return u},t.prototype.getTrimTop=function(){if(this.excluded)return 0;for(var a=0,b=0;b<this.children.length;b++)if(!this.children[b].isEmpty()){a=b;break}return a},t.prototype.getTrimBottom=function(a){var b=this.children.length-1;if(this.excluded)return b;for(var c=this.children.length-1;c>a;c--)if(!this.children[c].isEmpty()){b=c;break}return b},t.prototype.countTags=function(a){if(!this.excluded&&!this.isEmpty()){var b=this._tt=this.getTrimTop(),c=this._tb=this.getTrimBottom(b);if(!(b>c)){for(var d,e=0,f=0,g=[],h=b;c>=h;h++){var i=this.children[h];if(i instanceof t){var j=i.getType();g.push(j),i.countTags(a)}else i instanceof s&&(a.COMMENT=(a.COMMENT||0)+1);f||e>1||i instanceof r||i instanceof s||(i instanceof q?i.isEmpty()||f++:i.isEmpty()||(e++,d=i))}if(this._nee=e,this._fce=d,this._net=f,1>=e&&0==f){if(this.singleChild=d,g[0]){var k=n[g[0]]||0,l=this.getType(),m=n[l]||o;k>m?(this.skip=!0,a[g[0]]=(a[g[0]]||0)+1):(this.singleChild.skip=!0,a[l]=(a[l]||0)+1)}}else g.forEach(function(b){a[b]=(a[b]||0)+1})}}},t.prototype.setIndexes=function(a,b){if(!this.excluded&&!(0==this._nee&&0==this._net||this._tb<this._tt)){if(this.singleChild){if(this.skip&&!this.singleChild.skip){var c=this.singleChild.getType();if(a[c]>1){var d=b[c]=(b[c]||0)+1;this.singleChild.setIndex(d)}}return this.singleChild.setIndexes(a,b)}for(var e=this._tt;e<=this._tb;e++){var f=this.children[e];if(f instanceof t||f instanceof s){if(f.skip){if(bablic.version<=3.6&&3.5!=bablic.version)continue}else{var c=f.getType();if(a[c]>1){var d=b[c]=(b[c]||0)+1;f.setIndex(d)}}f instanceof t&&f.setIndexes(a,b)}}}},t.prototype.toString=function(){if(this.hidden)return"";var a=this.skip,b=this.getType().toLowerCase(),c=a?null:b;if(c&&this.i&&(c+=this.i),this.excluded||this.isEmpty())return a?"":"<"+c+"/>";var d=this._tt,e=this._tb;if(d>e)return a?"":"<"+c+"/>";if(this.singleChild)return a?this.singleChild.toString():"<"+c+">"+this.singleChild.toString()+"</"+c+">";for(var f=new Array(e-d+1),g=d;e>=g;g++){var h=this.children[g];f.push(h.toString())}return a?f.join(""):"<"+c+">"+f.join("")+"</"+c+">"},t.prototype.collectChildren=function(a){if(!this.excluded){if(this.singleChild){if(this.skip&&(this.singleChild._p=this._p||this),this.skip&&!this.singleChild.skip){var b=this.singleChild.getType();this.singleChild.i&&(b+=this.singleChild.i),a[b]=a[b]||[],a[b].push(this.singleChild)}return this.singleChild.collectChildren(a)}if(!this.isEmpty()){var c=this._tt,d=this._tb;if(!(c>d))for(var e=c;d>=e;e++){var f=this.children[e];if(f instanceof t||f instanceof s){if(!f.skip){var b=f.getType();f.i&&(b+=f.i),a[b]=a[b]||[],a[b].push(f)}f instanceof t&&f.collectChildren(a)}}}}},t.prototype.getChildren=function(a){var b={};return this.collectChildren(b),(b[a]||[]).map(function(a){return a.element})},t.prototype.saveUnused=function(a){if(Object.keys(a).length&&!this.excluded){for(var b=0;b<this.children.length;b++)this.children[b]instanceof t&&this.children[b].saveUnused(a);for(var c in a){var d;do if(d=a[c].shift(),d&&d.element&&this.children.indexOf(d)>-1){var e=d._p&&d._p!=this?d._p.element:d.element;e.setAttribute("hidden",""),d.hidden=!0,this._ab?this.element.insertBefore(this._ab,e):this.element.appendChild(e)}while(d)}}},t.prototype.copyFromElement=function(c,d){if(!this.excluded){if(this.singleChild&&this.singleChild.skip)return this.singleChild.copyFromElement(c,d);if(!this.isEmpty()){var e=this._tt,f=this._tb;if(!(e>f)){this.element.hasChildNodes()||this.element.appendChild(DOC.createTextNode(""));for(var g=this.element.firstChild,h=this.element.lastChild,i=0;e>i&&g.nextSibling;i++)g=g.nextSibling;for(var i=this.children.length-1;i>f&&h.previousSibling;i--)h=h.previousSibling;for(var j=g;j!=h;){var k=j;j=j.nextSibling,this.element.removeChild(k)}var l=h.nextSibling;this._ab=l,this.element.removeChild(h);for(var m=this.element,n=function(a){l?m.insertBefore(a,l):m.appendChild(a)},o=c.firstChild;o;){if(3==o.nodeType){var p=DOC.createTextNode(o.nodeValue);n(p)}else if(8==o.nodeType){var q=(d[o.nodeValue||"COMMENT"]||[]).shift();q=q&&q.text;var r=DOC.createComment(q||o.nodeValue);n(r)}else if("BR"==o.tagName){var s=DOC.createElement("BR");n(s)}else{var t=o.tagName.replace(/\d+$/,""),u=d[o.tagName],v=u&&u.shift();if(v||(u=d[t],v=u&&u.shift()),u&&!u.length&&delete d[o.tagName],!v){var w=a(o);o=o.nextSibling,n(w);continue}var x=v._p&&v._p!=this&&!v._p.element.contains(this.element)?v._p.element:v.element;x.removeAttribute("hidden"),v.hidden=!1,b(x,o),v.copyFromElement(o,d),n(x)}o=o.nextSibling}}}}};var v={TEXTAREA:1,SVG:1,STYLE:1,SCRIPT:1,CODE:1,OBJECT:1,VIDEO:1,AUDIO:1,CANVAS:1,IFRAME:1};return{mapSegments:g,buildDOMTree:h,replaceDOMTree:i,getTreeContent:c}}(),Text=Engines[1]=function(){function getUniqueId(a,b){countPerUnique[a]=countPerUnique[a]||[];var c=countPerUnique[a].indexOf(b);return-1==c&&(countPerUnique[a].push(b),c=0),0==c&&(c=""),a+c}function escapeChars(a,b){return a.replace(/_%(.*?)%_/g,function(a,c){return b.push(c),"ESC"})}function unEscapeChars(a,b){return a.replace(/ESC/g,function(a,c){return b.shift()})}var compact=/\s+/g,CHECK_INLINE=/^(?:inline|none)$/i,HAS_COMPOSITE="undefined"!=typeof CompositeEngine,SHOPIFY_REGEX=/powr\-map/i,HAS_LINES=/\S\s*__nl__\s*\S/,CLEAN_TAGS=!1,countPerUnique={},symbols="؋ƒ₼៛¥₡₱£€₾¢₹﷼₪₩₭₨₮₦₽฿₺₴₫",attrs={title:!0,placeholder:!0},Self={index:1,name:"text",addAttr:function(a,b){b!==!1?attrs[a]=!0:delete attrs[a]},prepare:function(){bablic.version>3.6&&(CLEAN_TAGS=!0);var self=this,CURRENCIES="";self.CURRENCIES=CURRENCIES,self.hasLiterals=bablic.version>3.6?/(?:^|[.,\-\/\\'”«»"[\]()+*:&%#@!?<>{}\s\r\n^])[^\-.,\/\\'”«»"[\]()+*:&%#@!?<>0-9{}\s\r\n^؋ƒ₼៛¥₡₱£€₾¢₹﷼₪₩₭₨₮₦₽฿₺₴₫]+[\-&\s\r\n]*[^\-.,\/\\'”«»"[\]()+*:&%#@!?<>0-9{}\s\r\n^؋ƒ₼៛¥₡₱£€₾¢₹﷼₪₩₭₨₮₦₽฿₺₴₫]+/:/(?:^|[.,\-\/\\'”«»"[\]()+*:&%#@!?<>{}\s\r\n^])[^\-.,\/\\'”«»"[\]()+*:&%#@!?<>0-9{}\s\r\n^]+[\-&\s\r\n]*[^\-.,\/\\'”«»"[\]()+*:&%#@!?<>0-9{}\s\r\n^]+/,self.g=/[,\/\\'”«»"[\]()+*:&%$~#@!?<>{}^]{6}/,self.div=$("<div></div>"),(LDATA.alt||LDATA.conf&&LDATA.conf.a)&&(attrs.alt=!0),self.i={button:0,submit:0,reset:0},self.m={description:0,title:0,"st:title":0,"st:section":0,"og:description":0,"og:title":0,"twitter:title":0,"twitter:description":0,"og:site_name":0},self.split=/(?:\s+[|]\s+|{nl}|{ct[^}]*})/,self.trim=/^[\s\r\n^]*((?:.|\n|\r)*?)[\s\r\n^]*$/,self.mnth={1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"},self.cmpc=self._mnth={},$.each(self.mnth,function(a,b){self._mnth[b.toLowerCase()]=a,self._mnth[b.toLowerCase().substr(0,3)]=a}),originalLocale&&originalLocale.months&&$.each(originalLocale.months,function(a,b){self._mnth[b.toLowerCase()]=a+1,self._mnth[b.toLowerCase().substr(0,3)]=a+1}),targetLocale&&targetLocale.months&&$.each(targetLocale.months,function(a,b){self.mnth[a+1]=b}),self.dbm=!LDATA.mbd;var monthNames=Object.keys(self._mnth);self.nums=RegExp("\\b(?:([0-2]?\\d):([0-5]\\d)\\s*(am|pm)?|(\\d?\\d)[\\/\\-.](\\d?\\d)[\\/\\-.](\\d\\d(?:\\d\\d))?|(?:(\\d\\d?)(st|nd|rd|th)?\\s+)?("+monthNames.join("|")+")(?:\\s*[,\\s]\\s*(\\d\\d\\d\\d)|\\s+(\\d\\d?)(st|nd|rd|th)?(?:\\s*[,\\s]\\s*(\\d\\d(?:\\d\\d))?)?)|\\d(?:[0-9+\\-.,\\^]*\\d)?|(-?\\s?\\d{1,3}(?:\\s\\d{3})*(?:\\.\\d+))|https?:\\/\\/[^\\s]+|[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}"+CURRENCIES+")","ig"),self.need_bidi=/(?:^|[0-9.,\/\\'[\]()+*:&%#@!?<>{}^])(?:$|[0-9.,\/\\'[\]()+*:&%#@!?<>{}^])/,self.exclude=/<(?:.|\n|\r)*?exclude(?:.|\n|\r)*?>(?:.|\n|\r)*?<(?:.|\n|\r)*?>/gi,self.pm=/pm/i,self.SEG_DEP=2,self.SEG_STEP=/((?:.|\n)*?){(?:t(\d+)|(nl)|(ct[^}]*))}/g,self.itags={SCRIPT:1,STYLE:1,HEAD:1,NOSCRIPT:1,SVG:1,SYMBOL:1,CODE:1,VAR:1,PATH:1,CANVAS:1,LINK:1},self.extractNums=function(text){for(var nums=[],dates,times,m,t=[],lI=0,i=0;m=self.nums.exec(text);){if(nums.push(m[0]),targetLocale.timeFormat&&m[1]){times=times||{};var hours=Number(m[1]),minutes=Number(m[2]);m[3]&&self.pm.test(m[3])&&(hours+=12);var escapes=[],format=escapeChars(targetLocale.timeFormat,escapes);if(times[i]=format.replace("mm",10>minutes?"0"+minutes:minutes).replace(":m",":"+minutes),self.pm.test(times[i])){var hasPM=hours>11;hasPM?hours-=12:times[i]=times[i].replace("PM","AM").replace("pm","am")}times[i]=times[i].replace("hh",10>hours?"0"+hours:hours).replace("h",hours),times[i]=unEscapeChars(times[i],escapes)}else if(m[4]||m[9]){dates=dates||{};var year,month,day,suffix;if(m[4]?(self.dbm?(day=Number(m[4]),month=Number(m[5])):(day=Number(m[5]),month=Number(m[4])),year=Number(m[6])):(month=Number(self._mnth[m[9].toLowerCase()]),day=Number(m[11]||m[7]),year=Number(m[10]||m[13]),!year&&m[11]&&m[7]&&(day=Number(m[7]),year=Number(m[11])),suffix=m[8]||m[12]),100>year&&(year=(20>year?2e3:1900)+year),targetLocale.dateFormat){var escapes=[],format=escapeChars(targetLocale.dateFormat,escapes);format.indexOf("${")>-1?format=format.replace(/\$\{([^}]*)\}/g,function(a0,a1){return eval("(function(d,m,y){ return "+a1+"; })("+day+","+month+","+year+")")}):(day||(format=format.replace(/d+(th|\s|\.|,|\-|\/)+/,"")),month||(format=format.replace(/m+(\s|\.|,|\-|\/)+/,"")),year||(format=format.replace(/(\s|\.|,|\-|\/)+y+/,"")));var reg=/mmmm|mmm|mm|m|dd|d|yyyy|yy|th/g;dates[i]=unEscapeChars(format.replace(reg,function(a){switch(a){case"mmmm":return self.mnth[month];case"mmm":return(self.mnth[month]||"").substr(0,3);case"mm":return 10>month?"0"+month:month;case"m":return month;case"dd":return 10>day?"0"+day:day;case"d":return day;case"yyyy":return year||"";case"yy":return year?year%100:"";case"th":return""}}),escapes)}else if(m[9]){var date=nums[i];suffix&&(date=date.replace(suffix,"")),dates[i]=date.replace(m[9],self.mnth[month])}}t.push(text.substr(lI,m.index-lI),"{"+i++ +"}"),lI=m.index+m[0].length}return lI<text.length&&t.push(text.substr(lI)),text=t.join(""),{text:text,nums:nums,d:dates,t:times}},self.stripText=function(a,b,c,d,e,f){var g=self.trim.exec(a),a=g&&g[1];if(!a)return null;var h=!1,i=$.map(c||e?[a]:a.split(self.split),function(a){if(a=self.trim.exec(a)[1],!a)return null;if(self.g.test(a.replace(/\.+/g,".")))return null;var e=b?{text:a,nums:[]}:self.extractNums(a),g=self.hasLiterals.test(e.text);if(g&&LDATA.block&&LDATA.block.test&&(g=!LDATA.block.test(e.text)),e.text.indexOf("BESbswy")>-1&&(g=!1),g&&WIN.Shopify&&(g=!SHOPIFY_REGEX.test(e.text)),!e.d&&!e.t&&!g)return e.nums.length?{content:a,id:d||bablicHash(c?getUniqueId(c,a):a),a:!1,tags:["visible"]}:null;for(var i=0,j=0;j<e.nums.length;j++)i+=e.nums[j].length;if(a.length==i||!g)return{content:e.text,vars:e.nums,d:e.d,t:e.t,a:!1};h=!0;var k=e.text.toLowerCase().replace(compact," ").replace(/σ([^a-zα-ω]|$)/g,"ς$1"),l=k;return f&&CLEAN_TAGS&&(k=k.replace(/\s*<[^>]*>\s*/g,"<>")),{id:d||bablicHash(c?getUniqueId(c,k):k),content:e.text,vars:e.nums.length&&e.nums,v:c,d:e.d,t:e.t,a:!0,tags:["visible"],bc:f&&CLEAN_TAGS&&k!=l?[bablicHash(c?getUniqueId(c,l):l)]:null}});return i.length&&i},self.isSeg=function(a){if(CHECK_INLINE.test($(a).css("display"))&&(a=a.parentNode,CHECK_INLINE.test($(a).css("display"))))return!1;for(var b=0,c=!1,d=0;d<a.childNodes.length;d++){var e=a.childNodes[d];if(1==e.nodeType){if(b++,!CHECK_INLINE.test($(e).css("display")))return!1}else 3==e.nodeType&&/[^-\s]/.test(e.nodeValue)&&(c=!0)}return!!(b>1||b>0&&c)}},qualifier:function(a,b,c,d,e,f){if(e&&e.tagName&&e.tagName.toUpperCase()in this.itags)return null;d=d||{};var g="no-vars"in d,h=d.unique,i=d.id;!HAS_COMPOSITE&&e&&a==e.firstChild&&(d.block?setNodeAttr(e,"_seg","false"!=d.block):"undefined"==typeof readNodeAttr(e,"_seg")&&setNodeAttr(e,"_seg",this.isSeg(e))),this.tree=null;var j=this;switch(a.nodeType){case 3:if(HAS_COMPOSITE){if(f)return null}else if(e&&readNodeAttr(e,"_seg"))return null;var k=a.nodeValue;"TITLE"==e.tagName&&d.translated&&(k=d.translated,g=!0);var l=j.stripText(k,g,h,i);return l&&setNodeAttrIf&&setNodeAttrIf(a,"bablic_c",l),l&&"TITLE"==e.tagName&&$.each(l,function(a,b){b.h=!0,b.tags=["visible","meta"]}),l;case 2:var m=(a.nodeName||"").toLowerCase();if(m in attrs||"value"==m&&e&&"input"==(e.tagName||"").toLowerCase()&&e.attributes.type&&(e.attributes.type.value||"").toLowerCase()in this.i){if("iframe"==(e.tagName||"").toLowerCase())return;if("#"==a.value[0]&&-1==a.value.indexOf(" "))return null;var l=j.stripText(a.value,g,h,i);return l&&"value"!=m&&"placeholder"!=m&&$.each(l,function(a,b){b.h=!0,"alt"==m&&(b.tags=["alt"])}),l}return null;case 1:if(this.m&&"META"===a.tagName){var n=(a.getAttribute("name")||"").toLowerCase()||(a.getAttribute("property")||"").toLowerCase()||(a.getAttribute("itemprop")||"").toLowerCase();if(n in this.m){var o=d.translated||a.getAttribute("content")||a.getAttribute("value"),l=j.stripText(o,bablic.version<=3.7?!0:g,h,i);return l?($.each(l,function(a,b){b.h=!0,b.a=!0,b.tags=["meta"]}),l):null}return null}if("phrase"in d){var p=$(a).html();if(d.phrase&&"true"!=d.phrase&&"false"!=d.phrase)return[{id:i||bablicHash(d.phrase),content:p,a:!0,v:d.phrase}];if(h)return[{id:i||bablicHash(h),content:p,a:!0,v:h}];for(var q,r=[];q=j.exclude.exec(p);)r.push(q[0]);return $.each(r,function(a,b){p=p.replace(b,"{"+a+"}")}),[{id:i||bablicHash(p.toLowerCase()),content:p,vars:r.length&&r,a:!0}]}if(HAS_COMPOSITE){if(f==e){var s=CompositeEngine.buildDOMTree(e);if(s.isEmpty())return null;var t=CompositeEngine.getTreeContent(s),l=j.stripText(t,g,h,i,!0,!0);return l?(this.tree=s,this.oVal=t,l):null}return null}if(readNodeAttr(e,"_seg")){var u=0,v=[],w={};this._seg=!1;for(var x=e.firstChild,y=!0;x;)3==x.nodeType?(y=!0,v.push(x.nodeValue)):8==x.nodeType?(y=!0,v.push("{ct"+(x.nodeValue||"").replace(/}/g,"__close__")+"}")):"BR"==x.tagName?(y=!0,
v.push("{nl}")):(y&&v.push("{t"+ ++u+"}"),(w[u]=w[u]||[]).push(x),y=!1),x=x.nextSibling;var z=v.join("");this.oVal=z;var l=j.stripText(z,g,h,i);return l&&l.length&&$.each(l,function(a,b){b&&(b.c=w)}),l}return null}},replacer:function(a,b,c,d,e,f,g){var h=1!=a.nodeType?2==a.nodeType?a.value:a.nodeValue:"phrase"in f?$(a).html():"META"==a.tagName?a.getAttribute("content")||a.getAttribute("value")||"":this.oVal,i=1==a.nodeType,j=!1,k=this.tree;if($.each(c,function(a,d){var e=b[a];e=e.replace(/^(__nl__)+/,"").replace(/(__nl__)+$/,""),j=j||HAS_LINES.test(e);var f=d.content;d.tmp&&f==e&&(f=e=d.tmp),d.vars&&$.each(d.vars,function(a,b){var c=d.t&&d.t[a]||d.d&&d.d[a]||b;e=e.replace(RegExp("\\{"+a+"\\}","g"),c),f=f.replace(RegExp("\\{"+a+"\\}","g"),b)}),h=k&&1==c.length?e:h.replace(f,e)}),this.tree)h=h.replace(/__nl__/g,"\n"),g._bWS==a&&(g.style.whiteSpace="",delete g._bWS);else{var l=!1;if(h=h.replace(/\n/g,"").replace(/__nl__/g,"\n"),!HAS_COMPOSITE&&j&&(l=!0),HAS_COMPOSITE&&h.indexOf("<br>")>-1&&(l=!0,h=h.replace(/\n/g,"").replace(/<br>/g,"\n")),l){var m=$(g).css("white-space");if("pre"!=m&&"pre-line"!=m&&"nowrap"!=m&&!g.style.whiteSpace){g.style.whiteSpace="pre-line",g._bWS=a;for(var n=0;n<g.childNodes.length;n++){var o=g.childNodes[n];3==o.nodeType&&o!=a&&(o.nodeValue=o.nodeValue.replace(/^\s+/g," ").replace(/\s+$/g," "))}}}}if(i)if("phrase"in f)$(a).html(h);else if("META"==a.tagName)a.setAttribute("content",h);else{if(HAS_COMPOSITE){var p=this.tree;return p?void CompositeEngine.replaceDOMTree(p,h):console.error("Problem with segment manipulating",a)}for(var q=LDATA.edit||doesSupportAjaxReplace(),r={},s=[],t=[],u=[],v=a.firstChild,w=0,x=[],y=!0;v;){var z=v.nextSibling;3==v.nodeType?(u.push(v),y=!0):8==v.nodeType?(t.push(v),y=!0):1==v.nodeType&&("BR"==v.tagName?(s.push(v),y=!0):(y?r[++w]=[v]:r[w].push(v),y=!1,q&&(v.order||(v.order=[w,r[w].length-1]),x.push(v))),q&&1==v.nodeType&&v.removeAttribute("hidden")),v&&a.removeChild(v),v=z}q&&(r={},x.forEach(function(a){r[a.order[0]]=r[a.order[0]]||[],r[a.order[0]][a.order[1]]=a})),h=h.replace(/<tn?(\d+)>.*?<\/tn?\d+>/g,"{t$1}");for(var A;A=this.SEG_STEP.exec(h+"{t0}");){var B=A[1],C=A[2];if(B){var D=u.shift()||DOC.createTextNode(B);D.nodeValue=B,a.appendChild(D)}if(C){if("0"!=C){var E=r[C];E&&$.each(E,function(b,c){a.appendChild(c)})}}else if(A[3]){var F=s.shift()||DOC.createElement("BR");a.appendChild(F)}else{var G=A[4].substr(2).replace(/__close__/g,"}"),H=t.shift()||DOC.createComment(G);a.appendChild(H)}}if(q)for(var I in r)for(var w=0;w<r[I].length;w++)r[I][w].parentNode!=a&&(r[I][w].setAttribute("hidden",""),a.appendChild(r[I][w]))}else 2==a.nodeType?a.value=this.div?this.div.html(h).text():h:a.nodeValue=this.div?this.div.html(h).text():h;if(g&&LDATA.bidi_elements){var B=$.trim(i?$(a).html():2==a.nodeType?a.value:a.nodeValue);this.need_bidi.test(B)&&this.hasLiterals.test(B)&&($(g).css("direction",LDATA.bidi_elements),g.dir=LDATA.bidi_elements)}},restore:function(a,b,c,d,e,f){if(1==b.nodeType){this.oVal=a.oVal,this.tree=a.tree,!this.oVal&&d.length&&(this.oVal=d[0].oVal),!this.tree&&d.length&&(this.tree=d[0].tree);var g=d.map(function(a,b){return a._cnt=a.content,a._d=a.d,a._t=a.t,a.d={},a.t={},a.content=e[b],a._cnt});this.replacer(b,g,d,targetLocale,originalLocale,f,c),d.forEach(function(a){a.content=a._cnt,a.d=a._d,a.t=a._t,delete a._cnt,delete a._d,delete a._t})}else 2==b.nodeType?b.value=a.completeOriginal:b.nodeValue=a.completeOriginal}};return Self}(),CSS=Engines[2]={index:2,name:"css",qualifier:function(a,b,c){return 1==a.nodeType&&"HEAD"==a.tagName?{id:bablicHash(bablic.Site),content:"<style type='text/css' id='bablic_site_css' bablic-exclude></style>",a:!0}:null},replacer:function(a,b,c,d,e,f){var g=$.byId("bablic_site_css");if(g.length()){var h=b.replace(/<.*?>/g,"");if(g.html()==h)return;g.html(h)}else $(a).append(b)},restore:function(a,b,c){$.byId("bablic_site_css").remove()}},IMAGE_META={"og:image":1,"st:image":1,"twitter:image":1},Images=Engines[3]={index:3,name:"images",prepare:function(){this.r=/url\("?(.+?)"?\)/},qualifier:function(a,b,c,d,e){if(2==a.nodeType&&"src"==a.nodeName.toLowerCase()&&("IMG"==e.tagName||"INPUT"==e.tagName&&"image"==e.getAttribute("type"))&&e.parentNode&&"HEAD"!=e.parentNode.tagName)return bablic.version>=3.9&&e.attributes.srcset?null:cleanSrc(a.value,null,a);if(1==a.nodeType){var f=null,g=!1;if("META"==a.tagName&&a.getAttribute("property")in IMAGE_META)f=a.getAttribute("content"),g=!0;else{var h=$(a).css("background-image"),i=h&&this.r.exec(h);f=i&&i[1]}return cleanSrc(f,g)}if(2==a.nodeType&&"srcset"==a.nodeName.toLowerCase()&&"IMG"==e.tagName){var j=a.value.trim().split(/\s*,\s*/).map(function(a){return a.split(/\s+/)}),k=bablic.version<3.9?$.grep(j.map(function(a){return cleanSrc(a[0])}),function(a){return a}):[];j.sort(function(a,b){return parseFloat(b[1])-parseFloat(a[1])});var l=cleanSrc(j[0][0],!1,a);return l&&k.unshift(l),k}return null},replacer:function(a,b,c,d,e,f,g){if(!Array.isArray(b)&&CLOUDINARY_REGEX.test(b)&&c){var h=c.content.replace(/^(https?:)?\/\//i,"").split("/"),i=h[4];i.indexOf("_")>-1&&h.length>5&&(h=b.replace(/^(https?:)?\/\//i,"").split("/"),h.splice(4,0,i),b="//"+h.join("/"))}if(2==a.nodeType)if("srcset"==a.nodeName.toLowerCase()){var j,k=!1,l=a.value.trim().split(/\s*,\s*/).map(function(a,b){return a.split(/\s+/)});if(CLOUDINARY_REGEX.test(b[0])){h=b[0].replace(/^(https?:)?\/\//i,"").split("/");var m=h.slice(0,4).join("/"),n=h.slice(4).join("/"),j=l.map(function(a,b){var c=(a[1]||"").trim().split(/\s+/),d=$.grep(c.map(function(a){return"w"==a[a.length-1]?"w_"+a.substr(0,a.length-1):"h"==a[a.length-1]?"h_"+a.substr(0,a.length-1):void 0}),function(a){return a});return d.push("f_auto","q_80"),"//"+m+"/"+d.join(",")+"/"+n+" "+a[1]}).join(", ");k=j!=a.value}else j=l.map(function(a,c){return k=k||a[0]!=b[c],a[0]=b[c]||b[0]||a[0],a.join(" ")}).join(",");if(k){c&&(replacedImages[c.id]=a.value),a._babSrcset=a.value;var o=g.attributes.src;if(o){var p=getSelectedSource(o.value,a.value,j);p&&p!=o.value&&(o.value=p)}a.value=j}}else if(a.value!=b)c&&(replacedImages[c.id]=a.value),a.value=b;else{var q=g.attributes.srcset;if(q&&q._babSrcset&&q.value.indexOf("bablic")>-1){var r=getSelectedSource(a.value,q._babSrcset,q.value);r&&r!=a.value&&(a.value=r)}}else{var s=this.r.exec($(a).css("background-image"));s&&s[1]!=b&&(c&&(replacedImages[c.id]=s[1]),$(a).css("background-image",'url("'+b+'")'),a._babBck||(a._babBck=!0,attributeObserver(a,a.attributes.style)))}},restore:function(a,b,c,d,e,f){"srcset"==b.nodeName.toLowerCase()?this.replacer(b,$.map(d,function(a){return a.content}),null,null,null,f,c):this.replacer(b,d[0].content,null,null,null,f,c)}},replacedImages={},BLANK_REGEX=/\b(blank|empty)\b\.(gif|png|jpe?g)$/i,CLOUDINARY_REGEX=/cloudinary/,UrlEngine;!function(){var a=/\.(jpe?g|png|zip|apk|crx|rar|z7|tar|gz|mp3|avi|mpeg|bmp|wav|pdf|docx?|xml|xlsx?|kml|svg|eot|woff|woff2|pptx?|txt|rtf|mp4)$/i,b=DOC.createElement("A");UrlEngine=Engines[4]={index:4,name:"url",qualifier:function(c,d,e,f){if(1!=c.nodeType)return null;if(f&&"ignore"==f.url)return null;var g,h,i,j;if("A"==c.tagName&&c.attributes.href&&""!==c.attributes.href.value&&"#"!=c.attributes.href.value[0]){if("alternate"==c.getAttribute("rel"))return null;g=c;try{g.href}catch(k){return null}}else if("IFRAME"==c.tagName&&c.src)b.setAttribute("href",c.src),g=b,i=!0;else if("FORM"==c.tagName&&c.getAttribute("action"))b.setAttribute("href",c.getAttribute("action")),g=b,h=!0;else{if("META"!=c.tagName||"og:url"!=c.getAttribute("property"))return null;b.setAttribute("href",c.getAttribute("content")),g=b,j=!0}var l=g.hostname,m=LDATA.localeDetection||LDATA.locale_detection,n=!1,o=!1;switch(g.protocol){case"tel:":case"callto:":case"sms:":case"mailto:":o=!0;break;case"http:":case"https:":n=!isInDomain(g.hostname),h||i||j||!g.getAttribute("download")&&!a.test(g.pathname)||(o=!0);break;default:return null}var p=!1;if(n&&"custom"==m&&bablic.originalLocale&&bablic.originalLocale.url&&0==bablic.originalLocale.url.indexOf(g.hostname)&&(n=!1,l="",p=!0),n||o){var q=g.getAttribute("href"),r=l+g.pathname+(g.search||"");return WIN.BABLIC_RESTORE?(q=BABLIC_RESTORE(q),r=BABLIC_RESTORE(r)):WIN.BABLIC_R&&(q=q.replace(BABLIC_R,BABLIC_V),r=r.replace(BABLIC_R,BABLIC_V)),{id:bablicHash(r),content:q,oVal:{form:h,frame:i,m:j}}}if(f&&"switch"in f)return null;var s=!1;if("subdir"!=m||bablic.preview){if(!("subdomain"==m&&isInDomain(g.hostname)||p)){if(WIN.BABLIC_REPLACE){var t=BABLIC_REPLACE(g.href);if(t!=g.href)return{content:"",oVal:{form:h,frame:i,abs:s,m:j}}}var q=g.getAttribute("href");return"#"==q[0]?null:{id:bablicHash(q),content:q,oVal:{form:h,frame:i,m:j}}}s=!0}else{if(g.hostname!=LOC.hostname)return null;if(g.protocol!=LOC.protocol)return null}return{content:"",oVal:{form:h,frame:i,abs:s,m:j}}},replacer:function(a,c,d,e){var f,g=d.oVal;if(f=g.frame||g.form||g.m?b:a,d.id)g.frame?a.setAttribute("src",c):a.setAttribute("href",c);else{var h=LDATA.localeDetection||LDATA.locale_detection;if("subdomain"==h)f.href=bablic.getLink(e.key,f.hostname,f.href);else if("subdir"==h&&LDATA.localeKeys){var i=bablic.folders?Object.keys(bablic.folders):LDATA.localeKeys,j=RegExp("^"+escapeRegex(bablic.subDirBase||"")+"(\\/(?:"+i.join("|")+"))*\\/"),k=j.exec(f.pathname);k&&(f.pathname=f.pathname.replace(k[0],"/"));var l="";!bablic.subDirBase||bablic.subDirOptional&&e.key==bablic.original||(l=bablic.subDirBase),bablic.folders?l+="/"+getFolder(e.key,bablic.folders):e.key!=bablic.original&&(l+="/"+e.key),f.pathname=l+f.pathname}else if(WIN.BABLIC_REPLACE)if(f.protocol!=LOC.protocol&&WIN.top.VisualEditor){var m=f.hostname,n=f.protocol,o=f.pathname+f.search+f.hash;f.addEventListener("click",function(a){a.preventDefault(),top.VisualEditor.redirectTop({protocol:n,domain:m,path:o})})}else f.href=BABLIC_REPLACE(f.href);if(!g.form&&!g.frame&&!g.m)return null;var p=g.form?"action":g.m?"content":"src";g.abs?a.setAttribute(p,f.href):a.setAttribute(p,f.pathname+(f.search||"")+(f.hash||""))}},restore:function(a,c,d,e,f){e[0].oVal.frame?b.setAttribute("href",c.src):e[0].oVal.form&&b.setAttribute("href",c.getAttribute("action")),this.replacer(c,e[0].content,e[0],originalLocale)}}}();var Bidi;!function(){function a(a){var c=parseURL(a),d=c.hostname==LOC.hostname&&-1==a.indexOf("//")?a.substring(0,a.lastIndexOf("/")+1):"//"+c.hostname+c.pathname.substring(0,c.pathname.lastIndexOf("/")+1);return function(a){return b(a,c,d)}}function b(a,b,c){return a.replace(/url\(\s*['"]?(.+?)['"]?\s*\)/g,function(a,d){return d.indexOf("//")>-1?a:0==d.indexOf("data:")?a:"/"==d[0]?"url('//"+b.hostname+d+"')":"url('"+c+d+"')"})}function c(a,b,c,d){try{var e=Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(a,b);if(e){if(e.configurable===!1)return!1;var f=e.get,g=$.extend({},e);return e.get=function(){return c.call(this,f)},Object.defineProperty(a,b,e),Object.defineProperty(a,"_bab"+b,g),!0}var h=a.__lookupGetter__&&a.__lookupGetter__(b);if(h){var i=function(){return c.call(this,h)};return a.__defineGetter__(b,i),a.__defineGetter__(b,"_bab"+h),!0}if(d){try{if(Object.getOwnPropertyDescriptor)return Object.defineProperty(a,b,{get:c,configurable:!0}),!0}catch(j){}return a.__defineGetter__(b,c),!0}}catch(j){bablic.error("error overriding "+b+" "+j.message)}}function d(a,b){try{if(Object.defineProperties)Object.defineProperties(a,b);else if(a.__defineGetter__)for(var c in b)if(a.__defineGetter__(c,b[c].get),a.__defineSetter__(c,b[c].set),a.__lookupGetter__(c)!=b[c].get)return!1}catch(d){}}function e(a){return a.replace(B,function(a){return C[a]})}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c][0],e=b[c][1],f=a.lastIndexOf(d);if(-1!=f)return a.replace(RegExp(escapeRegex(d),"g"),e)}return a}function g(a,b,c){if(!a)return a;var d=M.exec(a);if(!d)return a;var e=d[1]||d[2];if(e.length>1&&"\\"!=e[0])return a.replace(K,function(a){return L[a]});for(var g=b.split("{")[0].trim(),h=[],i=0;i<J.length;i++){var j=J[i],k=f(g,[j,[j[1],j[0]]]);if(k!=g){if(k in I)return I[k];h.push(k)}}if(!c)return a;for(i=0;i<h.length;i++){var l=h[i],m=$.grep(c,function(a){return a.selectorText==l})[0];if(m){var n=m.style.content;if(n&&(d=M.exec(n),d&&(e=d[1]||d[2],!(e.length>1&&"\\"!=e[0]))))return I[g]=a,I[l]=n,n}}return a}function h(a,b,c,d){if("string"!=typeof b)return b;if("direction"==a)return"ltr"==b?"rtl":"rtl"==b?"ltr":b;if("margin"==a||"padding"==a)return b.replace(D,"$1 $4 $3 $2");if("border-radius"==a)return b.replace(D,"$2 $1 $4 $3");if("content"==a)return g(b,c,d);if(!y&&"background-position-x"==a&&(b=b.trim(),N.test(b)))return 100-Number(b.substr(0,b.length-1))+"%";if(!y&&"background-position"==a){b=b.trim();var e=b.split(/\s+/);if(N.test(b)){var f=e[0],h=e[1]||e[0];return 100-Number(f.substr(0,f.length-1))+"% "+h}}if("animation-name"==a||"animation"==a){var i=b.split(/\s+/),j=i.shift();return[j+"-bablic-bidi"].concat(i).join(" ")}if(F.test(a)){b=b.trim();var e=b.split(/\s+/);if(N.test(b)||0===parseFloat(e[0])){var f=e[0];return e[0]=100-parseFloat(f)+"%",e.join(" ")}}else if(E.test(a))return b.replace(G,function(a,b,c,d){return"translate"+(b||"")+"("+(c||"0"==d?"":"-")+d}).replace(H,function(a,b,c,d){return"rotate"+(b||"")+"("+(c||"0"==d?"":"-")+d});var k=[];return b.replace(q,function(a){return k.push(a),"__SAVE__"}).replace(B,function(a){return"left"==a?"right":"left"}).replace(/__SAVE__/g,function(){return k.shift()})}function i(a){for(var b=[],c={},d=a.length-1;d>=0;d--){var f=a[d],g=a[f],i=e(f),j=h(f,g);if(f!=i){b.push(f);var k=a.getPropertyPriority(f);c[i]=[j,k]}else j!=g&&(a[f]=j)}b.forEach(function(b){a.removeProperty(b)});for(var f in c)a.setProperty(f,c[f][0],c[f][1])}function j(a,b,c){for(var d=[],f=!1,g=a.length-1;g>=0;g--){var i=a[g],j=a[i],k=e(i),l=h(i,j,b,c);f||(l!=j||y&&-1==i.indexOf("-")&&"initial"==j?f=!0:k!=i&&a[i]!=a[k]&&(f=!0));var m=a.getPropertyPriority(i)?" !important":"";d.push(k+":"+l+m+";")}return f?d.join(" "):null}function k(a){var b=[];try{for(var c=0;c<a.cssRules.length;c++){var d=a.cssRules[c],e=d.type;switch(e){case 1:if(d.selectorText.indexOf(":not([data-x-bidi]")>-1)break;var f=d.selectorText.replace(/\s:not\(\.bab\-stam\)/g," *").replace(/\s\[data\-x\-bidi\]/g," *").replace(/:not\(\.bab\-stam\)/g,"").replace(/\[data\-x\-bidi\]/g,"").split(/\s*,\s*/).map(function(a){return a||"*"}).join(",");b.push(f+"{"+m(d)+"}");break;case 4:var g=d.conditionText||(d.media?d.media.mediaText:"");if(!g)return l(d);b.push("@media "+g+"{"+k(d)+"}");break;case 12:b.push("@supports "+d.conditionText+"{"+k(d)+"}");break;case 13:b.push("@document "+d.conditionText+"{"+k(d)+"}");break;case 7:var h=d.name;if(h.indexOf("-bablic-bidi")>-1)break;default:b.push(l(d))}}}catch(i){bablic.error(i)}return b.join("\n")}function l(a){try{return a.cssText||(a.getCssText?a.getCssText():"")}catch(b){switch(a.type){case 7:return"@keyframes "+a.name+"{"+$.map(a.cssRules,function(a){return a.keyText+" {"+a.style.cssText+"}"})+"}";case 8:return a.keyText+" {"+a.style.cssText+"}"}}}function m(a){if(y){for(var b=!1,c=0;c<a.style.length;c++){var d=a.style[c];if("initial"==a.style[d]&&-1==d.indexOf("-")){b=!0;break}}if(b){var e=[];for(c=0;c<a.style.length;c++){var d=a.style[c],f=a.style.getPropertyPriority(d)?" !important":"";e.push(d+":"+a.style[d]+f+" ;")}return e.join("\n")}}var g=l(a),h=O.exec(g);return h?h[1]:""}function n(b){if(!b.cssRules)return"";var c=[];try{for(var d=0;d<b.cssRules.length;d++){var e=b.cssRules[d],f=e.type;switch(f){case 1:var g=j(e.style,e.cssText,b.cssRules),h=$.grep(e.selectorText.split(",").map(function(a){return a.trim()}),function(a){return a}),i=[],k=[],o=[];if(h.forEach(function(a){var b=$.grep(a.split(/\s+/),function(a){return a}),c=b.pop(),d=[],e=c.replace(/\[.*?\]/g,function(a){var b=[];return d.push(a.replace(/"[^"]"/g,function(a){return b.push(a),"__QUOTE__"}).replace(/\\?:/g,"\\:").replace("__QUOTE__",function(){return b.shift()||'""'})),"__ATTR__"}).split(":").map(function(a){return a.replace(/__ATTR__/g,function(){return d.shift()||""})}),f=e.shift();if(!g){var h=[f+":not(.bab-stam)"].concat(e).join(":");return void o.push([].concat(b,[h]).join(" "))}var j=[f+"[data-x-bidi]"].concat(e).join(":");i.push([].concat(b,[j]).join(" "));var l=[f+":not([data-x-bidi])"].concat(e).join(":");k.push([].concat(b,[l]).join(" "))}),!g){c.push(o.join(",")+"{"+m(e)+"}");break}c.push(i.join(",")+"{"+m(e)+"}"),c.push(k.join(",")+"{"+g+"}");break;case 3:var p=e.sheet||e.styleSheet,q=!1;try{q=p.cssRules}catch(r){}if(s.test(e.href)||!q){c.push(e.cssText);break}var t=a(e.href),u=t(n(p));if(e.media&&e.media.mediaText){c.push("@media "+e.media.mediaText+"{"+u+"}");break}c.push(u);break;case 4:var v=e.conditionText||(e.media?e.media.mediaText:"");if(!v)return l(e);c.push("@media "+v+"{"+n(e)+"}");break;case 12:c.push("@supports "+e.conditionText+"{"+n(e)+"}");break;case 13:c.push("@document "+e.conditionText+"{"+n(e)+"}");break;case 7:var w=e.name,x=!1;c.push(l(e));var y=Array.prototype.map.call(e.cssRules,function(a){var b=j(a.style);return b?(x=!0,a.keyText+" {"+j(a.style)+"}"):l(a)}).join(" ");c.push("@keyframes "+w+"-bablic-bidi{"+y+"}");break;default:c.push(l(e))}}}catch(r){bablic.error(r)}return c.join("\n")}function o(a,b){bablic.setMutationListen(!1);try{a.innerHTML=b}catch(c){var d=document.createTextNode();for(d.nodeValue=b;a.firstChild;)a.removeChild(a.firstChild);a.appendChild(d)}bablic.setMutationListen(!0)}var p,q=/url\(\s*['"]?(.+?)['"]?\s*\)/g,r=/(squarespace|shopifycdn)\.com/,s=/googleapis\.com|gravatar\.com|typekit/i,t=!1,u=!1,v=!1,w=null,x=0,y=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),z=window.CSS2Properties?CSS2Properties:CSSStyleDeclaration,A=!1;Bidi=Engines[5]={index:5,name:"bidi",qualifier:function(a,b,c,d){return u?d&&"false"===d.bidi||"SVG"==a.tagName?(1==a.nodeType&&this.exclude(a),null):1==a.nodeType&&a.attributes.dir&&a.attributes.dir.value!=c.dir&&"HTML"!=a.tagName&&"BODY"!=a.tagName?(this.exclude(a),null):a.className&&a.className.indexOf&&a.className.indexOf("bablic")>-1?null:a.id&&a.id.indexOf&&a.id.indexOf("bablic")>-1?null:1==a.nodeType&&"LINK"==a.tagName&&"stylesheet"==(a.getAttribute("rel")||"").toLowerCase()&&-1==(a.className||"").indexOf("bablic")&&-1==(a.id||"").indexOf("bablic")?s.test(a.href)?null:a._babQ?null:(a._babQ=!0,{content:"",id:""}):1==a.nodeType&&"STYLE"==a.tagName&&-1==(a.className||"").indexOf("bablic")&&-1==(a.id||"").indexOf("bablic")?a._babQ?null:(a._babQ=!0,{content:"",id:""}):(1==a.nodeType&&this.element(a),null):void 0},replacer:function(b){if("LINK"==b.tagName&&!b.sheet&&!b._br){var c=b._babRev=++x;return void b.addEventListener("load",function(){c===b._babRev&&Bidi.replacer(b)})}if(b._babRestored!==!1){var d=function(a){var b=document.createElement("STYLE");return b.setAttribute("bablic-exclude",""),b.setAttribute("type","text/css"),b.setAttribute("media","print"),o(b,a),b.sheet&&b.sheet.cssRules||document.head.appendChild(b),b},e=function(a,b,c){var e=[],g=0;return a=a.replace(/@import\s+(?:(?:url\(\s*["']?)|"|')(.+?)(?:(?:["']?\s*\))|"|')(?:\s+([^;]*?))?;/g,function(c,h,i){if(s.test(h))return c;var j="__REPLACE"+g++ +"__";return e.push(function(c){f(h,function(e){if(b){var f=d(e);e=n(f.sheet),f.parentNode&&f.parentNode.removeChild(f)}a=a.replace(j,i?"@media "+i+"{"+e+"}\n":e+"\n"),c()})}),j}),e.length?void parallel(e,function(){c(a)}):c(a)},f=function(b,c){var d=parseURL(b),f=a(b),g=function(a){a=f(a),e(a,!1,c)};return r.test(d.href)||LocalDB.getSync("cors-"+d.href)?ajaxGet("//e2.bablic.com/api/engine/access?url="+encodeURIComponent(d.href),null,g,null,!1,2):void ajaxGet(d.href,null,g,function(){ajaxGet("//e2.bablic.com/api/engine/access?url="+encodeURIComponent(d.href),null,g,null,!1,2),LocalDB.setSync("cors-"+d.href,"1")},!1,2)},g="STYLE"==b.tagName?b:b._babBidid;if(g){var h=n(g.sheet);return void e(h,!0,function(a){o(g,a),g._babRestored=!1})}var i=b.getAttribute("href");if(i){b.setAttribute("crossorigin","anonymous");var j=!1;try{j=b.sheet&&b.sheet.cssRules}catch(k){}if(j){var l=document.createElement("STYLE");l.setAttribute("bablic-exclude",""),l.setAttribute("type","text/css"),l.setAttribute("data-source",b.getAttribute("href"));var m=b.getAttribute("media");m&&l.setAttribute("media",m);var p=a(i),h=p(n(b.sheet));return void e(h,!0,function(a){b.parentNode&&(o(l,a),l._babRestored=!1,b._babBidid=l,b.setAttribute("media","print"),b.parentNode.insertBefore(l,b))})}if(!b.bablicLoading){b.bablicLoading=!0;var q=bablic.hidden;q&&setHidden(!0),f(i,function(a){var c=document.createElement("STYLE");c.setAttribute("bablic-exclude",""),c.setAttribute("type","text/css"),c.setAttribute("data-source",b.getAttribute("href")),c.setAttribute("media","print"),o(c,a),c._babRestored=!1,b._babBidid=c;var d=b.getAttribute("media");b.parentNode&&(b.parentNode.insertBefore(c,b),b._br=!0,b.parentNode.removeChild(b),o(c,n(c.sheet)),d?c.setAttribute("media",d):c.removeAttribute("media"),q&&setHidden(!1))})}}}},restore:function(a,b){var c="STYLE"==b.tagName?b:b._babBidid;if(!c)return void(b._babRev=++x);if(c._babRestored===!1){var d=k(c.sheet);c._babRestored=!0,o(c,d)}},element:function(a){a._babBidi||(a.attributes.style&&i(a.style),v||p(a,!0),a._babBidi=!0)},exclude:function(a){a.setAttribute("data-x-bidi",""),a._babBidi&&(delete a._babBidi,v||p(a,!1),a.attributes.style&&i(a.style))},activate:function(){if(t){for(var a=document.querySelectorAll("[style]:not([data-x-bidi])"),b=0;b<a.length;b++)a[b].getAttribute("bablic-exclude")?Bidi.exclude(a[b]):Bidi.element(a[b]);return void(u=!0)}u=!0,t=!0;var f=!1,g=!1,i=!1,j=!!window.MutationObserver,k=window.Symbol&&Symbol.iterator;window.Proxy&&"function"==typeof Proxy;if(v=!A&&c(HTMLElement.prototype,"style",function(a){var b=a.apply(this);return!f&&u&&this._babBidi?new N(b):(u&&(b._babParent=this),b)}))try{if(Object.defineProperties){var l=Object.getOwnPropertyDescriptor(z.prototype,"left");l&&l.configurable===!1?f=!1:(l={configurable:!0,get:function(){return this.getPropertyValue("left")},set:function(a){return this.setProperty("left",a)}},Object.defineProperty(z.prototype,"left",l),f=Object.getOwnPropertyDescriptor(z.prototype,"left").get==l.get)}if(!f){var m=z.prototype.__lookupGetter__("width");m&&(z.prototype.__defineGetter__("width",function(){}),z.prototype.__lookupGetter__("width")!=m&&(g=!0,z.prototype.__defineGetter__("width",m)))}}catch(n){}else try{var o=document.createElement("div"),q={};g=c(o,"style",function(){return q},!0),o.style==q&&(g=!0),g||(o.style=q,o.style==q&&(i=!0))}catch(n){}if(!(f||g||i||j))return u=!1,void(t=!1);var r=!f&&!g&&!i;f?bablic.log("BIDI: will override css attributes globaly"):g||i?bablic.log("BIDI: will override css attributes per element"):bablic.log("BIDI: will observe style attribute changes");var s=z.prototype.setProperty;z.prototype.setProperty=function(a,b,c,d){if(!u||v&&!this._babParent||this._babParent&&!this._babParent._babBidi)return c?s.call(this,a,b,c):s.call(this,a,b);r&&(this._babOrig=this._babOrig||{},this._babOrig[a]=b),y&&"left"==a&&(this._babParent||d)&&(this._babParent||d)==document.body&&(this._babRight=b,b="0"),a=e(a);var f=h(a,b);return c?s.call(this,a,f,c):s.call(this,a,f),b};var w=z.prototype.getPropertyValue;z.prototype.getPropertyValue=function(a,b){if(!u||v&&!this._babParent||this._babParent&&!this._babParent._babBidi)return w.call(this,a);if(y&&"left"==a&&(this._babParent||b)&&(this._babParent||b)==document.body)return this._babRight||"";a=e(a);var c=w.call(this,a);return c=h(a,c)},z.prototype._getProp=w;var x=z.prototype.getPropertyPriority;z.prototype.getPropertyPriority=function(a){return!u||v&&!this._babParent||this._babParent&&!this._babParent._babBidi?x.call(this,a):x.call(this,e(a))};var B=z.prototype.removeProperty;z.prototype.removeProperty=function(a){return!u||v&&!this._babParent||this._babParent&&!this._babParent._babBidi?B.call(this,a):B.call(this,e(a))};try{var C=["left","right","padding","margin","float","text-align","padding-left","padding-right","margin-left","margin-right","border-radius","border-left","border-left-color","border-left-style","border-left-width","border-right","border-right-color","border-right-style","border-right-width","border-top-left-radius","border-top-right-radius","border-bottom-left-radius","border-bottom-right-radius","text-align-last"],D=["transform","transform-style","transform-origin","transition","transition-property"],E=function(){var a=window.getComputedStyle(document.documentElement,""),b=(Array.prototype.slice.call(a).join("").match(/-(moz|webkit|ms)-/)||""===a.OLink&&["","o"])[1],c="WebKit|Moz|MS|O".match(new RegExp("("+b+")","i"))[1];return{dom:c,lowercase:b,css:"-"+b+"-",js:b[0].toUpperCase()+b.substr(1)}}();D.forEach(function(a){C.push(a),E.lowercase&&C.push(E.css+a)});for(var F={"float":["cssFloat"]},G=C.length,b=0;G>b;b++){var H=C[b],I=H.split("-");if(I.length>1){var J=I.shift()+I.map(function(a){return a[0].toUpperCase()+a.substr(1)}).join("");F[H]=[J],"-"==H[0]&&(J=I.shift()+I.map(function(a){return a[0].toUpperCase()+a.substr(1)}).join(""),F[H].push(J))}}var K={};if(C.forEach(function(a){K[a]=1}),f){var L={};C.forEach(function(a){var b={get:function(){return this.getPropertyValue(a)},set:function(b){this.setProperty(a,b+"")},configurable:!0};L[a]=b,a in F&&F[a].forEach(function(a){L[a]=b})}),d(z.prototype,L)}else if(g||i){var M=document.createElement("div"),N=function(a){this.s=a};k&&(N.prototype[Symbol.iterator]=function(){var a=0;return{next:function(){return{value:this.s[++a],done:!(a in this.s)}}}});for(var O in z.prototype){try{if("function"!=typeof z.prototype[O])continue}catch(n){continue}N.prototype[O]=z.prototype[O]}var P={};for(var O in M.style)"function"!=typeof M.style[O]&&(P[O]=function(a){if(a in K){var b={get:function(){return this.s.getPropertyValue(a)},set:function(b){this.s.setProperty(a,b+"")},configurable:!0};return H in F&&F[H].forEach(function(a){P[a]=b}),b}return"length"==a?{get:function(){var a=this.s.length;this._babItr=this._babItr||0;for(var b=this._babItr;a>b;b++)c(this,b+"",function(a){return function(){return this.s[a]}}(b),!0);return a},configurable:!0}:{get:function(){return this.s[a]},set:function(b){this.s[a]=b},configurable:!0}}(O));d(N.prototype,P),p=function(a,b){if(b){a._babStyl||(a.style._babParent=a,a._babStyl=new N(a.style));var d=a._babStyl;g?c(a,"style",function(){return d},!0):i&&(a.style=d)}else{if(!a._babStyl)return;g?c(a,"style",function(){return a._babStyl.s},!0):i&&(a.style=a._babStyl.s)}}}else if(j){var Q={attributes:!0,attributeFilter:["style"]};p=function(a,b){if(b)a._babObs||(a._babObs=new MutationObserver(function(){for(var b=[],c=0;c<a.style.length;c++){var d=a.style[c];if(d in K){var e=a.style[d],f=a.style._babOrig?a.style._babOrig[d]:"";f!=e&&b.push([d,e,f])}}if(b.length){a._babObs.disconnect();for(var c=0;c<b.length;c++)a.style[b[c][0]]=b[c][2],a.style.setProperty(b[c][0],b[c][1],void 0,a);a._babObs.observe(a,Q)}}),a._babObs.observe(a,Q));else{if(!a._babObs)return;a._babObs.disconnect()}}}}catch(n){bablic.error("Error overriding CSS style attributes "+n.message)}var R=Element.prototype.getBoundingClientRect;Element.prototype.getBoundingClientRect=function(){var a=R.call(this);if(!u||!this._babBidi)return a;var b=document.documentElement.offsetWidth;return a?{top:a.top,bottom:a.bottom,width:a.width,height:a.height,left:b-a.right,right:b-a.left}:a},Element.prototype._babgetBoundingClientRect=R,c(HTMLElement.prototype,"offsetLeft",function(a){var b=a.apply(this);if(!u||!this._babBidi)return b;var c=this.offsetParent,d=c?c.clientWidth:document.documentElement.clientWidth;return d-this.clientWidth-b});var S=WIN.getComputedStyle;bablic.getStyle=S,WIN.getComputedStyle=function(a){var b=S.apply(this,arguments);return u&&a&&a._babBidi?(b._babParent=a,b):b},c(MouseEvent.prototype,"pageX",function(a){var b=a.apply(this);return u?document.documentElement.clientWidth-b:b}),c(MouseEvent.prototype,"clientX",function(a){var b=a.apply(this);return u?document.documentElement.clientWidth-b:b})},deactivate:function(){u=!1;for(var a=document.querySelectorAll("[style]"),b=0;b<a.length;b++)a[b]._babBidi&&(delete a[b]._babBidi,v||p(a[b],!1),i(a[b].style))},setDir:function(a){var b=originalLocale.dir||"ltr";if(w=w||b,a!=w){if(a!=b){this.activate();var c="html{direction:"+a+';} polyline{transform: scale(-1,1);transform-origin: 50% 50%;} .bidi-flip{transform: scale(-1,1);transform-origin: 50% 50%;}[bablic-exclude],[data-bablic-exclude],[data-bablic-bidi="false"],[bablic-bidi="false"]{direction:'+b+';} [bablic-include],[data-bablic-include],[data-bablic-bidi="true"],[bablic-bidi="true"]{direction:'+a+";} [dir=ltr]:not([data-x-bidi]){ direction:rtl;} [dir=rtl]:not([data-x-bidi]){ direction:ltr;}",d=$.byId("bablic_rtl_css");d.length()?d.html(c):(setHidden(!0,!0),$.byTag("head").append("<style type='text/css' id='bablic_rtl_css' bablic-exclude>"+c+"</style>"),bablic.on("translated",function(){setHidden()}))}else this.deactivate(),$.byId("bablic_rtl_css").html("html{direction:"+a+";}");w=a}}};var B=/[Ll]eft|[Rr]ight/,C={left:"right",right:"left",Left:"Right",Right:"Left"},D=/([\-0-9.]+(?:px|em|pt|%|)|auto)[\s\t\n\r]+([\-0-9.]+(?:px|em|pt|%|)|auto)[\s\t\n\r]+([\-0-9.]+(?:px|em|pt|%|)|auto)[\s\t\n\r]+([\-0-9.]+(?:px|em|pt|%|)|auto)/gi,E=/transform/i,F=/transform-origin/i,G=/translate(X|3d)?\(\s*(\-)?([0-9\.]+)/,H=/rotate(X)?\(\s*(\-)?([0-9\.]+)/,I={},J=[["left","right"],["next","previous"],["prev","next"]],K=/<>\(\)\[\]\{\}\/\\/g,L={">":"<","<":">","(":")",")":"(","[":"]","]":"[","{":"}","}":"{","/":"\\","\\":"/"},M=/^\s*(?:(?:"([^"]+)")|(?:'([^']+)'))\s*$/,N=/^[\-0-9.]+%/,O=/\{(.+)\}/}();var detectBrowserLocale,pageUri,normalizedCurrentPath,normalizeSomePath,doesSupportAjaxReplace,LocaleSettings,WidgetSettings,bablicDTO;!function(bablic){function getCurrentOtherDomain(){if("undefined"==typeof getOtherDomain)return"";var a=LDATA&&LDATA.mountSubs&&LDATA||bablic.data||{},b=a.mountSubs,c=LOC.hostname;return WIN.BABLIC_RESTORE?c=BABLIC_RESTORE(c):WIN.BABLIC_R&&(c=c.replace(BABLIC_R,BABLIC_V)),getOtherDomain(c,b)}function getCurrentSubDomain(){var a=LDATA&&LDATA.mountSubs&&LDATA||bablic.data||{},b=a.domain,c=a.mountSubs;if(!b||!c)return"";var d=b.indexOf("/");d>-1&&(b=b.substr(0,d));var e=a.localeKeys||LDATA&&LDATA.locales&&$.map(LDATA.locales,function(a){return a.key}),f=LOC.hostname;return WIN.BABLIC_RESTORE?f=BABLIC_RESTORE(f):WIN.BABLIC_R&&(f=f.replace(BABLIC_R,BABLIC_V)),getSubDomain(f,b,e,c)}function processSavedNodes(a,b){if(document.querySelectorAll&&!bablic.preview){var c;if("string"==typeof a)c=Array.prototype.slice.apply(document.querySelectorAll(a+","+a+" *"));else{a.length||(a=[a]),c=[];for(var d=0;d<a.length;d++)c.push(a[d]),Array.prototype.push.apply(c,a[d].querySelectorAll("*"))}for(var e=[],d=0;d<c.length;d++)b||c[d]._babIg?b&&c[d]._babIg&&(delete c[d]._babIg,e.push(c[d])):(c[d]._babIg=!0,e.push(c[d]));if(e.length&&LDATA&&LDATA.content&&savedContentNodes){bablic.setMutationListen(!1);for(var d=0;d<savedContentNodes.length;d++){var f=savedContentNodes[d].node,g=savedContentNodes[d].element;if(-1!=e.indexOf(g))if(b){if(!locked){var h=LDATA.content[savedContentNodes[d].hash];h&&"__empty__"!=h&&savedContentNodes[d].replace(f,g,h)}}else savedContentNodes[d].restore(f,g)}for(var d=0;d<watchedElements.length;d++)try{watchedElements[d]._babLis()}catch(i){bablic.error(i)}bablic.setMutationListen(!0)}}}function switchLocaleAjax(a,b,c){if(a!=bablic.locale&&!locked){delete bablic.explicitLocale,b=b||bablic.getLink(a);var d=function(b){if(a in localeLDATAs&&(LDATA=localeLDATAs[a],LDATA.content))return bablic.locale=a,underlineLocale=a,siteConfReceived(LDATA),triggerEvent("locale",[a]),b();LDATA={content:{}},bablic.locale=a,underlineLocale=a,locked=!0;var c=++fetchRevision;fetchSequence(c,function(a,d,e){locked=!1,c==fetchRevision&&(e&&translationReceived(e,!0),b(a),ping({shouldHide:!1,stats:d,detectedLocale:bablic.detectedLocale,path:normalizedCurrentPath()}))})},e=!bablic._processed,f=a==bablic.original,g=parseURL(b);bablic.replaceState?bablic.replaceState(null,null,g.pathname+(g.query||"")+(g.hash||"")):history.replaceState(null,null,g.pathname+(g.query||"")+(g.hash||"")),
d(function(){if(e){var a=savedContentNodes;return savedContentNodes=[],runHeadEngines(!0),bablic._processed=!0,domTraverse($.byTag("html").get(0),bablic.UseInclude),mergeContentNodes(a),void triggerEvent("translated",[bablicDTO()])}if(!savedContentNodes)return bablic.error("Error on ajax navigate");bablic.setMutationListen(!1);for(var b=changeRev++,d=0;d<savedContentNodes.length;d++){var g=savedContentNodes[d],h=g.node,i=g.element;if(f||i._babIg||!LDATA.engines[g.engine.index])g.restore(h,i);else{var j=LDATA.content[g.hash],k=j&&"__empty__"!=j;k||g.hash.length<=3?(g.replace(h,i,k?j:g.content),h._b_rev=b):h._b_rev!=b&&g.restore(h,i)}}if(c){var a=savedContentNodes;savedContentNodes=[],runHeadEngines(!0),_forceTraverse=!0,domTraverse($.byTag("html").get(0),bablic.UseInclude),_forceTraverse=!1,mergeContentNodes(a)}for(var d=0;d<watchedElements.length;d++)try{watchedElements[d]._babLis()}catch(l){bablic.error(l)}bablic.setMutationListen(!0),triggerEvent("translated",[bablicDTO()]),LDATA.fallback&&!LDATA.edit&&send_ldata_report(!0)})}}function getLocaleSettings(a){var b=LocaleSettings[a];return b||(b=LocaleSettings[a]={}),b}bablic.version=3.6;var GMG="57b42c866d5421b850514257"==bablic.Site;GMG&&(bablic.dedicated="d3haa487u26i72.cloudfront.net",bablic.version=3.7,document.body?($.byClass("short-description").attr("bablic-block","").attr("bablic-tags",""),$(".short-description > span").attr("bablic-block",!0).attr("bablic-tags","short-description")):setTimeout(function(){onReady(function(){$.byClass("short-description").attr("bablic-block","").attr("bablic-tags",""),$(".short-description > span").attr("bablic-block",!0).attr("bablic-tags","short-description")})}),excludeByCode(".m-list,.m-users")),bablic.getLocale=function(){return bablic.locale};var isBot=function(){return navigator&&navigator.userAgent&&/bot|crawler|spider|facebook|twitter|80legs|google|seo/i.test(navigator.userAgent)};bablic.detectLocale=function(a,b){a=a||LDATA,b=b||{};var c=a||LDATA||bablic.data||{},d=PROXY?"subdomain":bablic.localeURL||c.localeDetection;if(!d)return null;var e="http://"+pageUri(),f=parseURL(e),g=c.customUrls||{};if(a&&!bablic.customUrls)for(var h=0;h<a.locales.length;h++)g[a.locales[h].key]=a.locales[h].url;var i=c.localeKeys||a&&a.locales&&$.map(a.locales,function(a){return a.key}),j=c.orig||c.original||bablic.original;i&&i.push(j);var k=null;if(c.autoDetect!==!1&&!b.bare&&!nonBlocking&&i&&!isBot()&&(k=detectBrowserLocale(),k&&-1==i.indexOf(k))){for(var l=!1,m=0;m<i.length;m++)if(i[m][0]==k[0]&&i[m][1]==k[1]){l=!0,k=i[m];break}l||(k=null)}var n=bablic.locale,o=b.bare?getLocaleByURL(f,d,g):getLocaleByURL(f,d,g,bablic.locale,c["default"]||j,k,bablic.proxy,bablic.explicitLocale,bablic.subDirBase,bablic.folders,i);if(i&&-1==i.indexOf(o))for(var h=0;h<i.length;h++)if(i[h][0]==o[0]&&i[h][1]==o[1]){o=i[h];break}if((!LDATA||!LDATA.edit)&&LocaleSettings[o]&&LocaleSettings[o].hidden)return j;if(!LDATA&&b&&b.initial&&!nonBlocking&&o==j&&"custom"==d)if("#language"==location.hash)window.history&&history.replaceState?history.replaceState(null,null,location.pathname+(location.search||"")):location.hash="";else{if(n&&n!=o&&g[n])return location.href=bablic.getLink(n),0;if(!n&&k&&k!=o&&g[k])return location.href=bablic.getLink(k),0}return o},detectBrowserLocale=function(){var a=WIN.navigator.userLanguage||WIN.navigator.language;return a?a.split("-")[0]:null},pageUri=function(a){return(a?"":LOC.hostname+LOC.port)+LOC.pathname+LOC.search+LOC.hash},normalizedCurrentPath=function(a){var b=bablic.data||LDATA||{};if(!b.localeKeys)return pageUri(!0)+(a?"__async__":"");var c=getCurrentOtherDomain()||getCurrentSubDomain();return c=c?"@"+c.toLowerCase().replace(/[.@]/g,"-")+"@":"",c+normalizePath(pageUri(!0),bablic.localeURL||b.localeDetection,b.includeQueryString,b.includeHash,b.singlePageApp,b.localeKeys,b.qsParams,b.domain,bablic.subDirBase,bablic.folders)+(a?"__async__":"")},normalizeSomePath=function(a){var b=bablic.data||LDATA||{};return b.localeKeys?normalizePath(a,bablic.localeURL||b.localeDetection,b.includeQueryString,b.includeHash,b.singlePageApp,b.localeKeys,b.qsParams,b.domain,bablic.subDirBase,bablic.folders,!0):a},bablic.getCurrentSubDomain=getCurrentSubDomain,bablic.getCurrentOtherDomain=getCurrentOtherDomain,bablic.useLocalDB="boolean"==typeof bablic.useLocalDB?bablic.useLocalDB:!1,bablic.mutation_listen_off=0,bablic.setMutationListen=function(a){bablic.mutation_listen_off+=a?-1:1},bablic.suppress=function(a){bablic.setMutationListen(!1),a(),bablic.setMutationListen(!0)},bablic.translateAttribute=function(a,b){translateAttr(a,b)};var SUB_DIR=/^(\/(\w\w(_\w\w)?))(?:\/|$)/;bablic.getLink=function(a,b,c,d,e,f,g,h,i){var j=LDATA||bablic.data||{},k=j.original||j.orig||bablic.original;g=g||bablic.subDirBase,h=h||bablic.subDirOptional;var l="javascript:void(0);";if(f=f||bablic.localeURL||LDATA&&LDATA.localeDetection||bablic.data&&bablic.data.localeDetection,"custom"==f||d){if(e||(j.locales&&(e=$.grep(j.locales,function(b){return b.key==a})[0]),!e&&j.customUrls&&j.customUrls[a]&&(e={url:j.customUrls[a]})),e&&e.url)if(d||e.legacy){var m=bablic.getLink(k,b,c),n=parseURL(m),o=n.hostname,p=e.url;"/"!=e.url[0]&&(o=e.url.split("/")[0],p=e.url.replace(o,""),LDATA&&LDATA.edit&&(o=o.replace(/_/g,"__").replace(/\./g,"_")+"_pipe.bablic.com")),l="//"+o+(n.port&&80!=Number(n.port)?":"+n.port:"")+p+n.query}else{var q=e.url.indexOf("/")>-1?e.url.substr(0,e.url.indexOf("/")):e.url,r=b||LOC.hostname;l=(c||LOC.href).replace(r,q),i||k!=a||isBot()||(l=l.split("#")[0],l+="#language")}}else if("querystring"==f){var s=(c||LOC.href).split("#")[0];l=/[?&]locale=([^&]+)/.test(s)?s.replace(/([?&]locale=)([^&]+)/,"$1"+a):/\?/.test(s)?s+"&locale="+a:s+"?locale="+a}else if("subdomain"==f){var t=LDATA&&LDATA.edit?"_":".",u=LDATA&&LDATA.edit?"_":"\\.",v=RegExp("(www"+u+")?(?:(?:\\w\\w(?:_\\w\\w)?)"+u+")?(.+?)$").exec(b||LOC.host),w=(e&&e.www?"www"+t:"")+(e&&e.s&&e.s+t||(a==k?"":a+t))+v[2];l=(c||LOC.href).replace(b||LOC.host,w)}else{if("subdir"==f){var n=parseURL(c||LOC.href),x=n.pathname;g&&(x=x.replace(g,""));var y=SUB_DIR.exec(x);y&&(x=x.substr(y[1].length),0==x.length&&(x="/"));var z="";return bablic.folders?z="/"+getFolder(a,bablic.folders):a==k||bablic.ignoreSub&&-1!=bablic.ignoreSub.indexOf(x.toLowerCase())||(z="/"+a),!g||h&&a==k||(z=g+z),i?n.protocol+"//"+n.hostname+z+x+(n.search||"")+(n.hash||""):z+x+(n.search||"")+(n.hash||"")}"hash"==f&&(l=(c||LOC.href).split("#")[0]+"#locale_"+a)}return l};var locked=!1,changeRev=0;doesSupportAjaxReplace=function(a){return WIN.history&&WIN.history.replaceState&&IS_PROPERTIES_SUPPORTED&&LDATA&&(LDATA.ajaxWidget||a)&&!LDATA.edit&&(a||"subdomain"!=LDATA.localeDetection&&"custom"!=LDATA.localeDetection&&"tld"!=LDATA.localeDetection)},bablic.redirectTo=function(a,b,c){b&&b instanceof Event&&(c=b,b=null);var d=c?!1:void 0;if(bablic._locked)return d;var e=targetLocale&&targetLocale.engines.length,f=locales&&$.grep(locales,function(b){return b.key==a})[0];if(targetLocale=f,targetLocale||(targetLocale=locales&&$.grep(locales,function(b){return b.key[0]==a[0]&&b.key[1]==a[1]})[0],targetLocale&&(a=targetLocale.key),targetLocale||(targetLocale=locales&&$.grep(locales,function(b){if(b.iso){var c=b.iso.split("-")[1];if(c)return c.toLowerCase()==a}})[0]),targetLocale&&(a=targetLocale.key)),window.omg&&window.omg.EditorSite)try{return window.top.VisualEditor.switchLocale(a),d}catch(c){}if((!LDATA||!LDATA.edit)&&bablic.languages.get(a).hidden)return console.log("language is hidden"),d;if(!LDATA&&bablic.locale===a)return d;b=b||{};var g=b.forceRedirect||bablic.forceRefresh;if(a!=bablic.locale){var h=triggerEvent("beforeLocaleChange",[a]);if(h===!1)return d}LocalDB.setSync("locale",a,!0),LocalDB.setSync("explicit",a,!0);var i=(targetLocale&&targetLocale.engines.length)>e,j=bablic.getLink(a);if(c&&c.target&&c.target.href&&(c.shiftKey||c.ctrlKey||c.altKey)){var k=$('<a href="'+j+'" />').get(0).href;if(k==c.target.href)return!0}return!g&&doesSupportAjaxReplace()&&targetLocale?(switchLocaleAjax(a,j,i),d):(LOC.href=j,bablic.locale=a,underlineLocale=a,d)},bablic.widget={get:function(){return WidgetSettings||bablic.widgetConf||{}},update:function(a){return WidgetSettings=a,bablic.showFlags(),this},hide:function(){var a=this.get();return a.show=!1,this.update(a)},show:function(){var a=this.get();return a.show=!0,this.update(a)},element:function(){return $("#bablicFlagsWidget").get(0)},expand:function(){var a=this.element();return a&&a.contentWindow&&a.contentWindow.expand&&a.contentWindow.expand(),this},collapse:function(){var a=this.element();return a&&a.contentWindow&&a.contentWindow.collapse&&a.contentWindow.collapse(),this},"switch":function(a,b,c){var d=$(a);if(!d.length()&&!c)return"string"==typeof a&&(bablic.selector(a).exclude(),onReady(function(){bablic.widget["switch"](a,b,!0)})),this;d.attr("bablic-exclude",!0);var e,f=d.filter("a");d.off("click").on("click",function(a){if(!e)return void g(bablic.getLocale());if("A"==this.tagName){if(a.ctrlKey||a.shiftKey||a.altKey)return!0;a.preventDefault()}bablic.redirectTo(e.key)});var g=function(a){var c=bablic.languages.get();e=$.grep(c,function(b){return(!b.hidden||LDATA&&LDATA.edit)&&b.key!=a})[0],e&&(d.text(b&&b.fullName?e.name:e.name.substr(0,2).toUpperCase()),f.attr("href",bablic.getLink(e.key)))};bablic.on("locale",g)},done:function(){return bablic}},bablic._sels={},bablic.element=function(a){return{translate:function(){return processSavedNodes(a,!0),this},restore:function(){return processSavedNodes(a,!1),this},done:function(){return bablic},on:function(b,c){if(!document.querySelectorAll)return this;for(var d="string"==typeof a?document.querySelectorAll(a):a.length?a:[a],e=0;e<d.length;e++)d[e]._babE=d[e]._babE||{},d[e]._babE[b]=c;return this},off:function(b,c){if(!document.querySelectorAll)return this;for(var d="string"==typeof a?document.querySelectorAll(a):a.length?a:[a],e=0;e<d.length;e++)if(b){if(!d[e]._babE)continue;if(c){if(d[e]._babE[b]){var f=d[e]._babE[b].indexOf(c);f>-1&&d[e]._babE[b].splice(f,1)}}else delete d[e]._babE[b]}else delete d[e]._babE;return this},pre:function(b){return bablic.element(a).on("pre1",b)},post:function(b){return bablic.element(a).on("post1",b)},watch:function(b){var c="string"==typeof a?document.querySelectorAll(a):a.length?a:[a];return $.each(c,function(a,c){bablic.watch(c,b)}),this},exclude:function(){bablic.setMutationListen(!1);var b="string"==typeof a?document.querySelectorAll(a):a.length?a:[a];return $.each(b,function(a,b){return b.hasAttribute("bablic-include")?b.removeAttribute("bablic-include"):void b.setAttribute("bablic-exclude","")}),bablic.setMutationListen(!0),this},include:function(a){bablic.setMutationListen(!1);var b="string"==typeof a?document.querySelectorAll(a):a.length?a:[a];return $.each(b,function(a,b){return b.hasAttribute("bablic-exclude")?b.removeAttribute("bablic-exclude"):void b.setAttribute("bablic-include","")}),bablic.setMutationListen(!0),this},markup:function(b,c){return bablic.setMutationListen(!1),$(a).attr("bablic-"+b,c||!0),bablic.setMutationListen(!0),this},bidi:function(b){bablic.setMutationListen(!1);var c=$(a);return c.attr("bablic-bidi",b?"true":"false"),c.each(function(){b?Bidi.element(this):Bidi.exclude(this)}),bablic.setMutationListen(!0),this}}},bablic.selector=function(a){return{on:function(b,c){return bablic._sels[b]=bablic._sels[b]||[],bablic._sels[b].push([a,c]),this},pre:function(a){return this.on("pre1",a)},post:function(a){return this.on("post1",a)},exclude:function(){return excludeByCode(a),this},include:function(){return includeByCode(a),this},markup:function(b,c){return addMarkupByCode(b,a,c),this},bidi:function(b){return addMarkupByCode("bidi",a,b?"true":"false"),bablic.element(a).bidi(b),this},done:function(){return bablic}}},$.extend(bablic.element,{translate:function(a){return processSavedNodes(a,!0),this},restore:function(a){return processSavedNodes(a,!1),this}}),bablic.isEditor=function(){return!!bablic.preview},LocaleSettings={},bablic.languages={get:function(a){if(!a)return $.map(bablic.locales||[],function(a){var b=getLocaleSettings(a.key);return{key:a.key,name:b.name||a.name,flag:b.flag||a.flag,href:b.href||bablic.getLink(a.key),hidden:b.hidden||!1}});var b=getLocaleSettings(a),c=$.grep(bablic.locales||[],function(b){return b.key==a})[0];return c?{key:c.key,name:b.name||c.name,flag:b.flag||c.flag,href:b.href||bablic.getLink(c.key),hidden:b.hidden||!1}:{key:a,name:b.name,flag:b.flag,href:b.flag,hidden:b.hidden||!1}},update:function(a){if(!a)return this;if(!a.key)return this;var b=this.get(a.key),c=getLocaleSettings(a.key);if(a.name!=b.name&&(c.name=a.name),a.flag!=b.flag&&(c.flag=a.flag),a.href!=b.href&&(c.href=a.href),a.hidden!=b.hidden)if(a.hidden){if(a.key!=bablic.original&&(c.hidden=!0,bablic.locale==a.key))if(LDATA&&LDATA.edit);else if(doesSupportAjaxReplace())switchLocaleAjax(bablic.original);else{var d=bablic.getLink(bablic.original),e=parseURL(d);e.href!=LOC.href&&(LOC.href=d)}}else c.hidden=!1;return bablic.showFlags(),this},flag:function(a,b){return a?getFlag(a,b):""},hide:function(a){var b=this.get(a);return b&&(b.hidden=!0),this.update(b)},show:function(a){var b=this.get(a);return b&&(b.hidden=!1),this.update(b)},url:function(a,b){return bablic.getLocale(a,null,b)},done:function(){return bablic}};var watchedElements=[];bablic.watch=function(a,b){a&&(a._babLis=b,watchedElements.push(a))},bablic.hideLanguage=function(a){return bablic.languages.hide(a)},bablic.trigger=triggerEvent,WIN.console||(WIN.console={log:function(a){},error:function(a){}}),Object.keys||(Object.keys=function(a){var b=[];for(var c in a)b.push(c);return b}),bablic.debugServer&&(bablic.debug=!0),bablic.log=bablic.debug?function(a){WIN.console.log.apply?WIN.console.log.apply(console,arguments):WIN.console.log(arguments[0])}:function(){},bablic.error=bablic.debug?function(a){WIN.console.error.apply?WIN.console.error.apply(console,arguments):WIN.console.error(arguments[0])}:function(){},bablic.markup=addMarkupByCode,bablic.exclude=excludeByCode,bablic.include=includeByCode,bablic.on=bablic.Mutation.on,bablic.off=bablic.Mutation.unbind,bablic.registerKey=function(){$(DOC).on("keydown",function(e){if(e.shiftKey&&e.altKey&&(66==e.keyCode||76==e.keyCode)){if(e.preventDefault(),bablic.editThisSite)return bablic.editThisSite();bablic.on("sdkload",function(){bablic.editThisSite()}),ajaxGet("https://cdn2.bablic.com/addons/sdk.js",null,function(rsp){eval(rsp)})}})},bablicDTO=function(){return{Site:bablic.Site,locale:bablic.locale,version:bablic.version,original:bablic.original}},bablic.ajax=ajaxGet}(bablic);var send_usage_report,send_ldata_report,setZIndex,runHeadEngines,siteConfReceived,translationReceived,fetchSequence,parallel,parallelEach,getConf,getPageTranslations,onReady,locale,locales,targetLocale,originalLocale,MOBILE,ping,nonBlocking,HAS_ANGULAR=!1,SUPPORT_AJAX_NAVIGATE=!1,fetchRevision=0,underlineLocale,localeLDATAs={},TAGS={},setHidden;!function(bablic){function fallback_callback(a){if(a){bablic.log("fallabck response: "),bablic.log(a);var b=WIN.omg&&!!omg.translationReceived,c=!1,d={},e=a.deleted;delete a.deleted,e&&setTimeout(function(){updateNotExistingContents(e)},1);for(var f in a)"__empty__"!=a[f]&&(LDATA.content[f]&&"__empty__"!=LDATA.content[f]&&LDATA.content[f]==a[f]||(c=!0,LDATA.content[f]=a[f],d[f]=a[f],b&&omg.translationReceived(f,a[f])));if(c){if(flushMergedNodes(),savedContentNodes.length){bablic.setMutationListen(!1);for(var g=0;g<savedContentNodes.length;g++)if(savedContentNodes[g].hash in d){var h=savedContentNodes[g].node,i=savedContentNodes[g].element;savedContentNodes[g].replace(h,i,d[savedContentNodes[g].hash])}bablic.setMutationListen(!0)}else{var j=savedContentNodes;savedContentNodes=[],_forceTraverse=!0,DOC.body.getAttribute("bablic-exclude")||domTraverse($.byTag("html").get(0),bablic.UseInclude),runHeadEngines(),_forceTraverse=!1,mergeContentNodes(j)}showPage2()}}}function getNotExistingContents(){if(notExistingContents)return notExistingContents;notExistingContents={};var a=LocalDB.getSync("unused",!1,!0);if(a){var b=a.split(",");b.forEach(function(a){notExistingContents[a]=1})}return notExistingContents}function updateNotExistingContents(a){notExistingContents=notExistingContents||{};var b=Object.keys(notExistingContents).length;a.forEach(function(a){notExistingContents[a]=1}),b!=Object.keys(notExistingContents).length&&LocalDB.setSync("unused",Object.keys(notExistingContents).join(","),!1,!0)}function send_fallback_request(a,b){ASYNC_FETCH_OFF&&(b=!0);var c=bablic.locale,d={};for(var e in a)a[e]&&a[e].f!=c&&(d["1_"+e]=null,a[e].f=c,$.each(a[e].bc||[],function(a,b){d["1_"+b]=!0}));var f=Object.keys(d);f.length&&LocalDB.getByIds(f,function(a,c){a&&bablic.error(a);var e={};if(c){e=c;for(var g in c)e[g]=c[g],delete d[g]}return f=Object.keys(d),f.length?(fallback_sent=!0,void ajaxPost("/api/engine/fallback",{content:f,async:!b},function(a){$.extend(e,a),fallback_callback(e),LocalDB.setByPage(a,normalizedCurrentPath(!b));for(var c in a)delete d[c];var f=Object.keys(d).map(function(a){return a.substr(3)});setTimeout(function(){updateNotExistingContents(f)},1)})):fallback_callback(e)})}function startScanningMessage(){var a=LocalDB.getSync("scanningMessage",!0);a||(showMessage("scanningMessage"),onClose=function(){LocalDB.setSync("scanningMessage","true",!0)})}function startDetectMessage(){var a=LocalDB.getSync("newContentDetected",!0);a||(showMessage("newContentDetected"),onClose=function(){LocalDB.setSync("newContentDetected","true",!0)})}function showTurnedOffMessage(){var a=LocalDB.getSync("turnedOff",!0);a||(showMessage("turnedOff"),onClose=function(){LocalDB.setSync("turnedOff","true",!0)})}function showMessage(a){if(!$.byId("bablicMessage").length()){var b=WIN.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");b.onreadystatechange=function(){if(200===b.status&&4===b.readyState){var a=DOC.createElement("iframe");a.id="bablicMessage",a.className="bablicMessage",a.setAttribute("bablc-exclude","true"),a.width="100%",a.height="52px",a.style.border="none",a.style.position="fixed",a.style.top=0,a.style.left=0,setZIndex(a);var c=DOC.body;c.insertBefore(a,c.firstChild);var d=b.responseText;try{a.contentWindow.document.open(),a.contentWindow.document.write(d),a.contentWindow.document.close()}catch(e){a.contentWindow.location.href="data:text/html;charset=utf-8,"+encodeURIComponent(d)}$(a).on("click",function(){a.parentNode.removeChild(a)})}},b.open("GET",location.protocol+"//uploads.bablic.com/html/"+a+".html",!0),b.send()}}function closeMessage(){$.byClass("bablicMessage").remove(),onClose&&onClose(),onClose=null}function addMessageShadow(){$.byClass("bablicMessage").css("box-shadow","0px 0px 15px #178FC2")}function removeMessageShadow(){$.byClass("bablicMessage").css("box-shadow","")}function hidePage(){if(!bablic.hidden&&!bablic.hidingStyle){hiddenStart=Date.now(),bablic.hidden=!0;try{bablic.hidingStyle=DOC.createElement("style"),bablic.hidingStyle.className="bablicHideTag",bablic.hidingStyle.type="text/css",bablic.hidingStyle.innerHTML="body,body *{visibility: hidden; !important}",bablic.hidingStyle.setAttribute("bablic-exclude","");var a=DOC.getElementsByTagName("script")[0];a.parentNode.insertBefore(bablic.hidingStyle,a)}catch(b){}}}function initEngines(){var a=targetLocale.engines||[];LDATA.engines={};for(var b=0;b<a.length;b++)LDATA.engines[a[b]]=Engines[a[b]];for(var c in LDATA.engines)LDATA.engines[c].prepare&&LDATA.engines[c].prepare.call(LDATA.engines[c]);LDATA._e={},LDATA.engines&&"2"in LDATA.engines&&(LDATA._e[2]=LDATA.engines[2],delete LDATA.engines[2])}function updateBablicHead(){WIN.angular&&(HAS_ANGULAR=!0),bablic.ldata=LDATA,SUPPORT_AJAX_NAVIGATE=doesSupportAjaxReplace(!0),locales=bablic.locales=LDATA.locales,locale=LDATA.locale||"",targetLocale=$.grep(locales,function(a){return a.key==locale})[0],originalLocale=$.grep(locales,function(a){return a.key==LDATA.orig})[0]||$.grep(locales,function(a){return a.key[0]==LDATA.orig[0]&&a.key[1]==LDATA.orig[1]})[0],originalLocale||(originalLocale=locales[locales.length-1]),targetLocale||(targetLocale=$.grep(locales,function(a){return a.key[0]==locale[0]&&a.key[1]==locale[1]})[0]||originalLocale,locale=targetLocale.key,LDATA.locale=locale),MOBILE=bablic.mobile=Modernizr.touchevents&&$.window.width()<700;try{WIN.top.editor&&"mobile"==WIN.top.editor.device()&&(MOBILE=bablic.mobile=!0)}catch(a){}if(bablic.locale=LDATA.locale,underlineLocale=LDATA.locale,bablic.targetLocale=targetLocale,bablic.originalLocale=originalLocale,bablic.original=LDATA.orig,localeLDATAs[bablic.locale]=LDATA,bablic.dontUseCookie=bablic.dontUseCookie||LDATA.dontUseCookie,bablic.locale&&("subdir"!=bablic.localeURL&&"subdir"!=LDATA.localeDetection||-1!=location.pathname.indexOf("/"+bablic.locale+"/")||bablic.locale!=bablic.original&&doesSupportAjaxReplace()&&(bablic.replaceState?bablic.replaceState(null,null,bablic.getLink(bablic.locale)):window.history&&history.replaceState&&history.replaceState(null,null,bablic.getLink(bablic.locale))),LocalDB.setSync("locale",bablic.locale,!0)),bablic.locale_detection=LDATA.localeDetection,LocalDB.setSync("original",LDATA.def||LDATA.orig,!0),bablic.setMutationListen(!1),shouldShowWidget&&bablic.showFlags(),markupSEO(),LDATA.bidi&&Bidi.setDir(targetLocale.dir||"ltr"),$.byId("bablic_font_css").remove(),targetLocale&&($.byTag("head").append("<style type='text/css' id='bablic_font_css' bablic-exclude>"+(targetLocale.font?"*{ font-family:"+targetLocale.font+" !important;} ":"")+(bablic.locale!=bablic.original?".bablic-hide-all,":"")+".bablic-hide-"+bablic.locale+"{display:none !important;} </style>"),!$.byId("bablicDefault").length())){var b=$.byTag("head").get(0),c=b.firstElementChild;$('<style bablic-exclude id="bablicDefault">input{display:inline-block;}</style>').insertBefore(c)}bablic.setMutationListen(!0)}function markupSEO(){onReady(function(){bablic.setMutationListen(!1);var a=targetLocale&&targetLocale.iso?targetLocale.iso:bablic.locale;$.byTag("html").attr("lang",a);var b=$("head meta[http-equiv]");b.length()||(b=$('<meta http-equiv="Content-Language">').appendTo("head")),b.attr("content",a);var c=[['link[rel="canonical"]',"href"],['meta[property="og:url"]',"content"]];$.each(c,function(a,b){var c=new $(b[0]),d=c.attr(b[1]);if(d){var e=parseURL(d),f=bablic.getLink(bablic.locale,e.hostname,d,null,null,null,null,null,!0);c.attr(b[1],f)}}),bablic.setMutationListen(!0)})}function seoAlternateLink(a,b,c){if(!LDATA.edit&&!bablic.noSEO){var d=a!=underlineLocale,e=a==bablic.original?"x-default":c||a,f=$('link[hreflang="'+e+'"]');return f.length()?void(d||f.remove()):void(d&&$('<link rel="alternate" href="'+b+'" hreflang="'+e+'">').appendTo("head"))}}function getPackageFromCurrentPath(){if(!LDATA||!LDATA.packages)return 0;var a=normalizedCurrentPath();return getPackageFromPath(LDATA.packages,a)}function loadAsyncTranslation(){getPageTranslations(function(a,b){return a?bablic.error(a):void fallback_callback(b)})}function fetchTranslationFromLocalStorage(a,b,c){var d=Date.now();LocalDB.getByPage(a+"_"+b,function(a,e){bablic.log("indexdb ",Date.now()-d),e&&(fetchedPackages[b]=e),c(a,e)})}function saveTranslationToLocaleStorage(a,b,c){LocalDB.setByPage(c,a+"_"+b)}function decodeTranslationResponse(a){var b={};for(var c in a){for(var d in a[c])"__"!=d&&"tags"!=d&&(b[c+"_"+d]=a[c][d]);if(a[c].__)for(var e=a[c].__.split(","),f=0;f<e.length;f++)c+"_"+e[f]in b||(b[c+"_"+e[f]]="__empty__");var g=a[c].tags;if(g)for(var h in g)g[h].forEach(function(a){TAGS[c+"_"+a]=TAGS[c+"_"+a]||{},TAGS[c+"_"+a][h]=1})}return b}function getPageTranslationsFromCDN(a,b){fetchFromCDN("/sites/"+bablic.Site+"/package."+a+"."+bablic.locale,function(c,d){return c?b(c):(d&&(d=decodeTranslationResponse(d)),b(null,d),void(d&&LDATA&&(fetchedPackages[a]=d,saveTranslationToLocaleStorage(bablic.locale,a,d),LocalDB.setSync("@"+bablic.locale+"_"+a,LDATA.timestamp))))})}function getConfFromCDN(a,b){fetchFromCDN("/sites/"+bablic.Site+"/conf",function(c,d){if(c)return b(c);if(a==fetchRevision){var e=decodeConf(d);e.locale=bablic.locale;var f=e.timestamp;siteConfReceived(e),f!=e.timestamp&&(d[0]=e.timestamp)}b(),a==fetchRevision&&LocalDB.setConf(d)})}function isHomePage(){var a=bablic.getCurrentSubDomain&&bablic.getCurrentSubDomain();if(a)return!1;var b=bablic.getCurrentOtherDomain&&bablic.getCurrentOtherDomain();if(b)return!1;var c=bablic.data&&bablic.data.domain&&bablic.data.domain.indexOf("/")>-1&&bablic.data.domain.substr(bablic.data.domain.indexOf("/"));c=c||"/";var d=normalizedCurrentPath();return bablic.subDirBase&&(d=bablic.subDirBase+d),d==c.toLowerCase()}function isNonBlocking(){if(!DOC.body)return!1;var a=DOC.body.lastElementChild;return a&&"SCRIPT"==a.tagName&&a.src.indexOf("cdn2.bablic.com")>-1?!1:!0}function migrateTranslationResponse(a){var b=a.content,c={},d=!1;for(var e in b)if(42==e.length){d=!0;var f=e.split("_"),g=f[1],h=[];for(i=0;20>i;i++)h.push(String.fromCharCode((parseInt(g[2*i],16)<<4)+parseInt(g[2*i+1],16)));var j=btoa(h.join(""));c[f[0]+"_"+j]=b[e]}else c[e]=b[e];d&&(a.content=c)}function turnOffLJZ(){document.body.setAttribute("notranslate","notranslate"),$.byId("localize-widget").remove();var a=function(b){b.target&&"localize-widget"==b.target.id&&b.target.parentNode&&(b.target.parentNode.removeChild(b.target),$(DOC.body).off("DOMNodeInserted",a))};$(DOC.body).on("DOMNodeInserted",a)}var check=DOC.querySelectorAll("#BABLIC_CHECK");if(check.length){bablic.preview=!0;try{for(var i=0;i<check.length;i++)check[i].parentNode&&check[i].parentNode.removeChild(check[i])}catch(e){}}location.hash&&location.hash.indexOf("bablicExtension")>-1&&(bablic.preview=!0);var usage_report_sent=!1,shouldShowWidget=!0,ASYNC_FETCH_OFF=!0,fallback_sent,notExistingContents=null,send_usage_timeout,firstTimeout,sentReport={};send_usage_report=function(){$.isEmptyObject(usage_report)||firstTimeout&&Date.now()-firstTimeout>2e4||(send_usage_timeout&&clearTimeout(send_usage_timeout),firstTimeout||(firstTimeout=Date.now()),send_usage_timeout=setTimeout(function(){if(firstTimeout=null,send_usage_timeout=null,usage_report){var a=[],b=[];if(usage_report_sent)a=Object.keys(usage_report).map(function(a){return a.substr(2)});else for(var c in LDATA.content)"1"==c[0]&&(c in usage_report?a.push(c.substr(2)):b.push(c.substr(2)));ajaxPost("/api/engine/usage",{used:a,unused:b}),usage_report={},usage_report_sent=!0}},7e3))};var send_report_timeout,MAX_SEND=500,last_report_count,MAX_REQUEST_SIZE=2e5,MAX_PLACES=2,MAX_FALLBACK_REQUEST=500,ignoreNotTranslated={},sendReportThrottled=function(a){if(LDATA.machine){var b=[];for(var c in LDATA.content){var d=c.split("_");"1"!=d[0]||"__empty__"!=LDATA.content[c]||ignoreNotTranslated[c]||(b.push(d[1]),ignoreNotTranslated[c]=!0)}$.isEmptyObject(b)||(bablic.Mutation.emit("machine"),ajaxPost("/api/engine/machine",{content:b},function(a){bablic.Mutation.emit("afterMachine"),a&&fallback_callback(a),Object.keys(a).length>0&&LocalDB.clearAll()}))}if(!$.isEmptyObject(new_content)){if(getNotExistingContents(),notExistingContents&&new_content[1]){for(var c in notExistingContents)delete new_content[1][c];if($.isEmptyObject(new_content[1]))return delete new_content[1],void $.isEmptyObject(new_content)}var e,f=function(){if(e)return e;e={};for(var a in LDATA.content)e[LDATA.content[a]]=a;return e},g={},h=0;for(var i in new_content)if("3"!=i&&"4"!=i&&"2"!=i){var j=new_content[i];for(var c in j){var k=i+"_"+c;if(!(k in sentReport||LDATA.content[k])){var l=j[c];if(l.a&&!CLEAN_TEXT.test(l.content)){var m=!1,n=f();if(l.content in n)m=!0;else for(var o=0;o<l.nodes.length;o++){if(readNodeAttr(l.nodes[o],"bablic_dirty",l.elements[o])){m=!0;break}if(readNodeAttr(l.nodes[o],"bablic_replaced",l.elements[o])&&readNodeAttr(l.nodes[o],"bablic_replaced_value",l.elements[o])==getNodeValue(l.nodes[o])){m=!0;break}}m||(LDATA.report&&(sentReport[i+"_"+c]=1),g[i]=g[i]||{},g[i][c]=l,h++)}}}}if(!h)return void(new_content={});!LDATA.edit&&LDATA.fallback&&g[1]&&Object.keys(g[1]).length<MAX_FALLBACK_REQUEST&&send_fallback_request(g[1],a),LDATA.report&&h!=last_report_count&&(last_report_count=h,clearTimeout(send_report_timeout),send_report_timeout=setTimeout(function(){if(LDATA.content){var b=0,c=bablic.sendPerRequest||MAX_SEND,d=bablic.maxRequest||MAX_REQUEST_SIZE,e={},f=0;for(var h in g){var i=0,j=g[h];for(var k in j){if(i>c)break;i++;var l=h+"_"+k;if(!(l in LDATA.content)){var m=j[k];if(m){var n={content:m.content,i:m.i,c:m.c,v:m.v,h:m.h,path:m.path,tags:Object.keys(m.tags)};if(m.m&&(n.m=!0),m.markup&&!$.isEmptyObject(m.markup)&&(n.markup=m.markup),m.bc&&(n.bc=m.bc),m.nodes)for(var o=0;o<m.nodes.length;o++)setNodeAttr(m.nodes[o],"bablic_replaced",!0,m.elements[o]),setNodeAttr(m.nodes[o],"bablic_replaced_value",getNodeValue(m.nodes[o]),m.elements[o]);if(b+=WIN.JSON&&WIN.JSON.stringify?JSON.stringify(n).length:2*n.content.length,b>d)break;e[h]=e[h]||{},e[h][k]=n,f++}}}}$.isEmptyObject(e)||(bablic.Mutation.emit("sendReport"),LDATA.owner&&!LDATA.edit&&(LDATA.scanning?startScanningMessage():f>5&&startDetectMessage()),ajaxPost("/api/engine/report",{content:e},function(b){last_report_count=0,bablic.Mutation.emit("afterReport",[a]),b&&fallback_callback(b)}),new_content={}),new_content={}}},500))}},sendReportFuncTO,sendReportStart,MAX_THROTTLE_TIME=2e3,REPORT_THROTTLE_TIME=200;send_ldata_report=function(a){if(IS_PROPERTIES_SUPPORTED){if(a)return sendReportThrottled(!0);if(ASYNC_FETCH_OFF&&(a=!0),sendReportFuncTO){if(Date.now()-sendReportStart>MAX_THROTTLE_TIME)return;clearTimeout(sendReportFuncTO)}else sendReportStart=Date.now();sendReportFuncTO=setTimeout(function(){sendReportFuncTO=null,sendReportThrottled(a)},REPORT_THROTTLE_TIME)}};var onClose;setZIndex=function(a){for(var b=[1e17,999999999999999,999999999999,9999999],c=0;c<b.length;c++)try{return void(a.style.zIndex=b[c])}catch(d){}},bablic._m=[closeMessage,addMessageShadow,removeMessageShadow];var hiddenCount=0;setHidden=function(a,b){a?bablic.hidden?hiddenCount++:b?(hidePage(),hiddenCount++):bablic.log("can hide after already shown"):(hiddenCount--,showPage2())};var showPage2=function(){if(!(hiddenCount>0)){hiddenTime||(hiddenTime=Date.now()-hiddenStart);var a=DOC.getElementById("bablicLink");a&&a.parentNode&&a.parentNode.removeChild(a),$.byClass("bablicHideStyle").remove(),bablic.hidingStyle&&(bablic.setMutationListen(!1),bablic.hidingStyle&&bablic.hidingStyle.parentNode&&(bablic.hidingStyle.parentNode.removeChild(bablic.hidingStyle),bablic.hidingStyle=null),bablic.setMutationListen(!0))}},onReadyCalled=!1;nonBlocking=isNonBlocking();var onReadyEvents=[];if(nonBlocking)onReadyCalled=!0;else{var addListener=DOC.addEventListener||DOC.attachEvent,removeListener=DOC.removeEventListener||DOC.detachEvent,eventName=DOC.addEventListener?"DOMContentLoaded":"onreadystatechange",onReadyHandler=function(){if(removeListener.call(DOC,eventName,onReadyHandler,!1),!onReadyCalled){onReadyCalled=!0;for(var a,b=0;b<onReadyEvents.length;b++)try{onReadyEvents[b]()}catch(c){a=a||c}if(a)throw a}};addListener.call(DOC,eventName,onReadyHandler,!1)}onReady=function(a){return onReadyCalled?a():void onReadyEvents.push(a)},runHeadEngines=function(){if(bablic.setMutationListen(!1),LDATA._e&&"2"in LDATA._e){LDATA.engines[2]=LDATA._e[2];var a=DOC.getElementsByTagName("HEAD")[0];readNodeAttr(a,"bablic_last_value",a)!==getNodeValue(a)&&(processNodeWithEngine(a,a,{},"2"),setNodeAttr(a,"bablic_last_value",getNodeValue(a),a)),delete LDATA.engines[2]}bablic.setMutationListen(!0)},!bablic.Site&&bablic.Account&&(bablic.Site=bablic.Account),bablic.explicitLocale=bablic.locale,bablic.locale||(bablic.locale=LocalDB.getSync("locale",!0)),bablic.original=LocalDB.getSync("original",!0)||bablic.original||bablic.data&&bablic.data.original;var BLOCK;siteConfReceived=function(conf){var previousContent=LDATA&&LDATA.content,previousLocale=LDATA&&LDATA.locale,previousTimestamp=LDATA&&LDATA.timestamp;LDATA=conf,LDATA.locale=bablic.locale,previousLocale&&bablic.locale==previousLocale&&(LDATA.content=previousContent,previousTimestamp&&(LDATA.timestamp=Math.max(LDATA.timestamp,previousTimestamp))),
bablic.localeURL&&(LDATA.localeDetection=bablic.localeURL),bablic.customUrls&&(LDATA.customUrls=bablic.customUrls);var block=Number(LocalDB.getSync("block",!0));block&&LDATA.timestamp<=block&&(BLOCK=!0);var domains=LDATA.domains,thisHost=(LOC.hostname||"").replace("www.","");if(bablic.version>=3.9&&!bablic.preview&&domains&&thisHost&&!WIN.SCAN&&-1==LOC.hostname.indexOf("checkout")&&-1==LOC.hostname.indexOf("cart")){for(var allowed=!1,i=0;i<domains.length;i++){var domain=domains[i];if("*"==domain[0]){domain=domain.substr(2);var index=thisHost.lastIndexOf(domain);if(index>-1||index==thisHost.length-domain.length){allowed=!0;break}}else if(domain.replace("www.","")==thisHost){allowed=!0;break}}allowed||console.error("BABLIC: this domain is not allowed by your website configuration")}if(BLOCK)return void hideWidget();if(LDATA.localeKeys=$.map(LDATA.locales,function(a){return a.key}),LDATA.j)try{eval(LDATA.j)}catch(e){}if(updateBablicHead(),initEngines(),LDATA.exclude&&excludeByCode(LDATA.exclude),LDATA.include&&includeByCode(LDATA.include),LDATA.markup)for(var key in LDATA.markup){var value=LDATA.markup[key];$.isArray(value)||(value=[value]);for(var i=0;i<value.length;i++)addMarkupByCode(key,value[i].sel,value[i].val)}var page=normalizedCurrentPath();bablic.subDirBase&&(page=bablic.subDirBase+page),$.each(LDATA.locales,function(a,b){var c=LDATA.excludePages&&$.map(LDATA.excludePages,normalizeSomePath),d=LDATA.includePages&&$.map(LDATA.includePages,normalizeSomePath);b.excludePages=b.excludePages&&$.map(b.excludePages,normalizeSomePath),b.includePages=b.includePages&&$.map(b.includePages,normalizeSomePath);var e=isPageExcluded(page,c,d,b);e?bablic.languages.hide(b.key):bablic.noHrefLangs||seoAlternateLink(b.key,bablic.getLink(b.key,null,null,null,null,null,null,null,!0),b.iso)})},translationReceived=function(a,b){if(LDATA&&!BLOCK&&DOC.body){if(LDATA.content=a,migrateTranslationResponse(LDATA),!$.isEmptyObject(LDATA.engines)){if(!b){bablic._processed=!0;var c=savedContentNodes;savedContentNodes=[],runHeadEngines(!0),DOC.body.getAttribute("bablic-exclude")||domTraverse($.byTag("html").get(0),bablic.UseInclude),mergeContentNodes(c),(LDATA.fallback&&!LDATA.edit||LDATA.report)&&send_ldata_report(!0),LDATA.usage&&send_usage_report()}bablic.dontListenToMutations||(bablic.Mutation.listen(),Mutation.observeHead(function(){LDATA&&LDATA.locale&&runHeadEngines(!0)}))}(LDATA.edit||LDATA.suggest)&&addOMGScript()}};var hiddenTime,hiddenStart,fetchedPackages={};getPageTranslations=function(a,b){if(bablic.locale&&bablic.locale==bablic.original)return a(null,{});if(!LDATA)return a("no conf");var c=getPackageFromCurrentPath();if(bablic["package"]=c,bablic.dedicated){if(bablic.dedicated)var d=normalizedCurrentPath();var e=LocalDB.getSync("@"+bablic.locale+"_"+d);return void(b||!e||Number(e)<LDATA.timestamp-1e3?ajaxGet("//"+bablic.dedicated+"?s="+bablic.Site+"&l="+bablic.locale+"&p="+encodeURIComponent(d)+"&ts="+(LDATA?LDATA.timestamp:""),null,function(b){b&&(b=decodeTranslationResponse(b)),a(null,b),b&&LDATA&&(saveTranslationToLocaleStorage(bablic.locale,d,b),LocalDB.setSync("@"+bablic.locale+"_"+d,LDATA.timestamp))},a):fetchTranslationFromLocalStorage(bablic.locale,d,function(b,c){return b?getPageTranslations(a,!0):void a(null,c)}))}if(bablic.locale+c in fetchedPackages)return a(null,fetchedPackages[bablic.locale+c]);var e=LocalDB.getSync("@"+bablic.locale+"_"+c);return!e||Number(e)<LDATA.timestamp-1e3?getPageTranslationsFromCDN(c,a):void fetchTranslationFromLocalStorage(bablic.locale,c,function(b,d){return b?getPageTranslationsFromCDN(c,a):void a(null,d)})},getConf=function(a,b){var c=LocalDB.getConf();return 4e3===c?b(4e3):(c&&(c=decodeConf(c),c&&(bablic.locale=c.locale=bablic.detectLocale(c),underlineLocale=c.locale)),c?(a==fetchRevision&&siteConfReceived(c),void b()):getConfFromCDN(a,b))},fetchSequence=function(a,b,c){var d=Date.now(),e={};if(bablic.preview)return void ajaxGet("/api/engine/editor",null,function(c){e.translationTime=e.confTime=Date.now()-d,a===fetchRevision&&siteConfReceived(c.conf),triggerEvent("locale",[bablic.locale]),c.translations&&(c.translations=decodeTranslationResponse(c.translations)),bablic["package"]=getPackageFromCurrentPath(),b(null,e,c.translations)},function(a){console.error(a)});if(bablic.dedicated&&bablic.locale!=bablic.original){var f;return void parallel([function(b){getConf(a,function(a){return a?b(a):(e.confTime=Date.now()-d,triggerEvent("locale",[bablic.locale]),void b())})},function(a){getPageTranslations(function(b,c){return b?a(b):(f=c,e.translationTime=Date.now()-d,void a())})}],function(a){return a?b(a):void b(null,e,f)})}if(!c&&bablic.locale!=bablic.original&&!WIN.SCAN&&isHomePage()){var g=LocalDB.getSync("home_"+bablic.locale);if(g)try{g=JSON.parse(g)}catch(h){g=null}return void(g?getConf(a,function(a){return a?b(a):(e.translationTime=e.confTime=Date.now()-d,g=decodeTranslationResponse(g),triggerEvent("locale",[bablic.locale]),void b(null,e,g))}):fetchFromCDN("/sites/"+bablic.Site+"/home."+bablic.locale,function(c,f){if(c)return bablic.error(c),fetchSequence(a,b,!0);if(e.translationTime=e.confTime=Date.now()-d,a==fetchRevision){var g=decodeConf(f.conf);g.locale=bablic.locale;var h=g.timestamp;siteConfReceived(g),h!=g.timestamp&&(f.conf[0]=g.timestamp),triggerEvent("locale",[bablic.locale])}var i=decodeTranslationResponse(f.translations);b(null,e,i),a==fetchRevision&&(LocalDB.setConf(f.conf),LocalDB.setSync("home_"+bablic.locale,JSON.stringify(f.translations)))}))}getConf(a,function(a){return a?b(a):(e.confTime=Date.now()-d,triggerEvent("locale",[bablic.locale]),d=Date.now(),void getPageTranslations(function(a,c){return a?b(a):(e.translationTime=Date.now()-d,void b(null,e,c))}))})},ping=function(a){var b=a.err,c=a.shouldHide,d=a.stats,e=a.detectedLocale,f=a.path;return bablic.preview?(LDATA.owner=!0,LDATA.report=!0,LDATA.usage=!0,LDATA.machine=!0,send_ldata_report(!0),void send_usage_report()):void ajaxPost("/api/engine/ping",encodePing({timestamp:LDATA&&Math.round(LDATA.timestamp/1e3),snippetTimestamp:bablic.snippetTimestamp,error:b,locale:bablic.locale,original:bablic.original,didHide:c,confTime:d&&d.confTime,translationTime:d&&d.translationTime,hiddenTime:hiddenTime,detected:detectBrowserLocale(),page:pageUri(),detectedLocale:e,hasLocalStorage:HAS_LOCAL_STORAGE,hasIndexDB:!!WIN.indexedDB,path:f,nonBlocking:nonBlocking,version:bablic.version,parseVersion:bablic.parseVersion}),function(a){if(a.locale&&bablic.locale!=a.locale&&(a.clear=!0),a.locale&&(bablic.locale=a.locale,underlineLocale=a.locale),a.error&&4e3==a.error)return bablic.widget.hide(),bablic.languages.hide(bablic.locale),a.owner&&showTurnedOffMessage(),LocalDB.setConf(4e3),void(fetchedPackages={});if(a.machine&&LDATA&&(LDATA.machine=!0),a.owner&&LDATA&&(LDATA.owner=a.owner),a.clear||a.error){turnOffCDN();var b;LDATA&&(b=LDATA.fallback,LDATA.timestamp=a.ts,LDATA.report=!1,LDATA.fallback=!1),fetchedPackages={},LocalDB.clearAll(function(){if(!a.error){var c=++fetchRevision;fetchSequence(c,function(d,e,f){d&&bablic.error("Error fetching 2nd time",d),a.report&&(LDATA.report=!0),a.usage&&(LDATA.usage=!0),LDATA.fallback=b,f&&c==fetchRevision&&(LDATA.content?fallback_callback(f):translationReceived(f)),shouldShowWidget&&bablic.showFlags()})}})}if(a.block){if(LDATA){LDATA.timestamp=a.block;var c=encodeConf(LDATA);LocalDB.setConf(c),LocalDB.setSync("block",a.block,!0),bablic.locale!=bablic.original&&bablic.redirectTo(bablic.original),LDATA.widget&&(LDATA.widget[0]&&(LDATA.widget[0].show=!1),LDATA.widget[1]&&(LDATA.widget[1].show=!1)),hideWidget(),fetchedPackages={}}a.owner&&showMessage("trialExpired")}else LocalDB.clearSync("block");a.expired&&(bablic.expired=!0,shouldShowWidget&&bablic.showFlags(),a.owner&&showMessage("trialExpired")),a.scanning&&LDATA&&(LDATA.scanning=!0),a.report&&!a.clear&&(LDATA.report=!0,send_ldata_report(!0)),a.usage&&!a.clear&&(LDATA.usage=!0,send_usage_report())},!0)};var shouldnt_work=function(){if(window.Squarespace){try{if(parent.location.pathname.indexOf("/config")>-1)return!0;if(parent!=top&&top.location.pathname.indexOf("/config")>-1)return!0}catch(a){}return!1}try{if(top.location.href.indexOf("shopify.com/admin")>-1)return!0;if(window.Weebly&&parent.location.pathname.indexOf("/editor/preview")>-1)return!0}catch(a){}return!1},checkIframeSituation=function(){try{if(PARENT&&PARENT!=WIN){var a=!0;try{var b=null;b=PARENT.location.hostname,b.indexOf("/")}catch(c){a=!1}if(a&&PARENT.bablic&&!PARENT.bablic.isAdmin)shouldShowWidget=!1,PARENT.bablic.on("locale",function(a){a!=bablic.locale&&bablic.redirectTo(a)});else if(!a&&bablic.data&&bablic.data.domain){var d=bablic.data.domain.split("/")[0];if(LOC.hostname.lastIndexOf(d)!=LOC.hostname.length-d.length){shouldShowWidget=!1;var e=function(a){try{var b=JSON.parse(a.data);if("locale"!=b.type)return;if(!b.locale)return;b.locale!=bablic.locale&&bablic.redirectTo(b.locale)}catch(c){}};WIN.addEventListener?WIN.addEventListener("message",e,!1):WIN.attachEvent("onmessage",e),PARENT.postMessage(JSON.stringify({type:"ping",site:bablic.Site}),"*")}}}if(shouldShowWidget){var e=function(a){try{var b=JSON.parse(a.data);if("ping"!=b.type)return;var c=a.source;if(c==WIN)return;bablic.on("locale",function(a){c.postMessage(JSON.stringify({type:"locale",locale:a}),"*")})}catch(d){}};WIN.addEventListener?WIN.addEventListener("message",e,!1):WIN.attachEvent("onmessage",e)}}catch(c){bablic.error(c)}};bablic.start=function(){if(shouldnt_work())return bablic._locked=!0;if(DOC.getElementsByTagName("HEAD")[0]&&DOC.getElementsByTagName("HEAD")[0].attributes["bablic-status"])return bablic.Mutation.listen(),(LDATA.edit||LDATA.suggest)&&addOMGScript(),void triggerEvent("done",[bablicDTO()]);checkIframeSituation();var a=bablic.detectLocale(null,{initial:!0});if(0!==a){bablic.detectedLocale=a,bablic.locale=a||bablic.locale,bablic.preview&&bablic.__defineSetter__&&(underlineLocale=bablic.locale,bablic.__defineSetter__("locale",function(){}),bablic.__defineGetter__("locale",function(){return underlineLocale}));var b=!(bablic.dontHide||nonBlocking||bablic.locale&&bablic.original&&bablic.locale[0]==bablic.original[0]&&bablic.locale[1]==bablic.original[1]);bablic.loaded=!0,b&&hidePage();var c=++fetchRevision,d=Date.now();if(fetchSequence(c,function(e,f,g){bablic.log("fetch time",Date.now()-d),d=Date.now(),onReady(function(){if(bablic.log("dom load",Date.now()-d),g&&c==fetchRevision&&(d=Date.now(),translationReceived(g),bablic.log("process time",Date.now()-d)),b&&showPage2(),e&&bablic.error(e),bablic.setMutationListen(!1),triggerEvent("done",[bablicDTO()]),triggerEvent("translated",[bablicDTO()]),$.byTag("head").attr("bablic-status","loaded"),!WIN.JSON||!JSON.stringify||!JSON.parse){var h=DOC.createElement("script");h.type="text/javascript",h.async=!0,h.src=("https:"==DOC.location.protocol?"https://":"http://")+CDN_PATH+"/js/json.min.js";var i=DOC.getElementsByTagName("script")[0];i.parentNode.insertBefore(h,i)}bablic.setMutationListen(!0),bablic.locales&&shouldShowWidget&&LDATA.widget&&LDATA.widget[0]&&LDATA.widget[0].show&&setInterval(function(){var a=$.grep(bablic.locales,function(a){var b=LocaleSettings[a.key];return b?!b.hidden:!0});!a.length||1==a.length&&a[0]==originalLocale||$.byId("bablicFlagsWidget").length()||bablic.widgetConf&&!bablic.widgetConf.show||bablic.showFlags(bablic.widgetConf)},1e3),ASYNC_FETCH_OFF||setTimeout(loadAsyncTranslation,1e3);var j=normalizedCurrentPath();bablic.log("hidden time "+hiddenTime),f&&(bablic.log("conf time "+f.confTime),bablic.log("translation time "+f.translationTime)),ping({err:e,shouldHide:b,stats:f,detectedLocale:a,path:j})})}),b&&setTimeout(function(){showPage2()},4e3),bablic.registerKey&&bablic.registerKey(),window.history&&window.history.pushState&&history.pushState.bind){var e=function(){try{var a=LDATA.content,b=LDATA.locale,c=++fetchRevision,d=0;for(var e in new_content)d+=Object.keys(new_content[e]).length;fetchSequence(c,function(e,f,g){if(g&&c==fetchRevision){for(var h in g)h in a&&"__empty__"!=a[h]||(a[h]=g[h]);if(b==LDATA.locale){LDATA.content=a;var i=savedContentNodes;savedContentNodes=[];var j=0;for(var h in new_content)j+=Object.keys(new_content[h]).length;_forceTraverse=j>d,domTraverse($.byTag("html").get(0),bablic.UseInclude),_forceTraverse=!1,mergeContentNodes(i),ping({})}}})}catch(f){bablic.error(f)}},f=history.pushState,g=history.replaceState;bablic.pushState=f.bind(history),bablic.replaceState=g.bind(history);try{history.pushState=function(){if(!LDATA)return f.apply(history,arguments);var a=normalizedCurrentPath(),b=f.apply(history,arguments),c=normalizedCurrentPath();if(a==c)return b;var d=arguments[2];return"string"==typeof d&&e(),b},history.replaceState=function(){if(!LDATA)return f.apply(history,arguments);var a=normalizedCurrentPath(),b=g.apply(history,arguments),c=normalizedCurrentPath();if(a==c)return b;var d=arguments[2];return"string"==typeof d&&e(),b}}catch(h){}}}},parallel=function(a,b){var c=a.length,d=new Array(a.length);if(!a.length)return b(null,d);for(var e=0;e<a.length;e++)!function(e){a[e](function(a,f){return a?(b&&b(a),void(b=null)):(d[e]=f,void(0===--c&&(b&&b(null,d),b=null)))})}(e)},parallelEach=function(a,b,c){return parallel($.map(a,function(a){return function(c){b(a,c)}}),c)};var CLEAN_TEXT=/Google\s+Imagery|BESbewy/i;if(onReady(function(){window.Localize&&turnOffLJZ(),window.google&&window.google.translate&&delete window.google.translate,$.byClass("goog-te-gadget").remove()}),window.Text&&window.Text.prototype&&!window.Text.prototype.getBoundingClientRect){var fakeRect={width:0};window.Text.prototype.getBoundingClientRect=function(){return fakeRect}}}(bablic),onReady(function(){setTimeout(function(){bablic.on("locale",function(){var a=bablic.getLocale();window.$zopim&&window.$zopim.livechat&&$zopim.livechat.setLanguage(a.substr(0,2))})},2e3)}),function(){function a(){var a=bablic.getLocale(),b=$.byTag("form").filter('[action^="/checkout"],[action^="/cart"]');b.each(function(){var b=$(this);if(this.querySelector){var c=this.querySelector('input[name="attributes[language]"]');c?c.setAttribute("value",a):$(b).append('<input type="hidden" name="attributes[language]" value="'+a+'" />')}var d=b.attr("action"),e=parseURL(d),f=e.query?e.query.replace(/locale=[^&]*&?/,""):"?";f+="?"==f[f.length-1]||"&"==f[f.length-1]?"locale="+a.substr(0,2):"&locale="+a.substr(0,2);var g=e.pathname+f;if(d!=g){var h=b.children(".bta-loading");h.length()&&"none"!==h.css("display")||b.attr("action",g)}}),b=$.byTag("form").filter('[action*="account"]'),b.each(function(){var b=this;if("custom"==bablic.locale_detection&&bablic.data&&bablic.data.domain){var c=bablic.data.domain,d=c.indexOf("/");d>-1&&(c=c.substr(0,d));var e=b.getAttribute("action"),f=parseURL(e);e&&f.hostname!=LOC.hostname&&f.hostname==c&&b.setAttribute("action",f.protocol+"//"+LOC.hostname+f.pathname+f.query+f.hash)}if(this.querySelector){var g=this.querySelector("input.bablicCustomerLocale");g?g.setAttribute("value","babl#"+a+"babl#"):$(b).append('<input type="hidden" class="bablicCustomerLocale" name="customer[tags]" value="babl#'+a+'babl#" />')}});var c=$("button[onclick]");c.each(function(){var b=$(this),c=b.attr("onclick"),d=c.replace(/(['"])(\/(?:checkout|cart)\b.*)(['"])/g,function(b,c,d,e){var f=parseURL(d),g=f.query?f.query.replace(/locale=[^&]*&?/,""):"?";return g+="?"==g[g.length-1]||"&"==g[g.length-1]?"locale="+a.substr(0,2):"&locale="+a.substr(0,2),c+f.pathname+g+f.hash+e});d!=c&&b.attr("onclick",d)})}onReady(function(){window.Shopify&&(bablic.on("locale",a),setInterval(a,4e3))})}(),bablic.Site&&!bablic.loaded&&bablic.start(),triggerEvent("load",[bablicDTO()])}}();